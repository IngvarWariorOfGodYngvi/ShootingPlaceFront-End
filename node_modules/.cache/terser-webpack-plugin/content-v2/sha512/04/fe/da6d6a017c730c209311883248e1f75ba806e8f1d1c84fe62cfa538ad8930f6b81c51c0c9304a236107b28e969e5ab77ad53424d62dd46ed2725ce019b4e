{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[31],{\"5e59\":function(e,t,i){\"use strict\";i.r(t);var a=function(){var e=this,t=e._self._c;return t(\"div\",{staticClass:\"full-width rounded\"},[t(\"q-btn\",{staticClass:\"full-width\",attrs:{disable:e.disable,color:\"secondary\"},on:{click:function(t){e.dialog=!0}}},[e._v(\"Pobierz Zaświadczenie o przynależności\\n  \")]),t(\"q-dialog\",{model:{value:e.dialog,callback:function(t){e.dialog=t},expression:\"dialog\"}},[t(\"q-card\",{staticClass:\"bg-dark text-positive\",staticStyle:{width:\"400px\"}},[t(\"q-card-section\",{staticClass:\"row items-center\"},[t(\"div\",{staticClass:\"q-ml-sm full-width text-h5 text-bold text-center\"},[e._v(\"Wybierz zaświadczenie\")])]),t(\"q-card-section\",[t(\"q-select\",{staticClass:\"full-width\",attrs:{\"options-dense\":\"\",dark:e.darkSet(),filled:\"\",\"label-color\":\"positive\",color:\"positive\",\"input-class\":\"text-positive\",\"fill-input\":\"\",\"popup-content-class\":\"bg-dark text-positive\",\"options-selected-class\":\"bg-dark text-positive\",\"options-dark\":e.darkSet(),label:\"Wybierz rodzaj zaświadczenia\",options:e.certificateChoices},model:{value:e.certificateChoice,callback:function(t){e.certificateChoice=t},expression:\"certificateChoice\"}})],1),\"prod\"===e.shootingPlace?t(\"q-card-section\",{staticClass:\"row items-center\"},[e.certificateChoice!==e.certificateChoices[0]&&null!==e.certificateChoice?t(\"q-select\",{staticClass:\"full-width\",attrs:{filled:\"\",color:\"positive\",\"input-class\":\"text-positive\",\"use-input\":\"\",\"hide-selected\":\"\",\"fill-input\":\"\",options:e.cities,\"label-color\":\"positive\",\"popup-content-class\":\"bg-dark text-positive\",label:\"wybierz miasto\"},model:{value:e.city,callback:function(t){e.city=t},expression:\"city\"}}):e._e(),null!=e.certificateChoice?t(\"div\",{staticClass:\"q-pa-md row full-width\"},[e.certificateChoice!==e.certificateChoices[0]?t(\"q-checkbox\",{staticClass:\"col\",attrs:{dense:\"\",value:\"\",label:\"rozszerzenie\"},model:{value:e.toggleEnlargement,callback:function(t){e.toggleEnlargement=t},expression:\"toggleEnlargement\"}}):e._e()],1):e._e()],1):e._e(),t(\"q-card-actions\",{attrs:{align:\"right\"}},[t(\"q-btn\",{directives:[{name:\"close-popup\",rawName:\"v-close-popup\"}],attrs:{label:\"anuluj\",color:\"primary\"},on:{click:function(t){e.certificateChoice=null}}}),e.disable&&e.certificateChoice===e.certificateChoices[0]?t(\"q-tooltip\",{attrs:{\"content-class\":\"text-h6 bg-red\",anchor:\"top middle\",self:\"bottom middle\",offset:[12,12]}},[e._v(\"Brak Możliwości wystawienie zaświadczenia\\n        \")]):e._e(),t(\"q-btn\",{attrs:{color:\"primary\",disable:e.disable&&e.certificateChoice===e.certificateChoices[0],label:\"pobierz\"},on:{click:function(t){e.certificateDownload=!0}}})],1)],1)],1),t(\"q-dialog\",{on:{keypress:function(t){if(!t.type.indexOf(\"key\")&&e._k(t.keyCode,\"enter\",13,t.key,\"Enter\"))return null;e.getDownloadCertificateOfClubMembership(),e.certificateDownload=!1}},model:{value:e.certificateDownload,callback:function(t){e.certificateDownload=t},expression:\"certificateDownload\"}},[t(\"q-card\",{staticClass:\"bg-dark text-positive\"},[t(\"q-card-section\",{staticClass:\"col items-center\"},[t(\"p\",{staticClass:\"q-ml-sm text-h6 text-bold\"},[e._v(\"Pobrać zaświadczenie dla Klubowicza?\")]),t(\"p\",{staticClass:\"q-ml-sm text-h6 text-bold\"},[e._v(\"Pamiętaj aby sprawdzić składki\")])]),t(\"q-card-actions\",{attrs:{align:\"right\"}},[t(\"q-btn\",{directives:[{name:\"close-popup\",rawName:\"v-close-popup\"}],attrs:{\"text-color\":\"white\",label:\"anuluj\",color:\"primary\"},on:{click:function(t){e.certificateChoice=null}}}),t(\"q-btn\",{directives:[{name:\"close-popup\",rawName:\"v-close-popup\"}],attrs:{\"text-color\":\"white\",label:\"Pobierz\",color:\"primary\"},on:{click:function(t){e.getDownloadCertificateOfClubMembership(),e.dialog=!1}}})],1)],1)],1),t(\"q-dialog\",{attrs:{position:\"top\"},model:{value:e.download,callback:function(t){e.download=t},expression:\"download\"}},[t(\"q-card\",[t(\"q-card-section\",[t(\"div\",{staticClass:\"text-h6\"},[e._v(\"Pobrano Zaświadczenie\")])])],1)],1)],1)},o=[],l=(i(\"2b3d\"),i(\"9861\"),i(\"3dfd\")),c=i(\"bc3a\"),s=i.n(c),n={name:\"CertificateClub.vue\",data(){return{download:!1,dialog:!1,shootingPlace:l[\"default\"].shootingPlace,certificateDownload:!1,certificateChoices:\"prod\"===l[\"default\"].shootingPlace?[{label:\"ZAŚWIADCZENIE ZWYKŁE\",disable:!1},{label:\"BROŃ SPORTOWA DO CELÓW SPORTOWYCH\",disable:!1},{label:\"BROŃ SPORTOWA DO CELÓW KOLEKCJONERSKICH\",disable:!1},{label:\"BROŃ CIĘCIWOWA W POSTACI KUSZ\",disable:!1}]:[{label:\"ZAŚWIADCZENIE ZWYKŁE\",disable:!1},{label:\"ZAŚWIADCZENIE DO WPA\",disable:!1}],certificateChoice:null,city:\"Łódź\",cities:[\"Białystok\",\"Bydgoszcz\",\"Gdańsk\",\"Gorzów Wielkopolski\",\"Katowice\",\"Kielce\",\"Kraków\",\"Lublin\",\"Łódź\",\"Olsztyn\",\"Opole\",\"Poznań\",\"Rzeszów\",\"Szczecin\",\"Warszawa\",\"Wrocław\"],toggleEnlargement:!1,local:l[\"default\"].host}},props:{uuid:{type:String,required:!0},name:{type:String,required:!0},disable:{type:Boolean,required:!0,default:!1}},methods:{getDownloadCertificateOfClubMembership(){s()({url:\"http://\"+this.local+\"/files/downloadCertificateOfClubMembership/\"+this.uuid+\"?reason=\"+this.certificateChoice.label+\"&city=\"+this.city+\"&enlargement=\"+this.toggleEnlargement,method:\"GET\",responseType:\"blob\"}).then((e=>{const t=window.URL.createObjectURL(new Blob([e.data])),i=document.createElement(\"a\");i.href=t,i.setAttribute(\"download\",\"Zaświadczenie \"+this.certificateChoice.label+\" \"+this.name+\".pdf\"),document.body.appendChild(i),i.click(),this.certificateChoice=null,this.download=!0,this.toggleEnlargement=!1,this.autoClose()}))},darkSet(){return JSON.parse(window.localStorage.getItem(\"BackgroundDark\"))},autoClose(){setTimeout((()=>{this.download=!1}),2e3)}}},r=n,d=i(\"2877\"),p=i(\"9c40\"),u=i(\"24e8\"),b=i(\"f09f\"),f=i(\"a370\"),h=i(\"ddd8\"),C=i(\"8f8e\"),w=i(\"4b7e\"),m=i(\"05c0\"),g=i(\"7f67\"),k=i(\"eebe\"),v=i.n(k),z=Object(d[\"a\"])(r,a,o,!1,null,\"7250d378\",null);t[\"default\"]=z.exports;v()(z,\"components\",{QBtn:p[\"a\"],QDialog:u[\"a\"],QCard:b[\"a\"],QCardSection:f[\"a\"],QSelect:h[\"a\"],QCheckbox:C[\"a\"],QCardActions:w[\"a\"],QTooltip:m[\"a\"]}),v()(z,\"directives\",{ClosePopup:g[\"a\"]})}}]);","name":"js/31.b7d1a87f.js","input":"(window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || []).push([[31],{\n\n/***/ \"5e59\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// CONCATENATED MODULE: ./node_modules/@quasar/app/lib/webpack/loader.transform-quasar-imports.js!./node_modules/babel-loader/lib??ref--2-0!./node_modules/vue-loader/lib/loaders/templateLoader.js??ref--7!./node_modules/@quasar/app/lib/webpack/loader.auto-import-client.js?kebab!./node_modules/vue-loader/lib??vue-loader-options!./src/components/member/CertificateFile.vue?vue&type=template&id=7250d378&scoped=true&\nvar render = function render() {\n  var _vm = this,\n    _c = _vm._self._c;\n  return _c('div', {\n    staticClass: \"full-width rounded\"\n  }, [_c('q-btn', {\n    staticClass: \"full-width\",\n    attrs: {\n      \"disable\": _vm.disable,\n      \"color\": \"secondary\"\n    },\n    on: {\n      \"click\": function ($event) {\n        _vm.dialog = true;\n      }\n    }\n  }, [_vm._v(\"Pobierz Zaświadczenie o przynależności\\n  \")]), _c('q-dialog', {\n    model: {\n      value: _vm.dialog,\n      callback: function ($$v) {\n        _vm.dialog = $$v;\n      },\n      expression: \"dialog\"\n    }\n  }, [_c('q-card', {\n    staticClass: \"bg-dark text-positive\",\n    staticStyle: {\n      \"width\": \"400px\"\n    }\n  }, [_c('q-card-section', {\n    staticClass: \"row items-center\"\n  }, [_c('div', {\n    staticClass: \"q-ml-sm full-width text-h5 text-bold text-center\"\n  }, [_vm._v(\"Wybierz zaświadczenie\")])]), _c('q-card-section', [_c('q-select', {\n    staticClass: \"full-width\",\n    attrs: {\n      \"options-dense\": \"\",\n      \"dark\": _vm.darkSet(),\n      \"filled\": \"\",\n      \"label-color\": \"positive\",\n      \"color\": \"positive\",\n      \"input-class\": \"text-positive\",\n      \"fill-input\": \"\",\n      \"popup-content-class\": \"bg-dark text-positive\",\n      \"options-selected-class\": \"bg-dark text-positive\",\n      \"options-dark\": _vm.darkSet(),\n      \"label\": \"Wybierz rodzaj zaświadczenia\",\n      \"options\": _vm.certificateChoices\n    },\n    model: {\n      value: _vm.certificateChoice,\n      callback: function ($$v) {\n        _vm.certificateChoice = $$v;\n      },\n      expression: \"certificateChoice\"\n    }\n  })], 1), _vm.shootingPlace === 'prod' ? _c('q-card-section', {\n    staticClass: \"row items-center\"\n  }, [_vm.certificateChoice !== _vm.certificateChoices[0] && _vm.certificateChoice !== null ? _c('q-select', {\n    staticClass: \"full-width\",\n    attrs: {\n      \"filled\": \"\",\n      \"color\": \"positive\",\n      \"input-class\": \"text-positive\",\n      \"use-input\": \"\",\n      \"hide-selected\": \"\",\n      \"fill-input\": \"\",\n      \"options\": _vm.cities,\n      \"label-color\": \"positive\",\n      \"popup-content-class\": \"bg-dark text-positive\",\n      \"label\": \"wybierz miasto\"\n    },\n    model: {\n      value: _vm.city,\n      callback: function ($$v) {\n        _vm.city = $$v;\n      },\n      expression: \"city\"\n    }\n  }) : _vm._e(), _vm.certificateChoice != null ? _c('div', {\n    staticClass: \"q-pa-md row full-width\"\n  }, [_vm.certificateChoice !== _vm.certificateChoices[0 && false] ? _c('q-checkbox', {\n    staticClass: \"col\",\n    attrs: {\n      \"dense\": \"\",\n      \"value\": \"\",\n      \"label\": \"rozszerzenie\"\n    },\n    model: {\n      value: _vm.toggleEnlargement,\n      callback: function ($$v) {\n        _vm.toggleEnlargement = $$v;\n      },\n      expression: \"toggleEnlargement\"\n    }\n  }) : _vm._e()], 1) : _vm._e()], 1) : _vm._e(), _c('q-card-actions', {\n    attrs: {\n      \"align\": \"right\"\n    }\n  }, [_c('q-btn', {\n    directives: [{\n      name: \"close-popup\",\n      rawName: \"v-close-popup\"\n    }],\n    attrs: {\n      \"label\": \"anuluj\",\n      \"color\": \"primary\"\n    },\n    on: {\n      \"click\": function ($event) {\n        _vm.certificateChoice = null;\n      }\n    }\n  }), _vm.disable && _vm.certificateChoice === _vm.certificateChoices[0] ? _c('q-tooltip', {\n    attrs: {\n      \"content-class\": \"text-h6 bg-red\",\n      \"anchor\": \"top middle\",\n      \"self\": \"bottom middle\",\n      \"offset\": [12, 12]\n    }\n  }, [_vm._v(\"Brak Możliwości wystawienie zaświadczenia\\n        \")]) : _vm._e(), _c('q-btn', {\n    attrs: {\n      \"color\": \"primary\",\n      \"disable\": _vm.disable && _vm.certificateChoice === _vm.certificateChoices[0],\n      \"label\": \"pobierz\"\n    },\n    on: {\n      \"click\": function ($event) {\n        _vm.certificateDownload = true;\n      }\n    }\n  })], 1)], 1)], 1), _c('q-dialog', {\n    on: {\n      \"keypress\": function ($event) {\n        if (!$event.type.indexOf('key') && _vm._k($event.keyCode, \"enter\", 13, $event.key, \"Enter\")) return null;\n        _vm.getDownloadCertificateOfClubMembership();\n        _vm.certificateDownload = false;\n      }\n    },\n    model: {\n      value: _vm.certificateDownload,\n      callback: function ($$v) {\n        _vm.certificateDownload = $$v;\n      },\n      expression: \"certificateDownload\"\n    }\n  }, [_c('q-card', {\n    staticClass: \"bg-dark text-positive\"\n  }, [_c('q-card-section', {\n    staticClass: \"col items-center\"\n  }, [_c('p', {\n    staticClass: \"q-ml-sm text-h6 text-bold\"\n  }, [_vm._v(\"Pobrać zaświadczenie dla Klubowicza?\")]), _c('p', {\n    staticClass: \"q-ml-sm text-h6 text-bold\"\n  }, [_vm._v(\"Pamiętaj aby sprawdzić składki\")])]), _c('q-card-actions', {\n    attrs: {\n      \"align\": \"right\"\n    }\n  }, [_c('q-btn', {\n    directives: [{\n      name: \"close-popup\",\n      rawName: \"v-close-popup\"\n    }],\n    attrs: {\n      \"text-color\": \"white\",\n      \"label\": \"anuluj\",\n      \"color\": \"primary\"\n    },\n    on: {\n      \"click\": function ($event) {\n        _vm.certificateChoice = null;\n      }\n    }\n  }), _c('q-btn', {\n    directives: [{\n      name: \"close-popup\",\n      rawName: \"v-close-popup\"\n    }],\n    attrs: {\n      \"text-color\": \"white\",\n      \"label\": \"Pobierz\",\n      \"color\": \"primary\"\n    },\n    on: {\n      \"click\": function ($event) {\n        _vm.getDownloadCertificateOfClubMembership();\n        _vm.dialog = false;\n      }\n    }\n  })], 1)], 1)], 1), _c('q-dialog', {\n    attrs: {\n      \"position\": \"top\"\n    },\n    model: {\n      value: _vm.download,\n      callback: function ($$v) {\n        _vm.download = $$v;\n      },\n      expression: \"download\"\n    }\n  }, [_c('q-card', [_c('q-card-section', [_c('div', {\n    staticClass: \"text-h6\"\n  }, [_vm._v(\"Pobrano Zaświadczenie\")])])], 1)], 1)], 1);\n};\nvar staticRenderFns = [];\n\n// CONCATENATED MODULE: ./src/components/member/CertificateFile.vue?vue&type=template&id=7250d378&scoped=true&\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/web.url.js\nvar web_url = __webpack_require__(\"2b3d\");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/web.url-search-params.js\nvar web_url_search_params = __webpack_require__(\"9861\");\n\n// EXTERNAL MODULE: ./src/App.vue + 4 modules\nvar App = __webpack_require__(\"3dfd\");\n\n// EXTERNAL MODULE: ./node_modules/axios/index.js\nvar axios = __webpack_require__(\"bc3a\");\nvar axios_default = /*#__PURE__*/__webpack_require__.n(axios);\n\n// CONCATENATED MODULE: ./node_modules/@quasar/app/lib/webpack/loader.transform-quasar-imports.js!./node_modules/babel-loader/lib??ref--2-0!./node_modules/@quasar/app/lib/webpack/loader.auto-import-client.js?kebab!./node_modules/vue-loader/lib??vue-loader-options!./src/components/member/CertificateFile.vue?vue&type=script&lang=js&\n\n\n\n\n/* harmony default export */ var CertificateFilevue_type_script_lang_js_ = ({\n  name: 'CertificateClub.vue',\n  data() {\n    return {\n      download: false,\n      dialog: false,\n      shootingPlace: App[\"default\"].shootingPlace,\n      certificateDownload: false,\n      certificateChoices: App[\"default\"].shootingPlace === 'prod' ? [{\n        label: 'ZAŚWIADCZENIE ZWYKŁE',\n        disable: false\n      }, {\n        label: 'BROŃ SPORTOWA DO CELÓW SPORTOWYCH',\n        disable: false\n      }, {\n        label: 'BROŃ SPORTOWA DO CELÓW KOLEKCJONERSKICH',\n        disable: false\n      }, {\n        label: 'BROŃ CIĘCIWOWA W POSTACI KUSZ',\n        disable: false\n      }] : [{\n        label: 'ZAŚWIADCZENIE ZWYKŁE',\n        disable: false\n      }, {\n        label: 'ZAŚWIADCZENIE DO WPA',\n        disable: false\n      }],\n      certificateChoice: null,\n      city: 'Łódź',\n      cities: ['Białystok', 'Bydgoszcz', 'Gdańsk', 'Gorzów Wielkopolski', 'Katowice', 'Kielce', 'Kraków', 'Lublin', 'Łódź', 'Olsztyn', 'Opole', 'Poznań', 'Rzeszów', 'Szczecin', 'Warszawa', 'Wrocław'],\n      toggleEnlargement: false,\n      local: App[\"default\"].host\n    };\n  },\n  props: {\n    uuid: {\n      type: String,\n      required: true\n    },\n    name: {\n      type: String,\n      required: true\n    },\n    disable: {\n      type: Boolean,\n      required: true,\n      default: false\n    }\n  },\n  methods: {\n    getDownloadCertificateOfClubMembership() {\n      axios_default()({\n        url: 'http://' + this.local + '/files/downloadCertificateOfClubMembership/' + this.uuid + '?reason=' + this.certificateChoice.label + '&city=' + this.city + '&enlargement=' + this.toggleEnlargement,\n        method: 'GET',\n        responseType: 'blob'\n      }).then(response => {\n        const fileURL = window.URL.createObjectURL(new Blob([response.data]));\n        const fileLink = document.createElement('a');\n        fileLink.href = fileURL;\n        fileLink.setAttribute('download', 'Zaświadczenie ' + this.certificateChoice.label + ' ' + this.name + '.pdf');\n        document.body.appendChild(fileLink);\n        fileLink.click();\n        this.certificateChoice = null;\n        this.download = true;\n        this.toggleEnlargement = false;\n        this.autoClose();\n      });\n    },\n    darkSet() {\n      return JSON.parse(window.localStorage.getItem('BackgroundDark'));\n    },\n    autoClose() {\n      setTimeout(() => {\n        this.download = false;\n      }, 2000);\n    }\n  }\n});\n// CONCATENATED MODULE: ./src/components/member/CertificateFile.vue?vue&type=script&lang=js&\n /* harmony default export */ var member_CertificateFilevue_type_script_lang_js_ = (CertificateFilevue_type_script_lang_js_); \n// EXTERNAL MODULE: ./node_modules/vue-loader/lib/runtime/componentNormalizer.js\nvar componentNormalizer = __webpack_require__(\"2877\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/btn/QBtn.js\nvar QBtn = __webpack_require__(\"9c40\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/dialog/QDialog.js\nvar QDialog = __webpack_require__(\"24e8\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/card/QCard.js\nvar QCard = __webpack_require__(\"f09f\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/card/QCardSection.js\nvar QCardSection = __webpack_require__(\"a370\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/select/QSelect.js + 1 modules\nvar QSelect = __webpack_require__(\"ddd8\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/checkbox/QCheckbox.js\nvar QCheckbox = __webpack_require__(\"8f8e\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/card/QCardActions.js\nvar QCardActions = __webpack_require__(\"4b7e\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/tooltip/QTooltip.js\nvar QTooltip = __webpack_require__(\"05c0\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/directives/ClosePopup.js\nvar ClosePopup = __webpack_require__(\"7f67\");\n\n// EXTERNAL MODULE: ./node_modules/@quasar/app/lib/webpack/runtime.auto-import.js\nvar runtime_auto_import = __webpack_require__(\"eebe\");\nvar runtime_auto_import_default = /*#__PURE__*/__webpack_require__.n(runtime_auto_import);\n\n// CONCATENATED MODULE: ./src/components/member/CertificateFile.vue\n\n\n\n\n\n/* normalize component */\n\nvar component = Object(componentNormalizer[\"a\" /* default */])(\n  member_CertificateFilevue_type_script_lang_js_,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7250d378\",\n  null\n  \n)\n\n/* harmony default export */ var CertificateFile = __webpack_exports__[\"default\"] = (component.exports);\n\n\n\n\n\n\n\n\n\nruntime_auto_import_default()(component, 'components', {QBtn: QBtn[\"a\" /* default */],QDialog: QDialog[\"a\" /* default */],QCard: QCard[\"a\" /* default */],QCardSection: QCardSection[\"a\" /* default */],QSelect: QSelect[\"a\" /* default */],QCheckbox: QCheckbox[\"a\" /* default */],QCardActions: QCardActions[\"a\" /* default */],QTooltip: QTooltip[\"a\" /* default */]});runtime_auto_import_default()(component, 'directives', {ClosePopup: ClosePopup[\"a\" /* default */]});\n\n\n/***/ })\n\n}]);","inputSourceMap":null}