{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[12],{a05b:function(e,t,s){\"use strict\";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s(\"q-page\",{attrs:{padding:\"\"}},[s(\"div\",[s(\"q-item\",[s(\"div\",{staticClass:\"text-center col full-width no-outline text-h4 text-bold\",attrs:{tabindex:\"0\"}},[e._v(\"Licencje\")])])],1),s(\"q-expansion-item\",{staticClass:\"text-left text-h6 text-bold bg-grey-3\",attrs:{label:\"Licencje nieważne\",dense:\"\",group:\"list\"}},[s(\"q-card\",{staticClass:\"text-body2\"},[s(\"div\",{staticClass:\"row\"},[s(\"div\",{staticClass:\"q-pa-md text-left col full-width no-outline text-h5 text-bold\"},[e._v(\"Ilość osób \"+e._s(e.members2.length))]),e.licenseList.length>0?s(\"div\",{staticClass:\"q-pa-md text-right\"},[s(\"q-btn\",{attrs:{label:\"przedłuż zaznaczone (\"+e.licenseList.length+\")\"},on:{click:function(t){e.memberName=\"WSZYSCY - którzy mają zaznaczone opłacono w PZSS\",e.prolongLicenseAlertAll=!0}}})],1):e._e()]),s(\"q-virtual-scroll\",{staticStyle:{height:\"70vh\"},attrs:{items:e.members2},scopedSlots:e._u([{key:\"default\",fn:function(t){var a=t.item,l=t.index;return[s(\"div\",{key:l,staticClass:\"row\"},[a.license.paid?s(\"q-checkbox\",{attrs:{dense:\"\",val:a.uuid,\"left-label\":\"\"},model:{value:e.licenseList,callback:function(t){e.licenseList=t},expression:\"licenseList\"}},[e._v(e._s(l+1)+\".\")]):s(\"q-checkbox\",{attrs:{dense:\"\",color:\"grey\",disable:\"\",\"left-label\":\"\"}},[e._v(e._s(l+1)+\".\")]),s(\"q-field\",{staticClass:\"col\",attrs:{dense:\"\",color:\"black\",label:\"Nazwisko i Imię\",standout:\"bg-accent text-black\",\"stack-label\":\"\"}},[s(\"div\",[s(\"div\",{staticClass:\"self-center col full-width no-outline row text-black\",attrs:{tabindex:\"1\"}},[e._v(e._s(a.secondName)+\" \"+e._s(a.firstName))])])]),a.active?s(\"q-field\",{staticClass:\"col-2\",attrs:{dense:\"\",color:\"black\",label:\"Status\",standout:\"bg-accent text-black\",\"stack-label\":\"\"}},[s(\"div\",[s(\"div\",{staticClass:\"self-center col full-width no-outline row text-black\",attrs:{tabindex:\"1\"}},[e._v(\"Aktywny\")])])]):e._e(),a.active?e._e():s(\"q-field\",{staticClass:\"col-2 bg-red-3\",attrs:{dense:\"\",color:\"black\",label:\"Status\",standout:\"bg-accent text-black\",\"stack-label\":\"\"}},[s(\"div\",[s(\"div\",{staticClass:\"self-center col full-width no-outline row text-black\",attrs:{tabindex:\"1\"}},[e._v(\"Nieaktywny\")])])]),s(\"q-field\",{staticClass:\"col-1\",attrs:{dense:\"\",label:\"Numer Licencji\",standout:\"bg-accent text-black\",\"stack-label\":\"\"}},[s(\"div\",{staticClass:\"self-center col full-width no-outline row text-black\",attrs:{tabindex:\"1\"}},[e._v(e._s(a.license.number))])]),s(\"q-field\",{staticClass:\"col-2\",attrs:{dense:\"\",label:\"Grupa\",standout:\"bg-accent text-black\",\"stack-label\":\"\"}},[a.adult?s(\"div\",{staticClass:\"self-center col full-width no-outline row text-black\",attrs:{tabindex:\"1\"}},[e._v(\"Grupa Ogólna\")]):e._e(),a.adult?e._e():s(\"div\",{staticClass:\"self-center col full-width no-outline row text-black\",attrs:{tabindex:\"1\"}},[e._v(\"Grupa Młodzieżowa\")])]),s(\"q-field\",{staticClass:\"col-2\",attrs:{dense:\"\",label:\"Ważność licencji\",standout:\"bg-accent text-black\",\"stack-label\":\"\"}},[s(\"div\",[s(\"div\",{staticClass:\"row text-black\",attrs:{tabindex:\"1\"}},[e._v(e._s(e.convertDate(a.license.validThru)))])])]),a.license.paid||a.active?e._e():s(\"q-btn\",{staticClass:\"col-2\",attrs:{dense:\"\",color:\"grey-5\",label:\"opłać licencję\"}},[s(\"q-tooltip\",{attrs:{\"content-class\":\"bg-red text-subtitle2\",anchor:\"top middle\"}},[e._v(\"UREGULUJ SKŁADKI\")])],1),!a.license.paid&&a.active?s(\"q-btn\",{staticClass:\"col-2\",attrs:{dense:\"\",color:\"grey-8\"},on:{click:function(t){e.memberName=a.firstName+a.secondName,e.memberUUID=a.uuid,e.paymentLicenseAlert=!0}}},[e._v(\"opłać licencję\")]):e._e(),a.license.paid?s(\"q-btn\",{staticClass:\"col-2\",attrs:{dense:\"\",color:\"primary\"},on:{click:function(t){e.memberName=a.firstName+a.secondName,e.licensePistolPermission=a.license.pistolPermission,e.licenseRiflePermission=a.license.riflePermission,e.licenseShotgunPermission=a.license.shotgunPermission,e.memberUUID=a.uuid,e.prolongLicenseAlert=!0}}},[e._v(\"przedłuż licencję\")]):e._e()],1)]}}])})],1)],1),s(\"p\"),s(\"q-expansion-item\",{staticClass:\"text-left text-h6 text-bold bg-grey-3\",attrs:{label:\"Licencje ważne\",dense:\"\",group:\"list\"}},[s(\"q-card\",{staticClass:\"text-body2\"},[s(\"div\",{staticClass:\"row\"},[s(\"div\",{staticClass:\"q-pa-md text-left col full-width no-outline text-h5 text-bold\"},[e._v(\"Ilość osób \"+e._s(e.members.length))]),e.licenseList.length>0?s(\"div\",{staticClass:\"q-pa-md text-right\"},[s(\"q-btn\",{attrs:{label:\"przedłuż zaznaczone\"},on:{click:function(t){e.memberName=\"WSZYSCY - którzy mają zaznaczone opłacono w PZSS\",e.prolongLicenseAlertAll=!0}}},[e._v(\"(\"+e._s(e.licenseList.length)+\")\")])],1):e._e()]),s(\"q-virtual-scroll\",{staticStyle:{height:\"600px\"},attrs:{items:e.members},scopedSlots:e._u([{key:\"default\",fn:function(t){var a=t.item,l=t.index;return[s(\"div\",{key:l,staticClass:\"row\",attrs:{dense:\"\"}},[a.license.paid?s(\"q-checkbox\",{attrs:{dense:\"\",val:a.uuid,\"left-label\":\"\"},model:{value:e.licenseList,callback:function(t){e.licenseList=t},expression:\"licenseList\"}},[e._v(e._s(l+1)+\".\")]):s(\"q-checkbox\",{attrs:{dense:\"\",color:\"grey\",disable:\"\",\"left-label\":\"\"}},[e._v(e._s(l+1)+\".\")]),s(\"q-field\",{staticClass:\"col\",attrs:{dense:\"\",label:\"Nazwisko i Imię\",standout:\"bg-accent text-black\",\"stack-label\":\"\"}},[s(\"div\",[s(\"div\",{staticClass:\"self-center col full-width no-outline row text-black\",attrs:{tabindex:\"1\"}},[e._v(e._s(a.secondName)+\" \"+e._s(a.firstName))])])]),a.active?s(\"q-field\",{staticClass:\"col-2\",attrs:{dense:\"\",label:\"Status\",standout:\"bg-accent text-black\",\"stack-label\":\"\"}},[s(\"div\",[s(\"div\",{staticClass:\"row text-black\",attrs:{tabindex:\"1\"}},[e._v(\"Aktywny\")])])]):e._e(),a.active?e._e():s(\"q-field\",{staticClass:\"col-2 bg-red-3\",attrs:{dense:\"\",label:\"Status\",standout:\"bg-accent text-black\",\"stack-label\":\"\"}},[s(\"div\",[s(\"div\",{staticClass:\"row text-black\",attrs:{tabindex:\"1\"}},[e._v(\"Nieaktywny\")])])]),s(\"q-field\",{staticClass:\"col-1\",attrs:{dense:\"\",label:\"Numer Licencji\",standout:\"bg-accent text-black\",\"stack-label\":\"\"}},[s(\"div\",{staticClass:\"self-center col full-width no-outline row text-black\",attrs:{tabindex:\"1\"}},[e._v(e._s(a.license.number))])]),s(\"q-field\",{staticClass:\"col-2\",attrs:{dense:\"\",label:\"Grupa\",standout:\"bg-accent text-black\",\"stack-label\":\"\"}},[a.adult?s(\"div\",{staticClass:\"self-center col full-width no-outline row text-black\",attrs:{tabindex:\"1\"}},[e._v(\"Grupa Ogólna\")]):e._e(),a.adult?e._e():s(\"div\",{staticClass:\"self-center col full-width no-outline row text-black\",attrs:{tabindex:\"1\"}},[e._v(\"Grupa Młodzieżowa\")])]),s(\"q-field\",{staticClass:\"col-2\",attrs:{dense:\"\",label:\"Ważność licencji\",standout:\"bg-accent text-black\",\"stack-label\":\"\"}},[s(\"div\",[s(\"div\",{staticClass:\"self-center col full-width no-outline row text-black\",attrs:{tabindex:\"1\"}},[e._v(e._s(e.convertDate(a.license.validThru)))])])]),a.license.paid||a.active?e._e():s(\"q-btn\",{staticClass:\"col-2\",attrs:{dense:\"\",color:\"grey-5\",label:\"opłać licencję\"}},[s(\"q-tooltip\",{attrs:{\"content-class\":\"bg-red text-subtitle2\",anchor:\"top middle\"}},[e._v(\"UREGULUJ SKŁADKI\")])],1),!a.license.paid&&a.active?s(\"q-btn\",{staticClass:\"col-2\",attrs:{dense:\"\",color:\"grey-8\"},on:{click:function(t){e.memberName=a.firstName+a.secondName,e.memberUUID=a.uuid,e.paymentLicenseAlert=!0}}},[e._v(\"opłać licencję\")]):e._e(),a.license.paid?s(\"q-btn\",{staticClass:\"col-2\",attrs:{dense:\"\",color:\"primary\"},on:{click:function(t){e.memberName=a.firstName+a.secondName,e.licensePistolPermission=a.license.pistolPermission,e.licenseRiflePermission=a.license.riflePermission,e.licenseShotgunPermission=a.license.shotgunPermission,e.memberUUID=a.uuid,e.prolongLicenseAlert=!0}}},[e._v(\"przedłuż licencję\")]):e._e()],1)]}}])})],1)],1),s(\"p\"),s(\"q-expansion-item\",{staticClass:\"text-left text-h6 text-bold bg-grey-3\",attrs:{label:\"Licencje do opłacenia w PZSS\",dense:\"\",group:\"list\"}},[s(\"q-card\",{staticClass:\"text-body2\"},[s(\"div\",{staticClass:\"row\"},[s(\"div\",{staticClass:\"q-pa-md text-left col full-width no-outline text-h5 text-bold\"},[e._v(\"Ilość osób \"+e._s(e.quantitySumLicensePayment.length))]),e.payPZSSList.length>0?s(\"div\",{staticClass:\"q-pa-md text-right\"},[s(\"q-btn\",{attrs:{label:\"Oznacz wybrane jako opłacone w pzss\"},on:{click:function(t){e.paymentLicenseAlertPZSS=!0}}},[e._v(\"(\"+e._s(e.payPZSSList.length)+\")\")])],1):e._e()]),s(\"q-virtual-scroll\",{staticStyle:{height:\"600px\"},attrs:{items:e.quantitySumLicensePayment},scopedSlots:e._u([{key:\"default\",fn:function(t){var a=t.item,l=t.index;return[s(\"div\",{key:l,staticClass:\"row\",attrs:{dense:\"\"}},[s(\"q-checkbox\",{attrs:{dense:\"\",val:a.paymentUuid,\"left-label\":\"\"},model:{value:e.payPZSSList,callback:function(t){e.payPZSSList=t},expression:\"payPZSSList\"}},[e._v(e._s(l+1)+\".\")]),s(\"q-field\",{staticClass:\"col\",attrs:{dense:\"\",label:\"Nazwisko i Imię\",standout:\"bg-accent text-black\",\"stack-label\":\"\"}},[s(\"div\",[s(\"div\",{staticClass:\"self-center col full-width no-outline row text-black\",attrs:{tabindex:\"1\"}},[e._v(e._s(a.firstName)+\" \"+e._s(a.secondName))])])]),s(\"q-field\",{staticClass:\"col-2\",attrs:{dense:\"\",label:\"Grupa\",standout:\"bg-accent text-black\",\"stack-label\":\"\"}},[a.adult?s(\"div\",{staticClass:\"self-center col full-width no-outline row text-black\",attrs:{tabindex:\"1\"}},[e._v(\"Grupa Ogólna\")]):e._e(),a.adult?e._e():s(\"div\",{staticClass:\"self-center col full-width no-outline row text-black\",attrs:{tabindex:\"1\"}},[e._v(\"Grupa Młodzieżowa\")])]),a.active?s(\"q-field\",{staticClass:\"col\",attrs:{dense:\"\",label:\"Status\",standout:\"bg-accent text-black\",\"stack-label\":\"\"}},[s(\"div\",[s(\"div\",{staticClass:\"self-center col full-width no-outline row text-black\",attrs:{tabindex:\"1\"}},[e._v(\"Aktywny\")])])]):e._e(),a.active?e._e():s(\"q-field\",{staticClass:\"col bg-red-3\",attrs:{dense:\"\",label:\"Status\",standout:\"bg-accent text-black\",\"stack-label\":\"\"}},[s(\"div\",[s(\"div\",{staticClass:\"self-center col full-width no-outline row text-black\",attrs:{tabindex:\"1\"}},[e._v(\"Nieaktywny\")])])]),s(\"q-field\",{staticClass:\"col-2\",attrs:{dense:\"\",label:\"Data wpłaty\",standout:\"bg-accent text-black\",\"stack-label\":\"\"}},[s(\"div\",[s(\"div\",{staticClass:\"self-center col full-width no-outline row text-black\",attrs:{tabindex:\"1\"}},[e._v(e._s(a.date))])])]),s(\"q-field\",{staticClass:\"col-2\",attrs:{dense:\"\",label:\"Na Rok\",standout:\"bg-accent text-black\",\"stack-label\":\"\"}},[s(\"div\",{staticClass:\"self-center col full-width no-outline row text-black\",attrs:{tabindex:\"1\"}},[e._v(e._s(a.validForYear))])]),a.new?e._e():s(\"q-field\",{staticClass:\"col-2\",attrs:{dense:\"\",label:\"Rodzaj\",standout:\"bg-accent text-black\",\"stack-label\":\"\"}},[s(\"div\",{staticClass:\"row text-black\",attrs:{tabindex:\"1\"}},[e._v(\"Przedłużenie\")])]),a.new?s(\"q-field\",{staticClass:\"col-2 bg-warning\",attrs:{dense:\"\",label:\"Rodzaj\",standout:\"bg-acceny text-black\",\"stack-label\":\"\"}},[s(\"div\",{staticClass:\"row text-black\",attrs:{tabindex:\"1\"}},[e._v(\"Nowa\")])]):e._e()],1)]}}])})],1)],1),s(\"q-dialog\",{model:{value:e.paymentLicenseAlert,callback:function(t){e.paymentLicenseAlert=t},expression:\"paymentLicenseAlert\"}},[s(\"q-card\",[s(\"q-card-section\",[s(\"div\",{staticClass:\"text-h6\"},[e._v(\"Czy opłacić licencję \"+e._s(e.memberName))])]),s(\"q-card-actions\",{attrs:{align:\"right\"}},[s(\"q-btn\",{directives:[{name:\"close-popup\",rawName:\"v-close-popup\"}],attrs:{flat:\"\",label:\"anuluj\",color:\"primary\"}}),s(\"q-btn\",{directives:[{name:\"close-popup\",rawName:\"v-close-popup\"}],attrs:{flat:\"\",label:\"Opłać\",color:\"primary\"},on:{click:function(t){e.showloading(),e.addLicenseHistoryPayment(e.memberUUID)}}})],1)],1)],1),s(\"q-dialog\",{model:{value:e.paymentLicenseAlertPZSS,callback:function(t){e.paymentLicenseAlertPZSS=t},expression:\"paymentLicenseAlertPZSS\"}},[s(\"q-card\",[s(\"q-card-section\",[s(\"div\",{staticClass:\"text-h6\"},[e._v(\"Czy opłacić licencje\")])]),s(\"q-card-actions\",{attrs:{align:\"right\"}},[s(\"q-btn\",{directives:[{name:\"close-popup\",rawName:\"v-close-popup\"}],attrs:{flat:\"\",label:\"anuluj\",color:\"primary\"}}),s(\"q-btn\",{directives:[{name:\"close-popup\",rawName:\"v-close-popup\"}],attrs:{flat:\"\",label:\"Opłać\",color:\"primary\"},on:{click:function(t){e.pinWindowPZSS=!0}}})],1)],1)],1),s(\"q-dialog\",{model:{value:e.prolongLicenseAlert,callback:function(t){e.prolongLicenseAlert=t},expression:\"prolongLicenseAlert\"}},[s(\"q-card\",[s(\"q-card-section\",[s(\"div\",{staticClass:\"text-h6\"},[e._v(\"Czy przedłużyć licencję \"+e._s(e.memberName))])]),s(\"q-card-actions\",{attrs:{align:\"right\"}},[s(\"q-btn\",{directives:[{name:\"close-popup\",rawName:\"v-close-popup\"}],attrs:{flat:\"\",label:\"anuluj\",color:\"primary\"}}),s(\"q-btn\",{directives:[{name:\"close-popup\",rawName:\"v-close-popup\"}],attrs:{flat:\"\",label:\"Przedłuż\",color:\"primary\"},on:{click:function(t){e.showloading(),e.prolongLicense(e.memberUUID,e.licensePistolPermission,e.licenseRiflePermission,e.licenseShotgunPermission)}}})],1)],1)],1),s(\"q-dialog\",{on:{keypress:function(t){if(!t.type.indexOf(\"key\")&&e._k(t.keyCode,\"enter\",13,t.key,\"Enter\"))return null;e.pinWindow=!0,e.prolongLicenseAlertAll=!1}},model:{value:e.prolongLicenseAlertAll,callback:function(t){e.prolongLicenseAlertAll=t},expression:\"prolongLicenseAlertAll\"}},[s(\"q-card\",[s(\"q-card-section\",[s(\"div\",{staticClass:\"text-h6\"},[e._v(\"Czy przedłużyć licencję \"+e._s(e.memberName))])]),s(\"q-card-actions\",{attrs:{align:\"right\"}},[s(\"q-btn\",{directives:[{name:\"close-popup\",rawName:\"v-close-popup\"}],attrs:{flat:\"\",label:\"anuluj\",color:\"primary\"}}),s(\"q-btn\",{directives:[{name:\"close-popup\",rawName:\"v-close-popup\"}],attrs:{flat:\"\",label:\"Przedłuż\",color:\"primary\"},on:{click:function(t){e.pinWindow=!0}}})],1)],1)],1),s(\"q-dialog\",{attrs:{position:\"top\"},model:{value:e.failure,callback:function(t){e.failure=t},expression:\"failure\"}},[s(\"q-card\",[s(\"q-card-section\",[null!=e.message?s(\"div\",{staticClass:\"text-h6\"},[e._v(e._s(e.message))]):s(\"div\",{staticClass:\"text-h6\"},[e._v(\"Nie można wykonać żądania. Sprawdź poprawność danych.\")])])],1)],1),s(\"q-dialog\",{attrs:{position:\"top\"},model:{value:e.success,callback:function(t){e.success=t},expression:\"success\"}},[s(\"q-card\",[s(\"q-card-section\",[null!=e.message?s(\"div\",{staticClass:\"text-h6\"},[e._v(e._s(e.message))]):e._e()])],1)],1),s(\"q-dialog\",{attrs:{persistent:\"\"},model:{value:e.pinWindow,callback:function(t){e.pinWindow=t},expression:\"pinWindow\"}},[s(\"q-card\",{staticClass:\"bg-red-5 text-center\"},[s(\"q-card-section\",{staticClass:\"flex-center\"},[s(\"h3\",[s(\"span\",{staticClass:\"q-ml-sm\"},[e._v(\"Wprowadź kod potwierdzający\")])]),s(\"q-input\",{staticClass:\"bg-yellow text-bold\",attrs:{autofocus:\"\",type:\"password\",filled:\"\",color:\"Yellow\",mask:\"####\"},on:{keypress:function(t){if(!t.type.indexOf(\"key\")&&e._k(t.keyCode,\"enter\",13,t.key,\"Enter\"))return null;e.prolongLicenseList(),e.pinWindow=!1}},model:{value:e.pinCode,callback:function(t){e.pinCode=t},expression:\"pinCode\"}})],1),s(\"q-card-actions\",{attrs:{align:\"right\"}},[s(\"q-btn\",{directives:[{name:\"close-popup\",rawName:\"v-close-popup\"}],attrs:{label:\"anuluj\",color:\"black\"},on:{click:function(t){e.pinCode=null}}}),s(\"q-btn\",{directives:[{name:\"close-popup\",rawName:\"v-close-popup\"}],attrs:{label:\"Przedłuż\",color:\"black\"},on:{click:function(t){e.prolongLicenseList(),e.pinCode=null}}})],1)],1)],1),s(\"q-dialog\",{attrs:{persistent:\"\"},model:{value:e.pinWindowPZSS,callback:function(t){e.pinWindowPZSS=t},expression:\"pinWindowPZSS\"}},[s(\"q-card\",{staticClass:\"bg-red-5 text-center\"},[s(\"q-card-section\",{staticClass:\"flex-center\"},[s(\"h3\",[s(\"span\",{staticClass:\"q-ml-sm\"},[e._v(\"Wprowadź kod potwierdzający\")])]),s(\"q-input\",{staticClass:\"bg-yellow text-bold\",attrs:{autofocus:\"\",type:\"password\",filled:\"\",color:\"Yellow\",mask:\"####\"},on:{keypress:function(t){if(!t.type.indexOf(\"key\")&&e._k(t.keyCode,\"enter\",13,t.key,\"Enter\"))return null;e.toggleHistoryPayment(),e.pinWindowPZSS=!1}},model:{value:e.pinCode,callback:function(t){e.pinCode=t},expression:\"pinCode\"}})],1),s(\"q-card-actions\",{attrs:{align:\"right\"}},[s(\"q-btn\",{directives:[{name:\"close-popup\",rawName:\"v-close-popup\"}],attrs:{label:\"anuluj\",color:\"black\"},on:{click:function(t){e.pinCode=null}}}),s(\"q-btn\",{directives:[{name:\"close-popup\",rawName:\"v-close-popup\"}],attrs:{label:\"Przedłuż\",color:\"black\"},on:{click:function(t){e.toggleHistoryPayment(),e.pinCode=null}}})],1)],1)],1)],1)},l=[],i=s(\"3dfd\"),n={data(){return{members:[],members2:[],success:!1,failure:!1,message:null,licensePistolPermission:!1,licenseRiflePermission:!1,licenseShotgunPermission:!1,prolongLicenseAlert:!1,prolongLicenseAlertAll:!1,paymentLicenseAlert:!1,memberName:null,memberUUID:null,licenseList:[],quantitySumLicensePayment:[],payPZSSList:[],pinCode:null,pinWindow:!1,pinWindowPZSS:!1,paymentLicenseAlertPZSS:!1,local:i[\"a\"].host}},created(){this.getMembersWithLicense(),this.getMembersWithLicenseNotValid(),this.getAllLicencePayment()},methods:{showloading(){this.$q.loading.show({message:\"Dzieje się coś ważnego... Poczekaj\"}),this.timer=setTimeout((()=>{this.$q.loading.hide(),this.timer=0}),1e3)},convertDate(e){const t=new Date(e);let s=t.getMonth()+1,a=t.getDate();a<10&&(a=\"0\"+a),s+1<10&&(s=\"0\"+(s+1));const l=a+\"-\"+s+\"-\"+t.getFullYear();return l},getMembersWithLicense(){fetch(\"http://\"+this.local+\"/license/membersWithNotValidLicense\",{method:\"GET\"}).then((e=>e.json())).then((e=>{this.members2=e}))},getMembersWithLicenseNotValid(){fetch(\"http://\"+this.local+\"/license/membersWithValidLicense\",{method:\"GET\"}).then((e=>e.json())).then((e=>{this.members=e}))},getAllLicencePayment(){fetch(\"http://\"+this.local+\"/license/allLicencePayment\",{method:\"GET\"}).then((e=>e.json())).then((e=>{this.quantitySumLicensePayment=e}))},prolongLicense(e,t,s,a){const l={pistolPermission:t,riflePermission:s,shotgunPermission:a};fetch(\"http://\"+this.local+\"/license/\"+e,{method:\"PATCH\",body:JSON.stringify(l),headers:{\"Content-Type\":\"application/json\"}}).then((e=>{200===e.status?e.json().then((e=>{this.success=!0,this.message=e,this.licensePistolPermission=!1,this.licenseRiflePermission=!1,this.licenseShotgunPermission=!1,this.getMembersWithLicense(),this.getMembersWithLicenseNotValid(),this.autoClose()})):e.json().then((e=>{this.message=e,this.failure=!0,this.autoClose()}))}))},prolongLicenseList(){fetch(\"http://\"+this.local+\"/license/prolongAll?licenseList=\"+this.licenseList+\"&pinCode=\"+this.pinCode,{method:\"PATCH\",headers:{\"Content-Type\":\"application/json\"}}).then((e=>{200===e.status?e.json().then((e=>{this.success=!0,this.message=e,this.licensePistolPermission=!1,this.licenseRiflePermission=!1,this.licenseShotgunPermission=!1,this.licenseList=[],this.getMembersWithLicense(),this.getMembersWithLicenseNotValid(),this.autoClose()})):e.json().then((e=>{this.message=e,this.failure=!0,this.autoClose()}))}))},addLicenseHistoryPayment(e){fetch(\"http://\"+this.local+\"/license/history/\"+e,{method:\"PUT\",headers:{\"Content-Type\":\"application/json\"}}).then((e=>{200===e.status?e.json().then((e=>{this.message=e,this.success=!0,this.getMembersWithLicense(),this.getMembersWithLicenseNotValid(),this.getAllLicencePayment(),this.autoClose()})):e.json().then((e=>{this.message=e,this.failure=!0,this.autoClose()}))}))},toggleHistoryPayment(){fetch(\"http://\"+this.local+\"/license/paymentToggleArray?paymentUUIDs=\"+this.payPZSSList+\"&pinCode=\"+this.pinCode,{method:\"PATCH\",headers:{\"Content-Type\":\"application/json\"}}).then((e=>{200===e.status?e.json().then((e=>{this.message=e,this.success=!0,this.payPZSSList=[],this.getMembersWithLicense(),this.getMembersWithLicenseNotValid(),this.getAllLicencePayment(),this.showloading(),this.autoClose()})):e.json().then((e=>{this.message=e,this.failure=!0,this.autoClose()}))}))},autoClose(){setTimeout((()=>{this.success=!1,this.failure=!1,this.message=null,this.pinCode=null}),2e3)}},name:\"otherFunction\"},c=n,o=s(\"2877\"),r=s(\"9989\"),d=s(\"66e5\"),u=s(\"3b73\"),p=s(\"f09f\"),b=s(\"9c40\"),m=s(\"a12b\"),h=s(\"8f8e\"),f=s(\"8572\"),v=s(\"05c0\"),g=s(\"24e8\"),k=s(\"a370\"),x=s(\"4b7e\"),y=s(\"27f9\"),C=s(\"7f67\"),w=s(\"eebe\"),_=s.n(w),q=Object(o[\"a\"])(c,a,l,!1,null,null,null);t[\"default\"]=q.exports;_()(q,\"components\",{QPage:r[\"a\"],QItem:d[\"a\"],QExpansionItem:u[\"a\"],QCard:p[\"a\"],QBtn:b[\"a\"],QVirtualScroll:m[\"a\"],QCheckbox:h[\"a\"],QField:f[\"a\"],QTooltip:v[\"a\"],QDialog:g[\"a\"],QCardSection:k[\"a\"],QCardActions:x[\"a\"],QInput:y[\"a\"]}),_()(q,\"directives\",{ClosePopup:C[\"a\"]})}}]);","name":"js/12.698dd6de.js","input":"(window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || []).push([[12],{\n\n/***/ \"a05b\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@quasar/app/lib/webpack/loader.auto-import-client.js?kebab!./node_modules/vue-loader/lib??vue-loader-options!./src/pages/license.vue?vue&type=template&id=e6d6bf66&\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('q-page',{attrs:{\"padding\":\"\"}},[_c('div',[_c('q-item',[_c('div',{staticClass:\"text-center col full-width no-outline text-h4 text-bold\",attrs:{\"tabindex\":\"0\"}},[_vm._v(\"Licencje\")])])],1),_c('q-expansion-item',{staticClass:\"text-left text-h6 text-bold bg-grey-3\",attrs:{\"label\":\"Licencje nieważne\",\"dense\":\"\",\"group\":\"list\"}},[_c('q-card',{staticClass:\"text-body2\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"q-pa-md text-left col full-width no-outline text-h5 text-bold\"},[_vm._v(\"Ilość osób \"+_vm._s(_vm.members2.length))]),(_vm.licenseList.length>0)?_c('div',{staticClass:\"q-pa-md text-right\"},[_c('q-btn',{attrs:{\"label\":'przedłuż zaznaczone (' + _vm.licenseList.length + ')'},on:{\"click\":function($event){_vm.memberName='WSZYSCY - którzy mają zaznaczone opłacono w PZSS', _vm.prolongLicenseAlertAll=true}}})],1):_vm._e()]),_c('q-virtual-scroll',{staticStyle:{\"height\":\"70vh\"},attrs:{\"items\":_vm.members2},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar item = ref.item;\nvar index = ref.index;\nreturn [_c('div',{key:index,staticClass:\"row\"},[(item.license.paid)?_c('q-checkbox',{attrs:{\"dense\":\"\",\"val\":item.uuid,\"left-label\":\"\"},model:{value:(_vm.licenseList),callback:function ($$v) {_vm.licenseList=$$v},expression:\"licenseList\"}},[_vm._v(_vm._s(index+1)+\".\")]):_c('q-checkbox',{attrs:{\"dense\":\"\",\"color\":\"grey\",\"disable\":\"\",\"left-label\":\"\"}},[_vm._v(_vm._s(index+1)+\".\")]),_c('q-field',{staticClass:\"col\",attrs:{\"dense\":\"\",\"color\":\"black\",\"label\":\"Nazwisko i Imię\",\"standout\":\"bg-accent text-black\",\"stack-label\":\"\"}},[_c('div',[_c('div',{staticClass:\"self-center col full-width no-outline row text-black\",attrs:{\"tabindex\":\"1\"}},[_vm._v(_vm._s(item.secondName)+\" \"+_vm._s(item.firstName))])])]),(item.active)?_c('q-field',{staticClass:\"col-2\",attrs:{\"dense\":\"\",\"color\":\"black\",\"label\":\"Status\",\"standout\":\"bg-accent text-black\",\"stack-label\":\"\"}},[_c('div',[_c('div',{staticClass:\"self-center col full-width no-outline row text-black\",attrs:{\"tabindex\":\"1\"}},[_vm._v(\"Aktywny\")])])]):_vm._e(),(!item.active)?_c('q-field',{staticClass:\"col-2 bg-red-3\",attrs:{\"dense\":\"\",\"color\":\"black\",\"label\":\"Status\",\"standout\":\"bg-accent text-black\",\"stack-label\":\"\"}},[_c('div',[_c('div',{staticClass:\"self-center col full-width no-outline row text-black\",attrs:{\"tabindex\":\"1\"}},[_vm._v(\"Nieaktywny\")])])]):_vm._e(),_c('q-field',{staticClass:\"col-1\",attrs:{\"dense\":\"\",\"label\":\"Numer Licencji\",\"standout\":\"bg-accent text-black\",\"stack-label\":\"\"}},[_c('div',{staticClass:\"self-center col full-width no-outline row text-black\",attrs:{\"tabindex\":\"1\"}},[_vm._v(_vm._s(item.license.number))])]),_c('q-field',{staticClass:\"col-2\",attrs:{\"dense\":\"\",\"label\":\"Grupa\",\"standout\":\"bg-accent text-black\",\"stack-label\":\"\"}},[(item.adult)?_c('div',{staticClass:\"self-center col full-width no-outline row text-black\",attrs:{\"tabindex\":\"1\"}},[_vm._v(\"Grupa Ogólna\")]):_vm._e(),(!item.adult)?_c('div',{staticClass:\"self-center col full-width no-outline row text-black\",attrs:{\"tabindex\":\"1\"}},[_vm._v(\"Grupa Młodzieżowa\")]):_vm._e()]),_c('q-field',{staticClass:\"col-2\",attrs:{\"dense\":\"\",\"label\":\"Ważność licencji\",\"standout\":\"bg-accent text-black\",\"stack-label\":\"\"}},[_c('div',[_c('div',{staticClass:\"row text-black\",attrs:{\"tabindex\":\"1\"}},[_vm._v(_vm._s(_vm.convertDate (item.license.validThru)))])])]),(!item.license.paid && !item.active)?_c('q-btn',{staticClass:\"col-2\",attrs:{\"dense\":\"\",\"color\":\"grey-5\",\"label\":\"opłać licencję\"}},[_c('q-tooltip',{attrs:{\"content-class\":\"bg-red text-subtitle2\",\"anchor\":\"top middle\"}},[_vm._v(\"UREGULUJ SKŁADKI\")])],1):_vm._e(),(!item.license.paid && item.active)?_c('q-btn',{staticClass:\"col-2\",attrs:{\"dense\":\"\",\"color\":\"grey-8\"},on:{\"click\":function($event){_vm.memberName = item.firstName + item.secondName,_vm.memberUUID = item.uuid,_vm.paymentLicenseAlert = true}}},[_vm._v(\"opłać licencję\")]):_vm._e(),(item.license.paid)?_c('q-btn',{staticClass:\"col-2\",attrs:{\"dense\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){_vm.memberName = item.firstName + item.secondName ,_vm.licensePistolPermission = item.license.pistolPermission, _vm.licenseRiflePermission = item.license.riflePermission, _vm.licenseShotgunPermission = item.license.shotgunPermission,_vm.memberUUID = item.uuid, _vm.prolongLicenseAlert = true}}},[_vm._v(\"przedłuż licencję\")]):_vm._e()],1)]}}])})],1)],1),_c('p'),_c('q-expansion-item',{staticClass:\"text-left text-h6 text-bold bg-grey-3\",attrs:{\"label\":\"Licencje ważne\",\"dense\":\"\",\"group\":\"list\"}},[_c('q-card',{staticClass:\"text-body2\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"q-pa-md text-left col full-width no-outline text-h5 text-bold\"},[_vm._v(\"Ilość osób \"+_vm._s(_vm.members.length))]),(_vm.licenseList.length>0)?_c('div',{staticClass:\"q-pa-md text-right\"},[_c('q-btn',{attrs:{\"label\":\"przedłuż zaznaczone\"},on:{\"click\":function($event){_vm.memberName='WSZYSCY - którzy mają zaznaczone opłacono w PZSS', _vm.prolongLicenseAlertAll=true}}},[_vm._v(\"(\"+_vm._s(_vm.licenseList.length)+\")\")])],1):_vm._e()]),_c('q-virtual-scroll',{staticStyle:{\"height\":\"600px\"},attrs:{\"items\":_vm.members},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar item = ref.item;\nvar index = ref.index;\nreturn [_c('div',{key:index,staticClass:\"row\",attrs:{\"dense\":\"\"}},[(item.license.paid)?_c('q-checkbox',{attrs:{\"dense\":\"\",\"val\":item.uuid,\"left-label\":\"\"},model:{value:(_vm.licenseList),callback:function ($$v) {_vm.licenseList=$$v},expression:\"licenseList\"}},[_vm._v(_vm._s(index+1)+\".\")]):_c('q-checkbox',{attrs:{\"dense\":\"\",\"color\":\"grey\",\"disable\":\"\",\"left-label\":\"\"}},[_vm._v(_vm._s(index+1)+\".\")]),_c('q-field',{staticClass:\"col\",attrs:{\"dense\":\"\",\"label\":\"Nazwisko i Imię\",\"standout\":\"bg-accent text-black\",\"stack-label\":\"\"}},[_c('div',[_c('div',{staticClass:\"self-center col full-width no-outline row text-black\",attrs:{\"tabindex\":\"1\"}},[_vm._v(_vm._s(item.secondName)+\" \"+_vm._s(item.firstName))])])]),(item.active)?_c('q-field',{staticClass:\"col-2\",attrs:{\"dense\":\"\",\"label\":\"Status\",\"standout\":\"bg-accent text-black\",\"stack-label\":\"\"}},[_c('div',[_c('div',{staticClass:\"row text-black\",attrs:{\"tabindex\":\"1\"}},[_vm._v(\"Aktywny\")])])]):_vm._e(),(!item.active)?_c('q-field',{staticClass:\"col-2 bg-red-3\",attrs:{\"dense\":\"\",\"label\":\"Status\",\"standout\":\"bg-accent text-black\",\"stack-label\":\"\"}},[_c('div',[_c('div',{staticClass:\"row text-black\",attrs:{\"tabindex\":\"1\"}},[_vm._v(\"Nieaktywny\")])])]):_vm._e(),_c('q-field',{staticClass:\"col-1\",attrs:{\"dense\":\"\",\"label\":\"Numer Licencji\",\"standout\":\"bg-accent text-black\",\"stack-label\":\"\"}},[_c('div',{staticClass:\"self-center col full-width no-outline row text-black\",attrs:{\"tabindex\":\"1\"}},[_vm._v(_vm._s(item.license.number))])]),_c('q-field',{staticClass:\"col-2\",attrs:{\"dense\":\"\",\"label\":\"Grupa\",\"standout\":\"bg-accent text-black\",\"stack-label\":\"\"}},[(item.adult)?_c('div',{staticClass:\"self-center col full-width no-outline row text-black\",attrs:{\"tabindex\":\"1\"}},[_vm._v(\"Grupa Ogólna\")]):_vm._e(),(!item.adult)?_c('div',{staticClass:\"self-center col full-width no-outline row text-black\",attrs:{\"tabindex\":\"1\"}},[_vm._v(\"Grupa Młodzieżowa\")]):_vm._e()]),_c('q-field',{staticClass:\"col-2\",attrs:{\"dense\":\"\",\"label\":\"Ważność licencji\",\"standout\":\"bg-accent text-black\",\"stack-label\":\"\"}},[_c('div',[_c('div',{staticClass:\"self-center col full-width no-outline row text-black\",attrs:{\"tabindex\":\"1\"}},[_vm._v(_vm._s(_vm.convertDate (item.license.validThru)))])])]),(!item.license.paid && !item.active)?_c('q-btn',{staticClass:\"col-2\",attrs:{\"dense\":\"\",\"color\":\"grey-5\",\"label\":\"opłać licencję\"}},[_c('q-tooltip',{attrs:{\"content-class\":\"bg-red text-subtitle2\",\"anchor\":\"top middle\"}},[_vm._v(\"UREGULUJ SKŁADKI\")])],1):_vm._e(),(!item.license.paid && item.active)?_c('q-btn',{staticClass:\"col-2\",attrs:{\"dense\":\"\",\"color\":\"grey-8\"},on:{\"click\":function($event){_vm.memberName = item.firstName + item.secondName,_vm.memberUUID = item.uuid,_vm.paymentLicenseAlert = true}}},[_vm._v(\"opłać licencję\")]):_vm._e(),(item.license.paid)?_c('q-btn',{staticClass:\"col-2\",attrs:{\"dense\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){_vm.memberName = item.firstName + item.secondName ,_vm.licensePistolPermission = item.license.pistolPermission, _vm.licenseRiflePermission = item.license.riflePermission, _vm.licenseShotgunPermission = item.license.shotgunPermission,_vm.memberUUID = item.uuid, _vm.prolongLicenseAlert = true}}},[_vm._v(\"przedłuż licencję\")]):_vm._e()],1)]}}])})],1)],1),_c('p'),_c('q-expansion-item',{staticClass:\"text-left text-h6 text-bold bg-grey-3\",attrs:{\"label\":\"Licencje do opłacenia w PZSS\",\"dense\":\"\",\"group\":\"list\"}},[_c('q-card',{staticClass:\"text-body2\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"q-pa-md text-left col full-width no-outline text-h5 text-bold\"},[_vm._v(\"Ilość osób \"+_vm._s(_vm.quantitySumLicensePayment.length))]),(_vm.payPZSSList.length>0)?_c('div',{staticClass:\"q-pa-md text-right\"},[_c('q-btn',{attrs:{\"label\":\"Oznacz wybrane jako opłacone w pzss\"},on:{\"click\":function($event){_vm.paymentLicenseAlertPZSS=true}}},[_vm._v(\"(\"+_vm._s(_vm.payPZSSList.length)+\")\")])],1):_vm._e()]),_c('q-virtual-scroll',{staticStyle:{\"height\":\"600px\"},attrs:{\"items\":_vm.quantitySumLicensePayment},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar item = ref.item;\nvar index = ref.index;\nreturn [_c('div',{key:index,staticClass:\"row\",attrs:{\"dense\":\"\"}},[_c('q-checkbox',{attrs:{\"dense\":\"\",\"val\":item.paymentUuid,\"left-label\":\"\"},model:{value:(_vm.payPZSSList),callback:function ($$v) {_vm.payPZSSList=$$v},expression:\"payPZSSList\"}},[_vm._v(_vm._s(index+1)+\".\")]),_c('q-field',{staticClass:\"col\",attrs:{\"dense\":\"\",\"label\":\"Nazwisko i Imię\",\"standout\":\"bg-accent text-black\",\"stack-label\":\"\"}},[_c('div',[_c('div',{staticClass:\"self-center col full-width no-outline row text-black\",attrs:{\"tabindex\":\"1\"}},[_vm._v(_vm._s(item.firstName)+\" \"+_vm._s(item.secondName))])])]),_c('q-field',{staticClass:\"col-2\",attrs:{\"dense\":\"\",\"label\":\"Grupa\",\"standout\":\"bg-accent text-black\",\"stack-label\":\"\"}},[(item.adult)?_c('div',{staticClass:\"self-center col full-width no-outline row text-black\",attrs:{\"tabindex\":\"1\"}},[_vm._v(\"Grupa Ogólna\")]):_vm._e(),(!item.adult)?_c('div',{staticClass:\"self-center col full-width no-outline row text-black\",attrs:{\"tabindex\":\"1\"}},[_vm._v(\"Grupa Młodzieżowa\")]):_vm._e()]),(item.active)?_c('q-field',{staticClass:\"col\",attrs:{\"dense\":\"\",\"label\":\"Status\",\"standout\":\"bg-accent text-black\",\"stack-label\":\"\"}},[_c('div',[_c('div',{staticClass:\"self-center col full-width no-outline row text-black\",attrs:{\"tabindex\":\"1\"}},[_vm._v(\"Aktywny\")])])]):_vm._e(),(!item.active)?_c('q-field',{staticClass:\"col bg-red-3\",attrs:{\"dense\":\"\",\"label\":\"Status\",\"standout\":\"bg-accent text-black\",\"stack-label\":\"\"}},[_c('div',[_c('div',{staticClass:\"self-center col full-width no-outline row text-black\",attrs:{\"tabindex\":\"1\"}},[_vm._v(\"Nieaktywny\")])])]):_vm._e(),_c('q-field',{staticClass:\"col-2\",attrs:{\"dense\":\"\",\"label\":\"Data wpłaty\",\"standout\":\"bg-accent text-black\",\"stack-label\":\"\"}},[_c('div',[_c('div',{staticClass:\"self-center col full-width no-outline row text-black\",attrs:{\"tabindex\":\"1\"}},[_vm._v(_vm._s(item.date))])])]),_c('q-field',{staticClass:\"col-2\",attrs:{\"dense\":\"\",\"label\":\"Na Rok\",\"standout\":\"bg-accent text-black\",\"stack-label\":\"\"}},[_c('div',{staticClass:\"self-center col full-width no-outline row text-black\",attrs:{\"tabindex\":\"1\"}},[_vm._v(_vm._s(item.validForYear))])]),(!item.new)?_c('q-field',{staticClass:\"col-2\",attrs:{\"dense\":\"\",\"label\":\"Rodzaj\",\"standout\":\"bg-accent text-black\",\"stack-label\":\"\"}},[_c('div',{staticClass:\"row text-black\",attrs:{\"tabindex\":\"1\"}},[_vm._v(\"Przedłużenie\")])]):_vm._e(),(item.new)?_c('q-field',{staticClass:\"col-2 bg-warning\",attrs:{\"dense\":\"\",\"label\":\"Rodzaj\",\"standout\":\"bg-acceny text-black\",\"stack-label\":\"\"}},[_c('div',{staticClass:\"row text-black\",attrs:{\"tabindex\":\"1\"}},[_vm._v(\"Nowa\")])]):_vm._e()],1)]}}])})],1)],1),_c('q-dialog',{model:{value:(_vm.paymentLicenseAlert),callback:function ($$v) {_vm.paymentLicenseAlert=$$v},expression:\"paymentLicenseAlert\"}},[_c('q-card',[_c('q-card-section',[_c('div',{staticClass:\"text-h6\"},[_vm._v(\"Czy opłacić licencję \"+_vm._s(_vm.memberName))])]),_c('q-card-actions',{attrs:{\"align\":\"right\"}},[_c('q-btn',{directives:[{name:\"close-popup\",rawName:\"v-close-popup\"}],attrs:{\"flat\":\"\",\"label\":\"anuluj\",\"color\":\"primary\"}}),_c('q-btn',{directives:[{name:\"close-popup\",rawName:\"v-close-popup\"}],attrs:{\"flat\":\"\",\"label\":\"Opłać\",\"color\":\"primary\"},on:{\"click\":function($event){_vm.showloading (),_vm.addLicenseHistoryPayment (_vm.memberUUID)}}})],1)],1)],1),_c('q-dialog',{model:{value:(_vm.paymentLicenseAlertPZSS),callback:function ($$v) {_vm.paymentLicenseAlertPZSS=$$v},expression:\"paymentLicenseAlertPZSS\"}},[_c('q-card',[_c('q-card-section',[_c('div',{staticClass:\"text-h6\"},[_vm._v(\"Czy opłacić licencje\")])]),_c('q-card-actions',{attrs:{\"align\":\"right\"}},[_c('q-btn',{directives:[{name:\"close-popup\",rawName:\"v-close-popup\"}],attrs:{\"flat\":\"\",\"label\":\"anuluj\",\"color\":\"primary\"}}),_c('q-btn',{directives:[{name:\"close-popup\",rawName:\"v-close-popup\"}],attrs:{\"flat\":\"\",\"label\":\"Opłać\",\"color\":\"primary\"},on:{\"click\":function($event){_vm.pinWindowPZSS = true}}})],1)],1)],1),_c('q-dialog',{model:{value:(_vm.prolongLicenseAlert),callback:function ($$v) {_vm.prolongLicenseAlert=$$v},expression:\"prolongLicenseAlert\"}},[_c('q-card',[_c('q-card-section',[_c('div',{staticClass:\"text-h6\"},[_vm._v(\"Czy przedłużyć licencję \"+_vm._s(_vm.memberName))])]),_c('q-card-actions',{attrs:{\"align\":\"right\"}},[_c('q-btn',{directives:[{name:\"close-popup\",rawName:\"v-close-popup\"}],attrs:{\"flat\":\"\",\"label\":\"anuluj\",\"color\":\"primary\"}}),_c('q-btn',{directives:[{name:\"close-popup\",rawName:\"v-close-popup\"}],attrs:{\"flat\":\"\",\"label\":\"Przedłuż\",\"color\":\"primary\"},on:{\"click\":function($event){_vm.showloading (),_vm.prolongLicense (_vm.memberUUID, _vm.licensePistolPermission, _vm.licenseRiflePermission, _vm.licenseShotgunPermission)}}})],1)],1)],1),_c('q-dialog',{on:{\"keypress\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }_vm.pinWindow=true, _vm.prolongLicenseAlertAll=false}},model:{value:(_vm.prolongLicenseAlertAll),callback:function ($$v) {_vm.prolongLicenseAlertAll=$$v},expression:\"prolongLicenseAlertAll\"}},[_c('q-card',[_c('q-card-section',[_c('div',{staticClass:\"text-h6\"},[_vm._v(\"Czy przedłużyć licencję \"+_vm._s(_vm.memberName))])]),_c('q-card-actions',{attrs:{\"align\":\"right\"}},[_c('q-btn',{directives:[{name:\"close-popup\",rawName:\"v-close-popup\"}],attrs:{\"flat\":\"\",\"label\":\"anuluj\",\"color\":\"primary\"}}),_c('q-btn',{directives:[{name:\"close-popup\",rawName:\"v-close-popup\"}],attrs:{\"flat\":\"\",\"label\":\"Przedłuż\",\"color\":\"primary\"},on:{\"click\":function($event){_vm.pinWindow=true}}})],1)],1)],1),_c('q-dialog',{attrs:{\"position\":'top'},model:{value:(_vm.failure),callback:function ($$v) {_vm.failure=$$v},expression:\"failure\"}},[_c('q-card',[_c('q-card-section',[(_vm.message!=null)?_c('div',{staticClass:\"text-h6\"},[_vm._v(_vm._s(_vm.message))]):_c('div',{staticClass:\"text-h6\"},[_vm._v(\"Nie można wykonać żądania. Sprawdź poprawność danych.\")])])],1)],1),_c('q-dialog',{attrs:{\"position\":'top'},model:{value:(_vm.success),callback:function ($$v) {_vm.success=$$v},expression:\"success\"}},[_c('q-card',[_c('q-card-section',[(_vm.message!=null)?_c('div',{staticClass:\"text-h6\"},[_vm._v(_vm._s(_vm.message))]):_vm._e()])],1)],1),_c('q-dialog',{attrs:{\"persistent\":\"\"},model:{value:(_vm.pinWindow),callback:function ($$v) {_vm.pinWindow=$$v},expression:\"pinWindow\"}},[_c('q-card',{staticClass:\"bg-red-5 text-center\"},[_c('q-card-section',{staticClass:\"flex-center\"},[_c('h3',[_c('span',{staticClass:\"q-ml-sm\"},[_vm._v(\"Wprowadź kod potwierdzający\")])]),_c('q-input',{staticClass:\"bg-yellow text-bold\",attrs:{\"autofocus\":\"\",\"type\":\"password\",\"filled\":\"\",\"color\":\"Yellow\",\"mask\":\"####\"},on:{\"keypress\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }_vm.prolongLicenseList(),_vm.pinWindow=false}},model:{value:(_vm.pinCode),callback:function ($$v) {_vm.pinCode=$$v},expression:\"pinCode\"}})],1),_c('q-card-actions',{attrs:{\"align\":\"right\"}},[_c('q-btn',{directives:[{name:\"close-popup\",rawName:\"v-close-popup\"}],attrs:{\"label\":\"anuluj\",\"color\":\"black\"},on:{\"click\":function($event){_vm.pinCode=null}}}),_c('q-btn',{directives:[{name:\"close-popup\",rawName:\"v-close-popup\"}],attrs:{\"label\":\"Przedłuż\",\"color\":\"black\"},on:{\"click\":function($event){_vm.prolongLicenseList(), _vm.pinCode=null}}})],1)],1)],1),_c('q-dialog',{attrs:{\"persistent\":\"\"},model:{value:(_vm.pinWindowPZSS),callback:function ($$v) {_vm.pinWindowPZSS=$$v},expression:\"pinWindowPZSS\"}},[_c('q-card',{staticClass:\"bg-red-5 text-center\"},[_c('q-card-section',{staticClass:\"flex-center\"},[_c('h3',[_c('span',{staticClass:\"q-ml-sm\"},[_vm._v(\"Wprowadź kod potwierdzający\")])]),_c('q-input',{staticClass:\"bg-yellow text-bold\",attrs:{\"autofocus\":\"\",\"type\":\"password\",\"filled\":\"\",\"color\":\"Yellow\",\"mask\":\"####\"},on:{\"keypress\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }_vm.toggleHistoryPayment(),_vm.pinWindowPZSS=false}},model:{value:(_vm.pinCode),callback:function ($$v) {_vm.pinCode=$$v},expression:\"pinCode\"}})],1),_c('q-card-actions',{attrs:{\"align\":\"right\"}},[_c('q-btn',{directives:[{name:\"close-popup\",rawName:\"v-close-popup\"}],attrs:{\"label\":\"anuluj\",\"color\":\"black\"},on:{\"click\":function($event){_vm.pinCode=null}}}),_c('q-btn',{directives:[{name:\"close-popup\",rawName:\"v-close-popup\"}],attrs:{\"label\":\"Przedłuż\",\"color\":\"black\"},on:{\"click\":function($event){_vm.toggleHistoryPayment(), _vm.pinCode=null}}})],1)],1)],1)],1)}\nvar staticRenderFns = []\n\n\n// CONCATENATED MODULE: ./src/pages/license.vue?vue&type=template&id=e6d6bf66&\n\n// EXTERNAL MODULE: ./src/App.vue + 4 modules\nvar App = __webpack_require__(\"3dfd\");\n\n// CONCATENATED MODULE: ./node_modules/@quasar/app/lib/webpack/loader.transform-quasar-imports.js!./node_modules/babel-loader/lib??ref--2-0!./node_modules/@quasar/app/lib/webpack/loader.auto-import-client.js?kebab!./node_modules/vue-loader/lib??vue-loader-options!./src/pages/license.vue?vue&type=script&lang=js&\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var licensevue_type_script_lang_js_ = ({\n  data() {\n    return {\n      members: [],\n      members2: [],\n      success: false,\n      failure: false,\n      message: null,\n      licensePistolPermission: false,\n      licenseRiflePermission: false,\n      licenseShotgunPermission: false,\n      prolongLicenseAlert: false,\n      prolongLicenseAlertAll: false,\n      paymentLicenseAlert: false,\n      memberName: null,\n      memberUUID: null,\n      licenseList: [],\n      quantitySumLicensePayment: [],\n      payPZSSList: [],\n      pinCode: null,\n      pinWindow: false,\n      pinWindowPZSS: false,\n      paymentLicenseAlertPZSS: false,\n      local: App[\"a\" /* default */].host\n    };\n  },\n\n  created() {\n    this.getMembersWithLicense();\n    this.getMembersWithLicenseNotValid();\n    this.getAllLicencePayment();\n  },\n\n  methods: {\n    showloading() {\n      this.$q.loading.show({\n        message: 'Dzieje się coś ważnego... Poczekaj'\n      });\n      this.timer = setTimeout(() => {\n        this.$q.loading.hide();\n        this.timer = 0;\n      }, 1000);\n    },\n\n    convertDate(date) {\n      const current = new Date(date);\n      let month = current.getMonth() + 1;\n      let day = current.getDate();\n\n      if (day < 10) {\n        day = '0' + day;\n      }\n\n      if (month + 1 < 10) {\n        month = '0' + (month + 1);\n      }\n\n      const formattedDate = day + '-' + month + '-' + current.getFullYear();\n      return formattedDate;\n    },\n\n    getMembersWithLicense() {\n      fetch('http://' + this.local + '/license/membersWithNotValidLicense', {\n        method: 'GET'\n      }).then(response => response.json()).then(response => {\n        this.members2 = response;\n      });\n    },\n\n    getMembersWithLicenseNotValid() {\n      fetch('http://' + this.local + '/license/membersWithValidLicense', {\n        method: 'GET'\n      }).then(response => response.json()).then(members => {\n        this.members = members;\n      });\n    },\n\n    getAllLicencePayment() {\n      fetch('http://' + this.local + '/license/allLicencePayment', {\n        method: 'GET'\n      }).then(response => response.json()).then(response => {\n        this.quantitySumLicensePayment = response;\n      });\n    },\n\n    prolongLicense(uuid, licensePistolPermission, licenseRiflePermission, licenseShotgunPermission) {\n      const data = {\n        pistolPermission: licensePistolPermission,\n        riflePermission: licenseRiflePermission,\n        shotgunPermission: licenseShotgunPermission\n      };\n      fetch('http://' + this.local + '/license/' + uuid, {\n        method: 'PATCH',\n        body: JSON.stringify(data),\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      }).then(response => {\n        if (response.status === 200) {\n          response.json().then(response => {\n            this.success = true;\n            this.message = response;\n            this.licensePistolPermission = false;\n            this.licenseRiflePermission = false;\n            this.licenseShotgunPermission = false;\n            this.getMembersWithLicense();\n            this.getMembersWithLicenseNotValid();\n            this.autoClose();\n          });\n        } else {\n          response.json().then(response => {\n            this.message = response;\n            this.failure = true;\n            this.autoClose();\n          });\n        }\n      });\n    },\n\n    prolongLicenseList() {\n      fetch('http://' + this.local + '/license/prolongAll?licenseList=' + this.licenseList + '&pinCode=' + this.pinCode, {\n        method: 'PATCH',\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      }).then(response => {\n        if (response.status === 200) {\n          response.json().then(response => {\n            this.success = true;\n            this.message = response;\n            this.licensePistolPermission = false;\n            this.licenseRiflePermission = false;\n            this.licenseShotgunPermission = false;\n            this.licenseList = [];\n            this.getMembersWithLicense();\n            this.getMembersWithLicenseNotValid();\n            this.autoClose();\n          });\n        } else {\n          response.json().then(response => {\n            this.message = response;\n            this.failure = true;\n            this.autoClose();\n          });\n        }\n      });\n    },\n\n    addLicenseHistoryPayment(uuid) {\n      fetch('http://' + this.local + '/license/history/' + uuid, {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      }).then(response => {\n        if (response.status === 200) {\n          response.json().then(response => {\n            this.message = response;\n            this.success = true;\n            this.getMembersWithLicense();\n            this.getMembersWithLicenseNotValid();\n            this.getAllLicencePayment();\n            this.autoClose();\n          });\n        } else {\n          response.json().then(response => {\n            this.message = response;\n            this.failure = true;\n            this.autoClose();\n          });\n        }\n      });\n    },\n\n    toggleHistoryPayment() {\n      fetch('http://' + this.local + '/license/paymentToggleArray?paymentUUIDs=' + this.payPZSSList + '&pinCode=' + this.pinCode, {\n        method: 'PATCH',\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      }).then(response => {\n        if (response.status === 200) {\n          response.json().then(response => {\n            this.message = response;\n            this.success = true;\n            this.payPZSSList = [];\n            this.getMembersWithLicense();\n            this.getMembersWithLicenseNotValid();\n            this.getAllLicencePayment();\n            this.showloading();\n            this.autoClose();\n          });\n        } else {\n          response.json().then(response => {\n            this.message = response;\n            this.failure = true;\n            this.autoClose();\n          });\n        }\n      });\n    },\n\n    autoClose() {\n      setTimeout(() => {\n        this.success = false;\n        this.failure = false;\n        this.message = null;\n        this.pinCode = null;\n      }, 2000);\n    }\n\n  },\n  name: 'otherFunction'\n});\n// CONCATENATED MODULE: ./src/pages/license.vue?vue&type=script&lang=js&\n /* harmony default export */ var pages_licensevue_type_script_lang_js_ = (licensevue_type_script_lang_js_); \n// EXTERNAL MODULE: ./node_modules/vue-loader/lib/runtime/componentNormalizer.js\nvar componentNormalizer = __webpack_require__(\"2877\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/page/QPage.js\nvar QPage = __webpack_require__(\"9989\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/item/QItem.js\nvar QItem = __webpack_require__(\"66e5\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/expansion-item/QExpansionItem.js + 1 modules\nvar QExpansionItem = __webpack_require__(\"3b73\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/card/QCard.js\nvar QCard = __webpack_require__(\"f09f\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/btn/QBtn.js\nvar QBtn = __webpack_require__(\"9c40\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/virtual-scroll/QVirtualScroll.js + 2 modules\nvar QVirtualScroll = __webpack_require__(\"a12b\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/checkbox/QCheckbox.js\nvar QCheckbox = __webpack_require__(\"8f8e\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/field/QField.js + 3 modules\nvar QField = __webpack_require__(\"8572\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/tooltip/QTooltip.js\nvar QTooltip = __webpack_require__(\"05c0\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/dialog/QDialog.js\nvar QDialog = __webpack_require__(\"24e8\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/card/QCardSection.js\nvar QCardSection = __webpack_require__(\"a370\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/card/QCardActions.js\nvar QCardActions = __webpack_require__(\"4b7e\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/input/QInput.js + 1 modules\nvar QInput = __webpack_require__(\"27f9\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/directives/ClosePopup.js\nvar ClosePopup = __webpack_require__(\"7f67\");\n\n// EXTERNAL MODULE: ./node_modules/@quasar/app/lib/webpack/runtime.auto-import.js\nvar runtime_auto_import = __webpack_require__(\"eebe\");\nvar runtime_auto_import_default = /*#__PURE__*/__webpack_require__.n(runtime_auto_import);\n\n// CONCATENATED MODULE: ./src/pages/license.vue\n\n\n\n\n\n/* normalize component */\n\nvar component = Object(componentNormalizer[\"a\" /* default */])(\n  pages_licensevue_type_script_lang_js_,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* harmony default export */ var license = __webpack_exports__[\"default\"] = (component.exports);\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nruntime_auto_import_default()(component, 'components', {QPage: QPage[\"a\" /* default */],QItem: QItem[\"a\" /* default */],QExpansionItem: QExpansionItem[\"a\" /* default */],QCard: QCard[\"a\" /* default */],QBtn: QBtn[\"a\" /* default */],QVirtualScroll: QVirtualScroll[\"a\" /* default */],QCheckbox: QCheckbox[\"a\" /* default */],QField: QField[\"a\" /* default */],QTooltip: QTooltip[\"a\" /* default */],QDialog: QDialog[\"a\" /* default */],QCardSection: QCardSection[\"a\" /* default */],QCardActions: QCardActions[\"a\" /* default */],QInput: QInput[\"a\" /* default */]});runtime_auto_import_default()(component, 'directives', {ClosePopup: ClosePopup[\"a\" /* default */]});\n\n\n/***/ })\n\n}]);","inputSourceMap":null}