{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[26],{7964:function(t,e,a){\"use strict\";a.r(e);var i=function(){var t=this,e=t._self._c;return t.mobile?t._e():e(\"div\",{staticClass:\"q-pa-sm\"},[t.quantities[8]>0?e(\"q-item-label\",{staticClass:\"text-bold text-white self-center text-center\",attrs:{dense:\"\",caption:\"\"}},[e(\"q-icon\",{staticClass:\"pulse\",attrs:{name:\"warning\",color:\"warning\",size:\"1.5em\"}}),t._v(\"Nieopłaconych licencji :\\n    \"+t._s(t.quantities[8])+\" \"),e(\"q-icon\",{staticClass:\"pulse\",attrs:{name:\"warning\",color:\"warning\",size:\"1.5em\"}})],1):t._e(),e(\"q-item-label\",{staticClass:\"text-bold text-white xyz1\",staticStyle:{cursor:\"pointer\"},attrs:{dense:\"\",caption:\"\"},on:{dblclick:function(e){t.legitimationNumber=t.number,t.memberDial=!0}}},[e(\"Tooltip2clickToShow\"),t._v(\"\\n    Najwyższy numer legitymacji : \"+t._s(t.number)+\"\\n  \")],1),e(\"q-item-label\",{staticClass:\"text-bold text-white\",attrs:{dense:\"\",caption:\"\"}},[t._v(\"Licencje ważne : \"+t._s(t.quantities[1])+\"\\n  \")]),e(\"q-item-label\",{staticClass:\"text-bold text-white\",attrs:{dense:\"\",caption:\"\"}},[t._v(\"Licencje nieważne : \"+t._s(t.quantities[2])+\"\\n  \")]),e(\"q-item-label\",{staticClass:\"text-bold text-white\",attrs:{dense:\"\",caption:\"\"}},[t._v(\"Klubowiczów ogółem :\\n    \"+t._s(t.quantities[0]+t.quantities[3])+\" (\"+t._s(t.quantities[0])+\" + \"+t._s(t.quantities[3])+\")\\n  \")]),e(\"q-item-label\",{staticClass:\"text-bold text-white\",attrs:{dense:\"\",caption:\"\"}},[t._v(\"Zapisów w aktualnym roku : \"+t._s(t.members)+\"\\n  \")]),e(\"q-item-label\",{staticClass:\"text-bold text-white\",attrs:{dense:\"\",caption:\"\"}},[t._v(\"Nowych licencji w aktualnym roku :\\n    \"+t._s(t.quantities[9])+\"\\n  \")]),t.visible?e(\"q-item-label\",{staticClass:\"text-bold text-white\",attrs:{dense:\"\",caption:\"\"}},[t._v(\"Program ważny do :\\n    \"+t._s(t.date)+\"\\n  \")]):t._e(),e(\"q-dialog\",{model:{value:t.memberDial,callback:function(e){t.memberDial=e},expression:\"memberDial\"}},[e(\"q-card\",{staticClass:\"bg-dark\",staticStyle:{\"min-width\":\"80vw\"}},[e(\"q-card-section\",{staticClass:\"flex-center\"},[e(\"Member\",{attrs:{\"member-number-legitimation\":t.legitimationNumber}})],1),e(\"q-card-actions\",{attrs:{align:\"right\"}},[e(\"q-btn\",{directives:[{name:\"close-popup\",rawName:\"v-close-popup\"}],attrs:{label:\"zamknij\",color:\"primary\"}})],1)],1)],1)],1)},s=[],n=a(\"3dfd\"),l=a(\"a8bc\"),o=a(\"d6c6\"),c={name:\"membersQuantities\",created(){this.check()},components:{Member:Object(l[\"a\"])({componentFactory:()=>Promise.all([a.e(0),a.e(1)]).then(a.bind(null,\"d95e\")),loading:o[\"a\"]}),Tooltip2clickToShow:Object(l[\"a\"])({componentFactory:()=>a.e(1).then(a.bind(null,\"8857\")),loading:o[\"a\"]})},data(){return{quantities:[],date:null,visible:!1,members:\"\",number:\"\",memberDial:!1,legitimationNumber:null,mobile:n[\"default\"].mobile,local:n[\"default\"].host}},methods:{getNumber(){fetch(`${this.local}/statistics/maxLegNumber`,{method:\"GET\"}).then((t=>t.json())).then((t=>{this.number=t}))},getMembersQuantity(){fetch(`${this.local}/statistics/membersQuantity`,{method:\"GET\",headers:{\"Content-Type\":\"application/json\"}}).then((t=>t.json())).then((t=>{this.quantities=t}))},getActualYearMemberCounts(){fetch(`${this.local}/statistics/actualYearMemberCounts`,{method:\"GET\",headers:{\"Content-Type\":\"application/json\"}}).then((t=>t.json())).then((t=>{this.members=t}))},check(){this.getMembersQuantity(),this.getActualYearMemberCounts(),this.getNumber(),this.date=window.localStorage.getItem(\"licenseDate\");const t=new Date(this.date),e=new Date;t.setMonth(t.getMonth()-3),this.visible=e.getTime()>t.getTime(),setInterval((()=>{this.getNumber(),this.getMembersQuantity(),this.getActualYearMemberCounts(),this.date=window.localStorage.getItem(\"licenseDate\")}),3e5)}}},r=c,m=a(\"2877\"),b=a(\"0170\"),u=a(\"0016\"),d=a(\"24e8\"),h=a(\"f09f\"),p=a(\"a370\"),w=a(\"4b7e\"),g=a(\"9c40\"),q=a(\"7f67\"),C=a(\"eebe\"),_=a.n(C),x=Object(m[\"a\"])(r,i,s,!1,null,null,null);e[\"default\"]=x.exports;_()(x,\"components\",{QItemLabel:b[\"a\"],QIcon:u[\"a\"],QDialog:d[\"a\"],QCard:h[\"a\"],QCardSection:p[\"a\"],QCardActions:w[\"a\"],QBtn:g[\"a\"]}),_()(x,\"directives\",{ClosePopup:q[\"a\"]})}}]);","name":"js/26.9588578b.js","input":"(window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || []).push([[26],{\n\n/***/ \"7964\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// CONCATENATED MODULE: ./node_modules/@quasar/app/lib/webpack/loader.transform-quasar-imports.js!./node_modules/babel-loader/lib??ref--2-0!./node_modules/vue-loader/lib/loaders/templateLoader.js??ref--7!./node_modules/@quasar/app/lib/webpack/loader.auto-import-client.js?kebab!./node_modules/vue-loader/lib??vue-loader-options!./src/components/leftDrawer/MembersQuantities.vue?vue&type=template&id=1bd116d1&\nvar render = function render() {\n  var _vm = this,\n    _c = _vm._self._c;\n  return !_vm.mobile ? _c('div', {\n    staticClass: \"q-pa-sm\"\n  }, [_vm.quantities[8] > 0 ? _c('q-item-label', {\n    staticClass: \"text-bold text-white self-center text-center\",\n    attrs: {\n      \"dense\": \"\",\n      \"caption\": \"\"\n    }\n  }, [_c('q-icon', {\n    staticClass: \"pulse\",\n    attrs: {\n      \"name\": \"warning\",\n      \"color\": \"warning\",\n      \"size\": \"1.5em\"\n    }\n  }), _vm._v(\"Nieopłaconych licencji :\\n    \" + _vm._s(_vm.quantities[8]) + \" \"), _c('q-icon', {\n    staticClass: \"pulse\",\n    attrs: {\n      \"name\": \"warning\",\n      \"color\": \"warning\",\n      \"size\": \"1.5em\"\n    }\n  })], 1) : _vm._e(), _c('q-item-label', {\n    staticClass: \"text-bold text-white xyz1\",\n    staticStyle: {\n      \"cursor\": \"pointer\"\n    },\n    attrs: {\n      \"dense\": \"\",\n      \"caption\": \"\"\n    },\n    on: {\n      \"dblclick\": function ($event) {\n        _vm.legitimationNumber = _vm.number;\n        _vm.memberDial = true;\n      }\n    }\n  }, [_c('Tooltip2clickToShow'), _vm._v(\"\\n    Najwyższy numer legitymacji : \" + _vm._s(_vm.number) + \"\\n  \")], 1), _c('q-item-label', {\n    staticClass: \"text-bold text-white\",\n    attrs: {\n      \"dense\": \"\",\n      \"caption\": \"\"\n    }\n  }, [_vm._v(\"Licencje ważne : \" + _vm._s(_vm.quantities[1]) + \"\\n  \")]), _c('q-item-label', {\n    staticClass: \"text-bold text-white\",\n    attrs: {\n      \"dense\": \"\",\n      \"caption\": \"\"\n    }\n  }, [_vm._v(\"Licencje nieważne : \" + _vm._s(_vm.quantities[2]) + \"\\n  \")]), _c('q-item-label', {\n    staticClass: \"text-bold text-white\",\n    attrs: {\n      \"dense\": \"\",\n      \"caption\": \"\"\n    }\n  }, [_vm._v(\"Klubowiczów ogółem :\\n    \" + _vm._s(_vm.quantities[0] + _vm.quantities[3]) + \" (\" + _vm._s(_vm.quantities[0]) + \" + \" + _vm._s(_vm.quantities[3]) + \")\\n  \")]), _c('q-item-label', {\n    staticClass: \"text-bold text-white\",\n    attrs: {\n      \"dense\": \"\",\n      \"caption\": \"\"\n    }\n  }, [_vm._v(\"Zapisów w aktualnym roku : \" + _vm._s(_vm.members) + \"\\n  \")]), _c('q-item-label', {\n    staticClass: \"text-bold text-white\",\n    attrs: {\n      \"dense\": \"\",\n      \"caption\": \"\"\n    }\n  }, [_vm._v(\"Nowych licencji w aktualnym roku :\\n    \" + _vm._s(_vm.quantities[9]) + \"\\n  \")]), _vm.visible ? _c('q-item-label', {\n    staticClass: \"text-bold text-white\",\n    attrs: {\n      \"dense\": \"\",\n      \"caption\": \"\"\n    }\n  }, [_vm._v(\"Program ważny do :\\n    \" + _vm._s(_vm.date) + \"\\n  \")]) : _vm._e(), _c('q-dialog', {\n    model: {\n      value: _vm.memberDial,\n      callback: function ($$v) {\n        _vm.memberDial = $$v;\n      },\n      expression: \"memberDial\"\n    }\n  }, [_c('q-card', {\n    staticClass: \"bg-dark\",\n    staticStyle: {\n      \"min-width\": \"80vw\"\n    }\n  }, [_c('q-card-section', {\n    staticClass: \"flex-center\"\n  }, [_c('Member', {\n    attrs: {\n      \"member-number-legitimation\": _vm.legitimationNumber\n    }\n  })], 1), _c('q-card-actions', {\n    attrs: {\n      \"align\": \"right\"\n    }\n  }, [_c('q-btn', {\n    directives: [{\n      name: \"close-popup\",\n      rawName: \"v-close-popup\"\n    }],\n    attrs: {\n      \"label\": \"zamknij\",\n      \"color\": \"primary\"\n    }\n  })], 1)], 1)], 1)], 1) : _vm._e();\n};\nvar staticRenderFns = [];\n\n// CONCATENATED MODULE: ./src/components/leftDrawer/MembersQuantities.vue?vue&type=template&id=1bd116d1&\n\n// EXTERNAL MODULE: ./src/App.vue + 4 modules\nvar App = __webpack_require__(\"3dfd\");\n\n// EXTERNAL MODULE: ./src/utils/lazyLoadComponent.js\nvar lazyLoadComponent = __webpack_require__(\"a8bc\");\n\n// EXTERNAL MODULE: ./src/utils/SkeletonBox.vue + 4 modules\nvar SkeletonBox = __webpack_require__(\"d6c6\");\n\n// CONCATENATED MODULE: ./node_modules/@quasar/app/lib/webpack/loader.transform-quasar-imports.js!./node_modules/babel-loader/lib??ref--2-0!./node_modules/@quasar/app/lib/webpack/loader.auto-import-client.js?kebab!./node_modules/vue-loader/lib??vue-loader-options!./src/components/leftDrawer/MembersQuantities.vue?vue&type=script&lang=js&\n\n\n\n/* harmony default export */ var MembersQuantitiesvue_type_script_lang_js_ = ({\n  name: 'membersQuantities',\n  created() {\n    this.check();\n  },\n  components: {\n    Member: Object(lazyLoadComponent[\"a\" /* default */])({\n      componentFactory: () => Promise.all(/* import() */[__webpack_require__.e(0), __webpack_require__.e(1)]).then(__webpack_require__.bind(null, \"d95e\")),\n      loading: SkeletonBox[\"a\" /* default */]\n    }),\n    Tooltip2clickToShow: Object(lazyLoadComponent[\"a\" /* default */])({\n      componentFactory: () => __webpack_require__.e(/* import() */ 1).then(__webpack_require__.bind(null, \"8857\")),\n      loading: SkeletonBox[\"a\" /* default */]\n    })\n  },\n  data() {\n    return {\n      quantities: [],\n      date: null,\n      visible: false,\n      members: '',\n      number: '',\n      memberDial: false,\n      legitimationNumber: null,\n      mobile: App[\"default\"].mobile,\n      local: App[\"default\"].host\n    };\n  },\n  methods: {\n    getNumber() {\n      fetch(`${this.local}/statistics/maxLegNumber`, {\n        method: 'GET'\n      }).then(response => response.json()).then(response => {\n        this.number = response;\n      });\n    },\n    getMembersQuantity() {\n      fetch(`${this.local}/statistics/membersQuantity`, {\n        method: 'GET',\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      }).then(response => response.json()).then(response => {\n        this.quantities = response;\n      });\n    },\n    getActualYearMemberCounts() {\n      fetch(`${this.local}/statistics/actualYearMemberCounts`, {\n        method: 'GET',\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      }).then(response => response.json()).then(response => {\n        this.members = response;\n      });\n    },\n    check() {\n      this.getMembersQuantity();\n      this.getActualYearMemberCounts();\n      this.getNumber();\n      this.date = window.localStorage.getItem('licenseDate');\n      const date2 = new Date(this.date);\n      const dateNow = new Date();\n      date2.setMonth(date2.getMonth() - 3);\n      this.visible = dateNow.getTime() > date2.getTime();\n      setInterval(() => {\n        this.getNumber();\n        this.getMembersQuantity();\n        this.getActualYearMemberCounts();\n        this.date = window.localStorage.getItem('licenseDate');\n      }, 300000);\n    }\n  }\n});\n// CONCATENATED MODULE: ./src/components/leftDrawer/MembersQuantities.vue?vue&type=script&lang=js&\n /* harmony default export */ var leftDrawer_MembersQuantitiesvue_type_script_lang_js_ = (MembersQuantitiesvue_type_script_lang_js_); \n// EXTERNAL MODULE: ./node_modules/vue-loader/lib/runtime/componentNormalizer.js\nvar componentNormalizer = __webpack_require__(\"2877\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/item/QItemLabel.js\nvar QItemLabel = __webpack_require__(\"0170\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/icon/QIcon.js\nvar QIcon = __webpack_require__(\"0016\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/dialog/QDialog.js\nvar QDialog = __webpack_require__(\"24e8\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/card/QCard.js\nvar QCard = __webpack_require__(\"f09f\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/card/QCardSection.js\nvar QCardSection = __webpack_require__(\"a370\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/card/QCardActions.js\nvar QCardActions = __webpack_require__(\"4b7e\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/btn/QBtn.js\nvar QBtn = __webpack_require__(\"9c40\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/directives/ClosePopup.js\nvar ClosePopup = __webpack_require__(\"7f67\");\n\n// EXTERNAL MODULE: ./node_modules/@quasar/app/lib/webpack/runtime.auto-import.js\nvar runtime_auto_import = __webpack_require__(\"eebe\");\nvar runtime_auto_import_default = /*#__PURE__*/__webpack_require__.n(runtime_auto_import);\n\n// CONCATENATED MODULE: ./src/components/leftDrawer/MembersQuantities.vue\n\n\n\n\n\n/* normalize component */\n\nvar component = Object(componentNormalizer[\"a\" /* default */])(\n  leftDrawer_MembersQuantitiesvue_type_script_lang_js_,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* harmony default export */ var MembersQuantities = __webpack_exports__[\"default\"] = (component.exports);\n\n\n\n\n\n\n\n\nruntime_auto_import_default()(component, 'components', {QItemLabel: QItemLabel[\"a\" /* default */],QIcon: QIcon[\"a\" /* default */],QDialog: QDialog[\"a\" /* default */],QCard: QCard[\"a\" /* default */],QCardSection: QCardSection[\"a\" /* default */],QCardActions: QCardActions[\"a\" /* default */],QBtn: QBtn[\"a\" /* default */]});runtime_auto_import_default()(component, 'directives', {ClosePopup: ClosePopup[\"a\" /* default */]});\n\n\n/***/ })\n\n}]);","inputSourceMap":null}