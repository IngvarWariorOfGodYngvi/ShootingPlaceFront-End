{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[42],{\"1e45\":function(t,e,s){\"use strict\";s.r(e);var i=function(){var t=this,e=t._self._c;return e(\"div\",[e(\"div\",{staticClass:\"text-body2 bg-dark text-positive\",staticStyle:{border:\"0\"}},[e(\"div\",{staticClass:\"col\"},[e(\"q-card-section\",{staticClass:\"col-3\"},[e(\"q-item\",{staticClass:\"col\"},[e(\"q-input\",{staticClass:\"full-width\",attrs:{color:\"positive\",\"input-class\":\"text-positive\",\"label-color\":\"positive\",dense:\"\",filled:\"\",mask:\"####-##-##\",label:\"Data początkowa\"},scopedSlots:t._u([{key:\"append\",fn:function(){return[e(\"q-icon\",{staticClass:\"cursor-pointer\",attrs:{name:\"event\",color:\"positive\"}},[e(\"q-popup-proxy\",{ref:\"qDateProxy\",attrs:{\"transition-show\":\"scale\",\"transition-hide\":\"scale\"}},[e(\"q-date\",{staticClass:\"bg-dark text-positive\",attrs:{\"no-unset\":\"\",mask:\"YYYY-MM-DD\"},on:{input:function(e){return t.getSum()}},model:{value:t.firstDate,callback:function(e){t.firstDate=e},expression:\"firstDate\"}},[e(\"div\",{staticClass:\"row items-center justify-end\"},[e(\"q-btn\",{directives:[{name:\"close-popup\",rawName:\"v-close-popup\"}],attrs:{label:\"Zamknij\",color:\"primary\"}})],1)])],1)],1)]},proxy:!0}]),model:{value:t.firstDate,callback:function(e){t.firstDate=e},expression:\"firstDate\"}})],1),e(\"q-item\",{staticClass:\"col\"},[e(\"q-input\",{staticClass:\"full-width\",attrs:{color:\"positive\",\"input-class\":\"text-positive\",\"label-color\":\"positive\",dense:\"\",filled:\"\",mask:\"####-##-##\",label:\"Data końcowa\"},scopedSlots:t._u([{key:\"append\",fn:function(){return[e(\"q-icon\",{staticClass:\"cursor-pointer\",attrs:{name:\"event\",color:\"positive\"}},[e(\"q-popup-proxy\",{ref:\"qDateProxy\",attrs:{\"transition-show\":\"scale\",\"transition-hide\":\"scale\"}},[e(\"q-date\",{staticClass:\"bg-dark text-positive\",attrs:{mask:\"YYYY-MM-DD\"},on:{input:function(e){return t.getSum()}},model:{value:t.secondDate,callback:function(e){t.secondDate=e},expression:\"secondDate\"}},[e(\"div\",{staticClass:\"row items-center justify-end\"},[e(\"q-btn\",{directives:[{name:\"close-popup\",rawName:\"v-close-popup\"}],attrs:{label:\"Zamknij\",color:\"primary\"}})],1)])],1)],1)]},proxy:!0}]),model:{value:t.secondDate,callback:function(e){t.secondDate=e},expression:\"secondDate\"}})],1),e(\"div\",[e(\"q-btn\",{attrs:{color:\"primary\",\"text-color\":\"white\"},on:{click:function(e){return t.getSum()}}},[t._v(\"Wyszukaj\")]),e(\"p\"),e(\"q-btn\",{attrs:{disable:t.list.length<1,color:\"green\",\"text-color\":\"white\"},on:{click:function(e){return t.getXlsFile()}}},[t._v(\"pobierz plik .xls\")]),t._v(\" \"+t._s(t.loading)+\"\\n        \")],1)],1),e(\"q-inner-loading\",{attrs:{showing:t.visible,label:\"Przetwarzanie...\",color:\"primary\"}}),e(\"q-card-section\",{staticClass:\"col\"},[t.list.length<1?e(\"div\",{staticClass:\"q-pa-md self-center col full-width text-bold text-center text-h6\"},[t._v(\"Brak wyników zapisów - Wybierz daty\")]):t._e(),t.list.length>0?e(\"div\",{staticClass:\"q-pa-md col text-bold text-center text-h6\"},[t._v(\"Ilość Składek : \"+t._s(t.list.length))]):t._e(),e(\"div\",{staticClass:\"row text-caption\",staticStyle:{cursor:\"pointer\"}},[e(\"div\",{staticClass:\"col\",on:{click:function(e){return t.sortF(\"name\")}}},[t._v(\"lp \"),e(\"q-icon\",{attrs:{size:\"2em\",name:t.sortName?\"arrow_drop_up\":\"arrow_drop_down\"}}),t._v(\"Nazwisko i imię\")],1),e(\"div\",{staticClass:\"col-2 text-center\",on:{click:function(e){return t.sortF(\"legitimation\")}}},[e(\"q-icon\",{attrs:{size:\"2em\",name:t.sortLegitimation?\"arrow_drop_up\":\"arrow_drop_down\"}}),t._v(\"Numer\"),e(\"br\"),t._v(\" Legitymacji\")],1),e(\"div\",{staticClass:\"col-2\",on:{click:function(e){return t.sortF(\"date\")}}},[e(\"q-icon\",{attrs:{size:\"2em\",name:t.sortDate?\"arrow_drop_up\":\"arrow_drop_down\"}}),t._v(\"Data Składki\")],1),e(\"div\",{staticClass:\"col-2\",on:{click:function(e){return t.sortF(\"group\")}}},[e(\"q-icon\",{attrs:{size:\"2em\",name:t.sortGroup?\"arrow_drop_up\":\"arrow_drop_down\"}}),t._v(\"Grupa\")],1),e(\"div\",{staticClass:\"col-2 text-center\",on:{click:function(e){return t.sortF(\"status\")}}},[e(\"q-icon\",{attrs:{size:\"2em\",name:t.sortStatus?\"arrow_drop_up\":\"arrow_drop_down\"}}),t._v(\"Status\")],1)]),e(\"q-scroll-area\",{staticStyle:{height:\"50vh\"}},t._l(t.list,(function(s,i){return e(\"div\",{key:i,staticClass:\"row hover1 items-center\",on:{dblclick:function(e){t.legitimationNumber=s.member.legitimation_number,t.memberDial=!0}}},[e(\"Tooltip2clickToShow\"),e(\"div\",{staticClass:\"col\"},[t._v(t._s(i+1)+\" \\n              \"+t._s(s.member.second_name)+\" \"+t._s(s.member.first_name)+\"\\n            \")]),e(\"div\",{staticClass:\"col-2 text-center\"},[t._v(\"\\n              \"+t._s(s.member.legitimation_number)+\"\\n            \")]),e(\"div\",{staticClass:\"col-2\"},[t._v(\"\\n              \"+t._s(s.contribution.validThru)+\"\\n            \")]),e(\"div\",{staticClass:\"col-2\"},[t._v(\"\\n              \"+t._s(s.member.adult?\"Grupa Ogólna\":\"Grupa Młodzieżowa\")+\"\\n            \")]),e(\"div\",{class:`col-2 ${s.member.active?\"bg-green-4\":\"bg-red-4\"} text-black text-center`,staticStyle:{\"border-radius\":\"2px\"}},[t._v(\"\\n              \"+t._s(s.member.active?\"Aktywny\":\"Nieaktywny\")+\"\\n            \")])],1)})),0)],1)],1)]),e(\"q-dialog\",{staticStyle:{\"min-width\":\"80vw\"},model:{value:t.memberDial,callback:function(e){t.memberDial=e},expression:\"memberDial\"}},[e(\"q-card\",{staticClass:\"bg-dark\",staticStyle:{\"min-width\":\"80vw\"}},[e(\"q-card-section\",{staticClass:\"flex-center\"},[e(\"Member\",{attrs:{\"member-number-legitimation\":t.legitimationNumber}})],1),e(\"q-card-actions\",{attrs:{align:\"right\"}},[e(\"q-btn\",{directives:[{name:\"close-popup\",rawName:\"v-close-popup\"}],attrs:{label:\"zamknij\",color:\"primary\"}})],1)],1)],1),e(\"q-dialog\",{attrs:{position:\"top\"},model:{value:t.success,callback:function(e){t.success=e},expression:\"success\"}},[e(\"q-card\",[e(\"q-card-section\",[null!=t.message?e(\"div\",{staticClass:\"text-h6\"},[t._v(t._s(t.message))]):t._e()])],1)],1)],1)},a=[],o=(s(\"5319\"),s(\"2b3d\"),s(\"9861\"),s(\"3dfd\")),r=s(\"bc3a\"),n=s.n(r),l=s(\"a8bc\"),c=s(\"d6c6\"),m={name:\"contributions.vue\",data(){return{memberDial:!1,legitimationNumber:null,firstDate:null,secondDate:this.createTodayDate(),adultCondition:null,list:[],visible:!1,sortName:!1,sortLegitimation:!1,sortDate:!1,sortStatus:!1,sortGroup:!1,success:!1,message:null,loading:null,mobile:o[\"default\"].mobile,local:o[\"default\"].host}},components:{Member:Object(l[\"a\"])({componentFactory:()=>Promise.all([s.e(0),s.e(1)]).then(s.bind(null,\"d95e\")),loading:c[\"a\"]}),Tooltip2clickToShow:Object(l[\"a\"])({componentFactory:()=>Promise.all([s.e(0),s.e(1)]).then(s.bind(null,\"8857\")),loading:c[\"a\"]})},methods:{createTodayDate(){const t=new Date;let e=0,s=0;return e=t.getMonth()+1<10?\"0\"+(t.getMonth()+1):t.getMonth()+1,s=t.getDate()<10?\"0\"+t.getDate():t.getDate(),t.getFullYear()+\"/\"+e+\"/\"+s},getSum(){this.visible=!0,fetch(`http://${this.local}/statistics/contributionSum?firstDate=${this.firstDate.replace(/\\//gi,\"-\")}&secondDate=${this.secondDate.replace(/\\//gi,\"-\")}`,{method:\"GET\"}).then((t=>{t.json().then((t=>{this.list=t}))})).then((()=>{this.visible=!1})).catch((()=>{this.visible=!1}))},getXlsFile(){this.loading=\"pobieranie\",n()({url:`http://${this.local}/files/contributions?firstDate=${this.firstDate.replace(/\\//gi,\"-\")}&secondDate=${this.secondDate.replace(/\\//gi,\"-\")}`,method:\"GET\",responseType:\"blob\"}).then((t=>{const e=window.URL.createObjectURL(new Blob([t.data])),s=document.createElement(\"a\");s.href=e,s.setAttribute(\"download\",`lista składek od ${this.firstDate.replace(/\\//gi,\"-\")} do ${this.secondDate.replace(/\\//gi,\"-\")}.xlsx`),document.body.appendChild(s),s.click(),this.message=\"Pobrano plik\",this.success=!0,this.autoClose()})).catch((()=>{this.loading=null}))},sortF(t){\"name\"===t&&(this.sortName?(this.list.sort(((t,e)=>(\"\"+t.member.second_name).localeCompare(e.member.second_name))),this.sortName=!this.sortName):(this.list.sort(((t,e)=>(\"\"+e.member.second_name).localeCompare(t.member.second_name))),this.sortName=!this.sortName)),\"status\"===t&&(this.sortStatus?(this.list.sort(((t,e)=>t.member.active-e.member.active)),this.sortStatus=!this.sortStatus):(this.list.sort(((t,e)=>e.member.active-t.member.active)),this.sortStatus=!this.sortStatus)),\"group\"===t&&(this.sortGroup?(this.list.sort(((t,e)=>t.member.adult-e.member.adult)),this.sortGroup=!this.sortGroup):(this.list.sort(((t,e)=>e.member.adult-t.member.adult)),this.sortGroup=!this.sortGroup)),\"legitimation\"===t&&(this.sortLicense?(this.list.sort(((t,e)=>t.member.legitimation_number-e.member.legitimation_number)),this.sortLicense=!this.sortLicense):(this.list.sort(((t,e)=>e.member.legitimation_number-t.member.legitimation_number)),this.sortLicense=!this.sortLicense)),\"date\"===t&&(this.sortDate?(this.list.sort(((t,e)=>new Date(t.contribution.validThru)-new Date(e.contribution.validThru))),this.sortDate=!this.sortDate):(this.list.sort(((t,e)=>new Date(e.contribution.validThru)-new Date(t.contribution.validThru))),this.sortDate=!this.sortDate))},autoClose(){setTimeout((()=>{this.success=!1,this.message=null,this.loading=null}),2e3)}}},u=m,d=(s(\"f637\"),s(\"2877\")),p=s(\"a370\"),b=s(\"66e5\"),h=s(\"27f9\"),v=s(\"0016\"),g=s(\"7cbe\"),_=s(\"52ee\"),f=s(\"9c40\"),w=s(\"74f7\"),D=s(\"4983\"),k=s(\"24e8\"),x=s(\"f09f\"),C=s(\"4b7e\"),y=s(\"7f67\"),q=s(\"eebe\"),S=s.n(q),N=Object(d[\"a\"])(u,i,a,!1,null,null,null);e[\"default\"]=N.exports;S()(N,\"components\",{QCardSection:p[\"a\"],QItem:b[\"a\"],QInput:h[\"a\"],QIcon:v[\"a\"],QPopupProxy:g[\"a\"],QDate:_[\"a\"],QBtn:f[\"a\"],QInnerLoading:w[\"a\"],QScrollArea:D[\"a\"],QDialog:k[\"a\"],QCard:x[\"a\"],QCardActions:C[\"a\"]}),S()(N,\"directives\",{ClosePopup:y[\"a\"]})}}]);","name":"js/42.498c62af.js","input":"(window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || []).push([[42],{\n\n/***/ \"1e45\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// CONCATENATED MODULE: ./node_modules/@quasar/app/lib/webpack/loader.transform-quasar-imports.js!./node_modules/babel-loader/lib??ref--2-0!./node_modules/vue-loader/lib/loaders/templateLoader.js??ref--7!./node_modules/@quasar/app/lib/webpack/loader.auto-import-client.js?kebab!./node_modules/vue-loader/lib??vue-loader-options!./src/components/statistics/Contributions.vue?vue&type=template&id=3f45f153&\nvar render = function render() {\n  var _vm = this,\n    _c = _vm._self._c;\n  return _c('div', [_c('div', {\n    staticClass: \"text-body2 bg-dark text-positive\",\n    staticStyle: {\n      \"border\": \"0\"\n    }\n  }, [_c('div', {\n    staticClass: \"col\"\n  }, [_c('q-card-section', {\n    staticClass: \"col-3\"\n  }, [_c('q-item', {\n    staticClass: \"col\"\n  }, [_c('q-input', {\n    staticClass: \"full-width\",\n    attrs: {\n      \"color\": \"positive\",\n      \"input-class\": \"text-positive\",\n      \"label-color\": \"positive\",\n      \"dense\": \"\",\n      \"filled\": \"\",\n      \"mask\": \"####-##-##\",\n      \"label\": \"Data początkowa\"\n    },\n    scopedSlots: _vm._u([{\n      key: \"append\",\n      fn: function () {\n        return [_c('q-icon', {\n          staticClass: \"cursor-pointer\",\n          attrs: {\n            \"name\": \"event\",\n            \"color\": \"positive\"\n          }\n        }, [_c('q-popup-proxy', {\n          ref: \"qDateProxy\",\n          attrs: {\n            \"transition-show\": \"scale\",\n            \"transition-hide\": \"scale\"\n          }\n        }, [_c('q-date', {\n          staticClass: \"bg-dark text-positive\",\n          attrs: {\n            \"no-unset\": \"\",\n            \"mask\": \"YYYY-MM-DD\"\n          },\n          on: {\n            \"input\": function ($event) {\n              return _vm.getSum();\n            }\n          },\n          model: {\n            value: _vm.firstDate,\n            callback: function ($$v) {\n              _vm.firstDate = $$v;\n            },\n            expression: \"firstDate\"\n          }\n        }, [_c('div', {\n          staticClass: \"row items-center justify-end\"\n        }, [_c('q-btn', {\n          directives: [{\n            name: \"close-popup\",\n            rawName: \"v-close-popup\"\n          }],\n          attrs: {\n            \"label\": \"Zamknij\",\n            \"color\": \"primary\"\n          }\n        })], 1)])], 1)], 1)];\n      },\n      proxy: true\n    }]),\n    model: {\n      value: _vm.firstDate,\n      callback: function ($$v) {\n        _vm.firstDate = $$v;\n      },\n      expression: \"firstDate\"\n    }\n  })], 1), _c('q-item', {\n    staticClass: \"col\"\n  }, [_c('q-input', {\n    staticClass: \"full-width\",\n    attrs: {\n      \"color\": \"positive\",\n      \"input-class\": \"text-positive\",\n      \"label-color\": \"positive\",\n      \"dense\": \"\",\n      \"filled\": \"\",\n      \"mask\": \"####-##-##\",\n      \"label\": \"Data końcowa\"\n    },\n    scopedSlots: _vm._u([{\n      key: \"append\",\n      fn: function () {\n        return [_c('q-icon', {\n          staticClass: \"cursor-pointer\",\n          attrs: {\n            \"name\": \"event\",\n            \"color\": \"positive\"\n          }\n        }, [_c('q-popup-proxy', {\n          ref: \"qDateProxy\",\n          attrs: {\n            \"transition-show\": \"scale\",\n            \"transition-hide\": \"scale\"\n          }\n        }, [_c('q-date', {\n          staticClass: \"bg-dark text-positive\",\n          attrs: {\n            \"mask\": \"YYYY-MM-DD\"\n          },\n          on: {\n            \"input\": function ($event) {\n              return _vm.getSum();\n            }\n          },\n          model: {\n            value: _vm.secondDate,\n            callback: function ($$v) {\n              _vm.secondDate = $$v;\n            },\n            expression: \"secondDate\"\n          }\n        }, [_c('div', {\n          staticClass: \"row items-center justify-end\"\n        }, [_c('q-btn', {\n          directives: [{\n            name: \"close-popup\",\n            rawName: \"v-close-popup\"\n          }],\n          attrs: {\n            \"label\": \"Zamknij\",\n            \"color\": \"primary\"\n          }\n        })], 1)])], 1)], 1)];\n      },\n      proxy: true\n    }]),\n    model: {\n      value: _vm.secondDate,\n      callback: function ($$v) {\n        _vm.secondDate = $$v;\n      },\n      expression: \"secondDate\"\n    }\n  })], 1), _c('div', [_c('q-btn', {\n    attrs: {\n      \"color\": \"primary\",\n      \"text-color\": \"white\"\n    },\n    on: {\n      \"click\": function ($event) {\n        return _vm.getSum();\n      }\n    }\n  }, [_vm._v(\"Wyszukaj\")]), _c('p'), _c('q-btn', {\n    attrs: {\n      \"disable\": _vm.list.length < 1,\n      \"color\": \"green\",\n      \"text-color\": \"white\"\n    },\n    on: {\n      \"click\": function ($event) {\n        return _vm.getXlsFile();\n      }\n    }\n  }, [_vm._v(\"pobierz plik .xls\")]), _vm._v(\" \" + _vm._s(_vm.loading) + \"\\n        \")], 1)], 1), _c('q-inner-loading', {\n    attrs: {\n      \"showing\": _vm.visible,\n      \"label\": \"Przetwarzanie...\",\n      \"color\": \"primary\"\n    }\n  }), _c('q-card-section', {\n    staticClass: \"col\"\n  }, [_vm.list.length < 1 ? _c('div', {\n    staticClass: \"q-pa-md self-center col full-width text-bold text-center text-h6\"\n  }, [_vm._v(\"Brak wyników zapisów - Wybierz daty\")]) : _vm._e(), _vm.list.length > 0 ? _c('div', {\n    staticClass: \"q-pa-md col text-bold text-center text-h6\"\n  }, [_vm._v(\"Ilość Składek : \" + _vm._s(_vm.list.length))]) : _vm._e(), _c('div', {\n    staticClass: \"row text-caption\",\n    staticStyle: {\n      \"cursor\": \"pointer\"\n    }\n  }, [_c('div', {\n    staticClass: \"col\",\n    on: {\n      \"click\": function ($event) {\n        return _vm.sortF('name');\n      }\n    }\n  }, [_vm._v(\"lp \"), _c('q-icon', {\n    attrs: {\n      \"size\": \"2em\",\n      \"name\": _vm.sortName ? 'arrow_drop_up' : 'arrow_drop_down'\n    }\n  }), _vm._v(\"Nazwisko i imię\")], 1), _c('div', {\n    staticClass: \"col-2 text-center\",\n    on: {\n      \"click\": function ($event) {\n        return _vm.sortF('legitimation');\n      }\n    }\n  }, [_c('q-icon', {\n    attrs: {\n      \"size\": \"2em\",\n      \"name\": _vm.sortLegitimation ? 'arrow_drop_up' : 'arrow_drop_down'\n    }\n  }), _vm._v(\"Numer\"), _c('br'), _vm._v(\" Legitymacji\")], 1), _c('div', {\n    staticClass: \"col-2\",\n    on: {\n      \"click\": function ($event) {\n        return _vm.sortF('date');\n      }\n    }\n  }, [_c('q-icon', {\n    attrs: {\n      \"size\": \"2em\",\n      \"name\": _vm.sortDate ? 'arrow_drop_up' : 'arrow_drop_down'\n    }\n  }), _vm._v(\"Data Składki\")], 1), _c('div', {\n    staticClass: \"col-2\",\n    on: {\n      \"click\": function ($event) {\n        return _vm.sortF('group');\n      }\n    }\n  }, [_c('q-icon', {\n    attrs: {\n      \"size\": \"2em\",\n      \"name\": _vm.sortGroup ? 'arrow_drop_up' : 'arrow_drop_down'\n    }\n  }), _vm._v(\"Grupa\")], 1), _c('div', {\n    staticClass: \"col-2 text-center\",\n    on: {\n      \"click\": function ($event) {\n        return _vm.sortF('status');\n      }\n    }\n  }, [_c('q-icon', {\n    attrs: {\n      \"size\": \"2em\",\n      \"name\": _vm.sortStatus ? 'arrow_drop_up' : 'arrow_drop_down'\n    }\n  }), _vm._v(\"Status\")], 1)]), _c('q-scroll-area', {\n    staticStyle: {\n      \"height\": \"50vh\"\n    }\n  }, _vm._l(_vm.list, function (item, index) {\n    return _c('div', {\n      key: index,\n      staticClass: \"row hover1 items-center\",\n      on: {\n        \"dblclick\": function ($event) {\n          _vm.legitimationNumber = item.member.legitimation_number;\n          _vm.memberDial = true;\n        }\n      }\n    }, [_c('Tooltip2clickToShow'), _c('div', {\n      staticClass: \"col\"\n    }, [_vm._v(_vm._s(index + 1) + \" \\n              \" + _vm._s(item.member.second_name) + \" \" + _vm._s(item.member.first_name) + \"\\n            \")]), _c('div', {\n      staticClass: \"col-2 text-center\"\n    }, [_vm._v(\"\\n              \" + _vm._s(item.member.legitimation_number) + \"\\n            \")]), _c('div', {\n      staticClass: \"col-2\"\n    }, [_vm._v(\"\\n              \" + _vm._s(item.contribution.validThru) + \"\\n            \")]), _c('div', {\n      staticClass: \"col-2\"\n    }, [_vm._v(\"\\n              \" + _vm._s(item.member.adult ? 'Grupa Ogólna' : 'Grupa Młodzieżowa') + \"\\n            \")]), _c('div', {\n      class: `col-2 ${item.member.active ? 'bg-green-4' : 'bg-red-4'} text-black text-center`,\n      staticStyle: {\n        \"border-radius\": \"2px\"\n      }\n    }, [_vm._v(\"\\n              \" + _vm._s(item.member.active ? 'Aktywny' : 'Nieaktywny') + \"\\n            \")])], 1);\n  }), 0)], 1)], 1)]), _c('q-dialog', {\n    staticStyle: {\n      \"min-width\": \"80vw\"\n    },\n    model: {\n      value: _vm.memberDial,\n      callback: function ($$v) {\n        _vm.memberDial = $$v;\n      },\n      expression: \"memberDial\"\n    }\n  }, [_c('q-card', {\n    staticClass: \"bg-dark\",\n    staticStyle: {\n      \"min-width\": \"80vw\"\n    }\n  }, [_c('q-card-section', {\n    staticClass: \"flex-center\"\n  }, [_c('Member', {\n    attrs: {\n      \"member-number-legitimation\": _vm.legitimationNumber\n    }\n  })], 1), _c('q-card-actions', {\n    attrs: {\n      \"align\": \"right\"\n    }\n  }, [_c('q-btn', {\n    directives: [{\n      name: \"close-popup\",\n      rawName: \"v-close-popup\"\n    }],\n    attrs: {\n      \"label\": \"zamknij\",\n      \"color\": \"primary\"\n    }\n  })], 1)], 1)], 1), _c('q-dialog', {\n    attrs: {\n      \"position\": \"top\"\n    },\n    model: {\n      value: _vm.success,\n      callback: function ($$v) {\n        _vm.success = $$v;\n      },\n      expression: \"success\"\n    }\n  }, [_c('q-card', [_c('q-card-section', [_vm.message != null ? _c('div', {\n    staticClass: \"text-h6\"\n  }, [_vm._v(_vm._s(_vm.message))]) : _vm._e()])], 1)], 1)], 1);\n};\nvar staticRenderFns = [];\n\n// CONCATENATED MODULE: ./src/components/statistics/Contributions.vue?vue&type=template&id=3f45f153&\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.string.replace.js\nvar es_string_replace = __webpack_require__(\"5319\");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/web.url.js\nvar web_url = __webpack_require__(\"2b3d\");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/web.url-search-params.js\nvar web_url_search_params = __webpack_require__(\"9861\");\n\n// EXTERNAL MODULE: ./src/App.vue + 4 modules\nvar App = __webpack_require__(\"3dfd\");\n\n// EXTERNAL MODULE: ./node_modules/axios/index.js\nvar axios = __webpack_require__(\"bc3a\");\nvar axios_default = /*#__PURE__*/__webpack_require__.n(axios);\n\n// EXTERNAL MODULE: ./src/utils/lazyLoadComponent.js\nvar lazyLoadComponent = __webpack_require__(\"a8bc\");\n\n// EXTERNAL MODULE: ./src/utils/SkeletonBox.vue + 4 modules\nvar SkeletonBox = __webpack_require__(\"d6c6\");\n\n// CONCATENATED MODULE: ./node_modules/@quasar/app/lib/webpack/loader.transform-quasar-imports.js!./node_modules/babel-loader/lib??ref--2-0!./node_modules/@quasar/app/lib/webpack/loader.auto-import-client.js?kebab!./node_modules/vue-loader/lib??vue-loader-options!./src/components/statistics/Contributions.vue?vue&type=script&lang=js&\n\n\n\n\n\n\n\n/* harmony default export */ var Contributionsvue_type_script_lang_js_ = ({\n  name: 'contributions.vue',\n  data() {\n    return {\n      memberDial: false,\n      legitimationNumber: null,\n      firstDate: null,\n      secondDate: this.createTodayDate(),\n      adultCondition: null,\n      list: [],\n      visible: false,\n      sortName: false,\n      sortLegitimation: false,\n      sortDate: false,\n      sortStatus: false,\n      sortGroup: false,\n      success: false,\n      message: null,\n      loading: null,\n      mobile: App[\"default\"].mobile,\n      local: App[\"default\"].host\n    };\n  },\n  components: {\n    Member: Object(lazyLoadComponent[\"a\" /* default */])({\n      componentFactory: () => Promise.all(/* import() */[__webpack_require__.e(0), __webpack_require__.e(1)]).then(__webpack_require__.bind(null, \"d95e\")),\n      loading: SkeletonBox[\"a\" /* default */]\n    }),\n    Tooltip2clickToShow: Object(lazyLoadComponent[\"a\" /* default */])({\n      componentFactory: () => Promise.all(/* import() */[__webpack_require__.e(0), __webpack_require__.e(1)]).then(__webpack_require__.bind(null, \"8857\")),\n      loading: SkeletonBox[\"a\" /* default */]\n    })\n  },\n  methods: {\n    createTodayDate() {\n      const date = new Date();\n      let month = 0;\n      let day = 0;\n      if (date.getMonth() + 1 < 10) {\n        month = '0' + (date.getMonth() + 1);\n      } else {\n        month = date.getMonth() + 1;\n      }\n      if (date.getDate() < 10) {\n        day = '0' + date.getDate();\n      } else {\n        day = date.getDate();\n      }\n      return date.getFullYear() + '/' + month + '/' + day;\n    },\n    getSum() {\n      this.visible = true;\n      fetch(`http://${this.local}/statistics/contributionSum?firstDate=${this.firstDate.replace(/\\//gi, '-')}&secondDate=${this.secondDate.replace(/\\//gi, '-')}`, {\n        method: 'GET'\n      }).then(response => {\n        response.json().then(response => {\n          this.list = response;\n        });\n      }).then(() => {\n        this.visible = false;\n      }).catch(() => {\n        this.visible = false;\n      });\n    },\n    getXlsFile() {\n      this.loading = 'pobieranie';\n      axios_default()({\n        url: `http://${this.local}/files/contributions?firstDate=${this.firstDate.replace(/\\//gi, '-')}&secondDate=${this.secondDate.replace(/\\//gi, '-')}`,\n        method: 'GET',\n        responseType: 'blob'\n      }).then(response => {\n        const fileURL = window.URL.createObjectURL(new Blob([response.data]));\n        const fileLink = document.createElement('a');\n        fileLink.href = fileURL;\n        fileLink.setAttribute('download', `lista składek od ${this.firstDate.replace(/\\//gi, '-')} do ${this.secondDate.replace(/\\//gi, '-')}.xlsx`);\n        document.body.appendChild(fileLink);\n        fileLink.click();\n        this.message = 'Pobrano plik';\n        this.success = true;\n        this.autoClose();\n      }).catch(() => {\n        this.loading = null;\n      });\n    },\n    sortF(type) {\n      if (type === 'name') {\n        if (!this.sortName) {\n          this.list.sort((a, b) => ('' + b.member.second_name).localeCompare(a.member.second_name));\n          this.sortName = !this.sortName;\n        } else {\n          this.list.sort((a, b) => ('' + a.member.second_name).localeCompare(b.member.second_name));\n          this.sortName = !this.sortName;\n        }\n      }\n      if (type === 'status') {\n        if (!this.sortStatus) {\n          this.list.sort((a, b) => b.member.active - a.member.active);\n          this.sortStatus = !this.sortStatus;\n        } else {\n          this.list.sort((a, b) => a.member.active - b.member.active);\n          this.sortStatus = !this.sortStatus;\n        }\n      }\n      if (type === 'group') {\n        if (!this.sortGroup) {\n          this.list.sort((a, b) => b.member.adult - a.member.adult);\n          this.sortGroup = !this.sortGroup;\n        } else {\n          this.list.sort((a, b) => a.member.adult - b.member.adult);\n          this.sortGroup = !this.sortGroup;\n        }\n      }\n      if (type === 'legitimation') {\n        if (!this.sortLicense) {\n          this.list.sort((a, b) => b.member.legitimation_number - a.member.legitimation_number);\n          this.sortLicense = !this.sortLicense;\n        } else {\n          this.list.sort((a, b) => a.member.legitimation_number - b.member.legitimation_number);\n          this.sortLicense = !this.sortLicense;\n        }\n      }\n      if (type === 'date') {\n        if (!this.sortDate) {\n          this.list.sort((a, b) => new Date(b.contribution.validThru) - new Date(a.contribution.validThru));\n          this.sortDate = !this.sortDate;\n        } else {\n          this.list.sort((a, b) => new Date(a.contribution.validThru) - new Date(b.contribution.validThru));\n          this.sortDate = !this.sortDate;\n        }\n      }\n    },\n    autoClose() {\n      setTimeout(() => {\n        this.success = false;\n        this.message = null;\n        this.loading = null;\n      }, 2000);\n    }\n  }\n});\n// CONCATENATED MODULE: ./src/components/statistics/Contributions.vue?vue&type=script&lang=js&\n /* harmony default export */ var statistics_Contributionsvue_type_script_lang_js_ = (Contributionsvue_type_script_lang_js_); \n// EXTERNAL MODULE: ./src/style/style.scss?vue&type=style&index=0&prod&lang=scss&\nvar stylevue_type_style_index_0_prod_lang_scss_ = __webpack_require__(\"f637\");\n\n// EXTERNAL MODULE: ./node_modules/vue-loader/lib/runtime/componentNormalizer.js\nvar componentNormalizer = __webpack_require__(\"2877\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/card/QCardSection.js\nvar QCardSection = __webpack_require__(\"a370\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/item/QItem.js\nvar QItem = __webpack_require__(\"66e5\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/input/QInput.js + 1 modules\nvar QInput = __webpack_require__(\"27f9\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/icon/QIcon.js\nvar QIcon = __webpack_require__(\"0016\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/popup-proxy/QPopupProxy.js\nvar QPopupProxy = __webpack_require__(\"7cbe\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/date/QDate.js\nvar QDate = __webpack_require__(\"52ee\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/btn/QBtn.js\nvar QBtn = __webpack_require__(\"9c40\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/inner-loading/QInnerLoading.js\nvar QInnerLoading = __webpack_require__(\"74f7\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/scroll-area/QScrollArea.js\nvar QScrollArea = __webpack_require__(\"4983\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/dialog/QDialog.js\nvar QDialog = __webpack_require__(\"24e8\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/card/QCard.js\nvar QCard = __webpack_require__(\"f09f\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/card/QCardActions.js\nvar QCardActions = __webpack_require__(\"4b7e\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/directives/ClosePopup.js\nvar ClosePopup = __webpack_require__(\"7f67\");\n\n// EXTERNAL MODULE: ./node_modules/@quasar/app/lib/webpack/runtime.auto-import.js\nvar runtime_auto_import = __webpack_require__(\"eebe\");\nvar runtime_auto_import_default = /*#__PURE__*/__webpack_require__.n(runtime_auto_import);\n\n// CONCATENATED MODULE: ./src/components/statistics/Contributions.vue\n\n\n\n\n\n\n/* normalize component */\n\nvar component = Object(componentNormalizer[\"a\" /* default */])(\n  statistics_Contributionsvue_type_script_lang_js_,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* harmony default export */ var Contributions = __webpack_exports__[\"default\"] = (component.exports);\n\n\n\n\n\n\n\n\n\n\n\n\n\nruntime_auto_import_default()(component, 'components', {QCardSection: QCardSection[\"a\" /* default */],QItem: QItem[\"a\" /* default */],QInput: QInput[\"a\" /* default */],QIcon: QIcon[\"a\" /* default */],QPopupProxy: QPopupProxy[\"a\" /* default */],QDate: QDate[\"a\" /* default */],QBtn: QBtn[\"a\" /* default */],QInnerLoading: QInnerLoading[\"a\" /* default */],QScrollArea: QScrollArea[\"a\" /* default */],QDialog: QDialog[\"a\" /* default */],QCard: QCard[\"a\" /* default */],QCardActions: QCardActions[\"a\" /* default */]});runtime_auto_import_default()(component, 'directives', {ClosePopup: ClosePopup[\"a\" /* default */]});\n\n\n/***/ })\n\n}]);","inputSourceMap":null}