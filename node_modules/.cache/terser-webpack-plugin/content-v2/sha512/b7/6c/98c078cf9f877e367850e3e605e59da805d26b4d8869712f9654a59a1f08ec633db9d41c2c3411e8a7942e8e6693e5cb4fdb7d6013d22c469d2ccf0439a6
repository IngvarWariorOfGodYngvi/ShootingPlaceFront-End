{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[7],{cf45:function(t,e,a){\"use strict\";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"q-page\",{attrs:{padding:\"\"}},[a(\"div\",[a(\"q-item\",[a(\"div\",{staticClass:\"text-center col full-width no-outline text-h4 text-bold\",attrs:{tabindex:\"0\"}},[t._v(\"Lista Amunicyjna\")])])],1),a(\"div\",{staticClass:\"row\"},[a(\"q-card\",{staticClass:\"col-10\"},[a(\"div\",[a(\"q-btn\",{staticClass:\"col-1\",staticStyle:{},attrs:{label:\"dodaj do listy\",icon:\"book\"},on:{click:function(e){t.getOther(),t.addAmmo=!0}}})],1),t.ammoList.length<1?a(\"div\",{staticClass:\"text-h5 text-bold\"},[a(\"q-item\",[a(\"q-item-section\",[t._v(\"\\n            Brak aktywnej listy amunicji\\n          \")])],1)],1):t._e(),t.ammoList.length>=1?a(\"div\",{staticClass:\"col\"},[a(\"q-item\",{staticClass:\"col\"},[a(\"q-item-section\",{staticClass:\"text-h5 text-bold\"},[t._v(\"\\n          Lista Amunicji \"+t._s(t.ammoList[0].date)+\" numer \"+t._s(t.ammoList[0].number)+\"\\n        \")]),a(\"q-item-section\",{attrs:{side:\"\",top:\"\"}},[a(\"q-btn\",{attrs:{color:\"primary\",label:\"Zamknij listę\"},on:{click:function(e){t.uuid=t.ammoList[0].uuid,t.confirmation=!0}}})],1),a(\"q-item-section\",{attrs:{side:\"\",top:\"\"}},[a(\"q-btn\",{attrs:{color:\"primary\",label:\"Pobierz listę\"},on:{click:function(e){t.date=t.ammoList[0].date,t.uuid=t.ammoList[0].uuid,t.showloading(),t.getAmmoListPDF(),t.getAmmoData(),t.getCLosedEvidence()}}})],1)],1),t._l(t.ammoList,(function(e,i){return a(\"div\",{key:i},t._l(e.ammoInEvidenceEntityList,(function(e,i){return a(\"div\",{key:i},[a(\"q-item\",[a(\"q-item-label\",{staticClass:\"text-h6\"},[t._v(\"\\n                  kaliber \"+t._s(e.caliberName)+\"\\n                \")])],1),a(\"div\",{staticClass:\"col\"},[t._l(e.ammoUsedToEvidenceEntityList,(function(e,i){return a(\"div\",{key:i,staticClass:\"row\"},[a(\"q-field\",{staticClass:\"col-10\",attrs:{color:\"black\",standout:\"bg-accent text-black\",label:\"osoba\",\"stack-label\":\"\"}},[a(\"div\",{staticClass:\"row text-black\"},[t._v(t._s(e.name))])]),a(\"q-field\",{staticClass:\"col-2\",attrs:{standout:\"bg-accent text-black\",label:\"ilość\",\"stack-label\":\"\"}},[a(\"div\",{staticClass:\"row text-black\"},[t._v(t._s(e.counter))])])],1)})),a(\"div\",{staticClass:\"row reverse\"},[a(\"q-field\",{staticClass:\"col-2 bg-grey-4\",attrs:{standout:\"bg-accent text-black\",label:\"suma\",\"stack-label\":\"\"}},[a(\"div\",{staticClass:\"text-black\"},[t._v(t._s(e.quantity))])])],1)],2)],1)})),0)}))],2):t._e()]),a(\"q-card\",{staticClass:\"col-2\"},[a(\"div\",[a(\"q-item\",[a(\"q-item-label\",{staticClass:\"text-h5 text-bold\"},[t._v(\"\\n            Zamknięte listy\\n          \")])],1),a(\"q-scroll-area\",{staticStyle:{height:\"550px\"}},t._l(t.ammoListClose,(function(e,i){return a(\"div\",{key:i},[a(\"q-item\",[a(\"q-btn\",{staticClass:\"col full-width full-height\",on:{click:function(a){t.date=e.date,t.ammunitionListNumber=e.number,t.uuid=e.evidenceUUID,t.getEvidence(),t.ammunitionListInfo=!0}}},[a(\"div\",[t._v(t._s(e.number))]),a(\"div\",[t._v(t._s(e.date))])])],1)],1)})),0)],1)])],1),a(\"q-dialog\",{model:{value:t.ammunitionListAlert,callback:function(e){t.ammunitionListAlert=e},expression:\"ammunitionListAlert\"}},[a(\"q-card\",[a(\"q-card-section\",[a(\"div\",{staticClass:\"text-h6\"},[t._v(\"Pobrano listę \"+t._s(t.date))])]),a(\"q-card-actions\",{attrs:{align:\"right\"}},[a(\"q-btn\",{directives:[{name:\"close-popup\",rawName:\"v-close-popup\"}],attrs:{flat:\"\",label:\"OK\",color:\"primary\"}})],1)],1)],1),a(\"q-dialog\",{model:{value:t.ammunitionListInfo,callback:function(e){t.ammunitionListInfo=e},expression:\"ammunitionListInfo\"}},[a(\"q-card\",[a(\"q-card-section\",{staticClass:\"col\"},[a(\"div\",{staticClass:\"col q-pa-xs\"},[a(\"div\",{staticClass:\"text-h6\"},[t._v(\"Lista numer \"+t._s(t.ammunitionListNumber))]),a(\"div\",{staticClass:\"text-h6\"},[t._v(\"Informacje dla listy z dnia \"+t._s(t.date))])]),a(\"div\",{staticClass:\"col q-pa-md\"},[a(\"div\",{staticClass:\"row bg-accent\"},[a(\"div\",{staticClass:\"col h6 text-bold text-center\"},[t._v(\"Kaliber\")]),a(\"div\",{staticClass:\"col h6 text-bold text-center\"},[t._v(\"Suma\")])]),t._l(t.ammunitionListEvidence.ammoInEvidenceEntityList,(function(e,i){return a(\"div\",{key:i,staticClass:\"full-width col\"},[a(\"div\",{staticClass:\"row\"},[a(\"div\",{staticClass:\"col text-bold text-center\"},[t._v(t._s(e.caliberName))]),a(\"div\",{staticClass:\"col text-bold text-center\"},[t._v(t._s(e.quantity))])])])}))],2),a(\"div\",{staticClass:\"row\"},[a(\"q-btn\",{staticClass:\"col full-width full-height\",attrs:{color:\"secondary\",label:\"pobierz listę\"},on:{click:function(e){return t.getAmmoListPDF()}}}),a(\"q-item\"),a(\"q-btn\",{staticClass:\"col full-width full-height\",attrs:{color:\"primary\",label:\"otwórz listę\"},on:{click:function(e){t.openList=!0}}})],1)]),a(\"q-card-actions\",{attrs:{align:\"right\"}},[a(\"q-btn\",{directives:[{name:\"close-popup\",rawName:\"v-close-popup\"}],attrs:{flat:\"\",label:\"Zamknij\",color:\"primary\"}})],1)],1)],1),a(\"q-dialog\",{on:{keypress:function(e){if(!e.type.indexOf(\"key\")&&t._k(e.keyCode,\"enter\",13,e.key,\"Enter\"))return null;t.fail=!1}},model:{value:t.fail,callback:function(e){t.fail=e},expression:\"fail\"}},[a(\"q-card\",[a(\"q-card-section\",[a(\"div\",{staticClass:\"text-h6\"},[t._v(\"Wystąpił jakiś problem\")])]),a(\"q-card-actions\",{attrs:{align:\"right\"}},[a(\"q-btn\",{directives:[{name:\"close-popup\",rawName:\"v-close-popup\"}],attrs:{flat:\"\",label:\"OK\",color:\"primary\"}})],1)],1)],1),a(\"q-dialog\",{on:{keypress:function(e){if(!e.type.indexOf(\"key\")&&t._k(e.keyCode,\"enter\",13,e.key,\"Enter\"))return null;t.failArmory=!1}},model:{value:t.failArmory,callback:function(e){t.failArmory=e},expression:\"failArmory\"}},[a(\"q-card\",[a(\"q-card-section\",[a(\"div\",{staticClass:\"text-h6\"},[t._v(\"Nie można wydać amunicji - Sprawdź stan magazynu\")])]),a(\"q-card-actions\",{attrs:{align:\"right\"}},[a(\"q-btn\",{directives:[{name:\"close-popup\",rawName:\"v-close-popup\"}],attrs:{flat:\"\",label:\"OK\",color:\"primary\"}})],1)],1)],1),a(\"q-dialog\",{model:{value:t.addAmmo,callback:function(e){t.addAmmo=e},expression:\"addAmmo\"}},[a(\"div\",{staticClass:\"bg-white\"},[a(\"div\",{staticClass:\"row\"},[a(\"q-select\",{staticClass:\"col\",attrs:{filled:\"\",\"use-input\":\"\",\"hide-selected\":\"\",\"fill-input\":\"\",\"input-debounce\":\"0\",options:t.options,label:\"Dodaj osobę z klubu\"},on:{input:function(e){t.otherName=\"0 0\"},filter:t.filterFn},scopedSlots:t._u([{key:\"no-option\",fn:function(){return[a(\"q-item\",[a(\"q-item-section\",{staticClass:\"text-grey\"},[t._v(\"\\n              Brak wyników\\n            \")])],1)]},proxy:!0}]),model:{value:t.memberName,callback:function(e){t.memberName=e},expression:\"memberName\"}}),a(\"q-select\",{staticClass:\"col\",attrs:{filled:\"\",\"use-input\":\"\",\"hide-selected\":\"\",\"fill-input\":\"\",\"input-debounce\":\"0\",options:t.options,label:\"Dodaj osobę spoza klubu\"},on:{input:function(e){t.memberName=\"0 0\"},filter:t.filterOther},scopedSlots:t._u([{key:\"no-option\",fn:function(){return[a(\"div\",[a(\"div\",{staticClass:\"q-pa-md bg-grey-5 text-center text-bold\"},[t._v(\"Brak wyników  - możesz dodać nową osobę\")]),a(\"div\",{staticClass:\"q-pa-md bg-grey-5\"},[a(\"q-btn\",{staticClass:\"full-width\",attrs:{color:\"primary\",label:\"przejdź do formularza\"},on:{click:function(e){t.addNewOtherPerson=!0}}})],1)])]},proxy:!0}]),model:{value:t.otherName,callback:function(e){t.otherName=e},expression:\"otherName\"}})],1),a(\"div\",{staticClass:\"row\"},[a(\"div\",{staticClass:\"full-width\"},t._l(t.calibers,(function(e,i){return a(\"q-radio\",{key:i,attrs:{val:e.uuid},model:{value:t.caliberUUID,callback:function(e){t.caliberUUID=e},expression:\"caliberUUID\"}},[a(\"q-field\",{staticClass:\"full-width cursor-pointer\",attrs:{borderless:\"\"}},[a(\"div\",{staticClass:\"full-width text-black text-left q-pa-md\"},[t._v(t._s(e.name))])])],1)})),1)]),a(\"div\",{staticClass:\"col\"},[a(\"q-input\",{staticClass:\"full-width col\",attrs:{type:\"number\",filled:\"\",placeholder:\"Tylko cyfry\",onkeypress:\"return (event.charCode > 44 && event.charCode < 58)\",label:\"Ilość Amunicji\"},on:{keypress:function(e){return!e.type.indexOf(\"key\")&&t._k(e.keyCode,\"enter\",13,e.key,\"Enter\")?null:t.addMemberAndAmmoToCaliber()}},model:{value:t.ammoQuantity,callback:function(e){t.ammoQuantity=e},expression:\"ammoQuantity\"}}),a(\"q-card-actions\",{staticClass:\"row\",attrs:{align:\"right\"}},[a(\"q-item\",[a(\"q-btn\",{directives:[{name:\"close-popup\",rawName:\"v-close-popup\"}],staticClass:\"full-width col\",attrs:{color:\"primary\",label:\"zamknij\"}})],1),a(\"q-item\",[a(\"q-btn\",{staticClass:\"full-width col\",attrs:{color:\"primary\",label:\"wydaj amunicję\"},on:{click:function(e){return t.addMemberAndAmmoToCaliber()}}})],1)],1)],1)])]),a(\"q-dialog\",{model:{value:t.addNewOtherPerson,callback:function(e){t.addNewOtherPerson=e},expression:\"addNewOtherPerson\"}},[a(\"q-card\",{staticClass:\"full-width\"},[a(\"q-card-section\",[a(\"div\",{staticClass:\"text-h6\"},[t._v(\"Dodawanie nowej osoby spoza klubu\")]),a(\"q-item\",[a(\"q-input\",{staticClass:\"full-width\",attrs:{onkeypress:\"return (event.charCode > 64 && event.charCode < 91) || (event.charCode > 96 && event.charCode < 123) || (event.charCode > 210 && event.charCode < 400) || event.charCode == 32\",filled:\"\",label:\"Imię\"},model:{value:t.otherFirstName,callback:function(e){t.otherFirstName=e},expression:\"otherFirstName\"}})],1),a(\"q-item\",[a(\"q-input\",{staticClass:\"full-width\",attrs:{onkeypress:\"return (event.charCode > 64 && event.charCode < 91) || (event.charCode > 96 && event.charCode < 123) || (event.charCode > 210 && event.charCode < 400) || event.charCode == 32\",filled:\"\",label:\"Nazwisko\"},model:{value:t.otherSecondName,callback:function(e){t.otherSecondName=e},expression:\"otherSecondName\"}})],1),a(\"q-item\",{staticClass:\"col\"},[a(\"q-checkbox\",{attrs:{\"left-label\":\"\",color:\"primary\",\"false-value\":\"\",\"true-value\":\"BRAK\",val:\"BRAK\",label:\"Brak klubu\"},model:{value:t.clubName,callback:function(e){t.clubName=e},expression:\"clubName\"}}),\"BRAK\"!=t.clubName?a(\"q-input\",{staticClass:\"full-width\",attrs:{onkeypress:\"return (event.charCode > 64 && event.charCode < 91) || (event.charCode > 96 && event.charCode < 123) || (event.charCode > 210 && event.charCode < 400) || event.charCode == 32\",filled:\"\",label:\"Nazwa Klubu\"},model:{value:t.clubName,callback:function(e){t.clubName=e},expression:\"clubName\"}}):t._e()],1),a(\"q-item\",[a(\"q-input\",{staticClass:\"full-width\",attrs:{mask:\"### ### ###\",filled:\"\",label:\"Numer telefonu\"},model:{value:t.otherPhoneNumber,callback:function(e){t.otherPhoneNumber=e},expression:\"otherPhoneNumber\"}})],1),a(\"q-item\",[a(\"q-input\",{staticClass:\"full-width\",attrs:{filled:\"\",label:\"e-mail\"},model:{value:t.otherEmail,callback:function(e){t.otherEmail=e},expression:\"otherEmail\"}})],1),a(\"q-item\",[a(\"q-btn\",{directives:[{name:\"close-popup\",rawName:\"v-close-popup\"}],attrs:{label:\"Zapisz do bazy\",color:\"primary\"},on:{click:function(e){return t.addOtherPerson()}}})],1)],1),a(\"q-card-actions\",{attrs:{align:\"right\"}},[a(\"q-btn\",{directives:[{name:\"close-popup\",rawName:\"v-close-popup\"}],attrs:{flat:\"\",label:\"Zamknij\",color:\"primary\"},on:{click:function(e){t.otherFirstName=null,t.otherSecondName=null,t.clubName=\"\"}}})],1)],1)],1),a(\"q-dialog\",{model:{value:t.addOtherAlert,callback:function(e){t.addOtherAlert=e},expression:\"addOtherAlert\"}},[a(\"q-card\",[a(\"q-card-section\",[a(\"div\",{staticClass:\"text-h6\"},[t._v(\"Zapisano do bazy\")])]),a(\"q-card-actions\",{attrs:{align:\"right\"}},[a(\"q-btn\",{directives:[{name:\"close-popup\",rawName:\"v-close-popup\"}],attrs:{flat:\"\",label:\"OK\",color:\"primary\"}})],1)],1)],1),a(\"q-dialog\",{attrs:{persistent:\"\"},model:{value:t.openList,callback:function(e){t.openList=e},expression:\"openList\"}},[a(\"q-card\",{staticClass:\"bg-red-5 text-center\"},[a(\"q-card-section\",{staticClass:\"flex-center\"},[a(\"h3\",[a(\"span\",{staticClass:\"q-ml-sm\"},[t._v(\"Wprowadź kod potwierdzający\")])]),a(\"div\",[a(\"q-input\",{staticClass:\"bg-yellow text-bold\",attrs:{autofocus:\"\",type:\"password\",filled:\"\",color:\"Yellow\",mask:\"####\"},on:{keypress:function(e){if(!e.type.indexOf(\"key\")&&t._k(e.keyCode,\"enter\",13,e.key,\"Enter\"))return null;t.openEvidence(),t.openList=!1}},model:{value:t.code,callback:function(e){t.code=e},expression:\"code\"}})],1)]),a(\"q-card-actions\",{attrs:{align:\"right\"}},[a(\"q-btn\",{directives:[{name:\"close-popup\",rawName:\"v-close-popup\"}],attrs:{label:\"anuluj\",color:\"black\"},on:{click:function(e){t.code=null}}}),a(\"q-btn\",{directives:[{name:\"close-popup\",rawName:\"v-close-popup\"}],attrs:{id:\"3\",label:\"otwórz\",color:\"black\"},on:{click:function(e){return t.openEvidence()}}})],1)],1)],1),a(\"q-dialog\",{on:{keypress:function(e){if(!e.type.indexOf(\"key\")&&t._k(e.keyCode,\"enter\",13,e.key,\"Enter\"))return null;t.forbidden=!1}},model:{value:t.forbidden,callback:function(e){t.forbidden=e},expression:\"forbidden\"}},[a(\"q-card\",[a(\"q-card-section\",[a(\"div\",{staticClass:\"text-h6\"},[t._v(\"Niewłaściwy kod. Spróbuj ponownie.\")])]),a(\"q-card-actions\",{attrs:{align:\"right\"}},[a(\"q-btn\",{directives:[{name:\"close-popup\",rawName:\"v-close-popup\"}],attrs:{flat:\"\",label:\"OK\",color:\"primary\"}})],1)],1)],1),a(\"q-dialog\",{on:{keypress:function(e){if(!e.type.indexOf(\"key\")&&t._k(e.keyCode,\"enter\",13,e.key,\"Enter\"))return null;t.showloading(),t.closeEvidence(),t.getAmmoData(),t.getCLosedEvidence(),t.confirmation=!1}},model:{value:t.confirmation,callback:function(e){t.confirmation=e},expression:\"confirmation\"}},[a(\"q-card\",[a(\"q-card-section\",[a(\"div\",{staticClass:\"text-h6\"},[t._v(\"Czy na pewno zamknąć listę amunicyjną\")])]),a(\"q-card-actions\",{attrs:{align:\"right\"}},[a(\"q-btn\",{directives:[{name:\"close-popup\",rawName:\"v-close-popup\"}],attrs:{flat:\"\",label:\"anuluj\",color:\"primary\"}}),a(\"q-btn\",{directives:[{name:\"close-popup\",rawName:\"v-close-popup\"}],attrs:{label:\"Zamknij\",color:\"primary\"},on:{click:function(e){t.showloading(),t.closeEvidence(),t.getAmmoData(),t.getCLosedEvidence()}}})],1)],1)],1)],1)},o=[],s=(a(\"c975\"),a(\"e6cf\"),a(\"5319\"),a(\"ddb0\"),a(\"2b3d\"),a(\"2b0e\")),l=a(\"bc3a\"),n=a.n(l);const r=[];s[\"a\"].prototype.$axios=n.a;var c={data(){return{uuid:null,ammunitionListAlert:!1,ammunitionListInfo:!1,ammunitionListNumber:null,ammunitionListEvidence:\"\",listDate:null,ammoList:[],ammoListClose:[],date:\"\",fail:!1,openList:!1,forbidden:!1,confirmation:!1,code:null,failArmory:!1,otherName:null,ammoAdded:!1,addAmmo:!1,filters:[],filtersOther:[],calibers:[],caliberUUID:null,memberName:\"\",addNewOtherPerson:!1,ammoQuantity:null,otherFirstName:null,otherSecondName:null,otherPhoneNumber:\"\",otherEmail:\"\",clubName:\"\",addOtherAlert:!1,permissionsOtherArbiterNumber:\"\",ordinal:\"\",permissionsOtherArbiterPermissionValidThru:\"\",options:r,local1:\"localhost:8080/shootingplace\",local:\"localhost:8080/shootingplace-1.0\"}},created(){this.getAmmoData(),this.getCLosedEvidence(),this.getListCalibers(),this.getOther(),this.getMembersNames()},methods:{showloading(){this.$q.loading.show({message:\"Dzieje się coś ważnego... Poczekaj\"}),this.timer=setTimeout((()=>{this.$q.loading.hide(),this.timer=0}),1e3)},getAmmoData(){fetch(\"http://\"+this.local+\"/ammoEvidence/evidence?state=true\",{method:\"GET\"}).then((t=>{t.json().then((t=>{this.ammoList=t}))}))},getCLosedEvidence(){fetch(\"http://\"+this.local+\"/ammoEvidence/closedEvidences\",{method:\"GET\"}).then((t=>{t.json().then((t=>{this.ammoListClose=t}))}))},getEvidence(){fetch(\"http://\"+this.local+\"/ammoEvidence/oneEvidence?uuid=\"+this.uuid,{method:\"GET\"}).then((t=>{t.json().then((t=>{this.ammunitionListEvidence=t}))}))},closeEvidence(){fetch(\"http://\"+this.local+\"/ammoEvidence/ammo?evidenceUUID=\"+this.uuid,{method:\"PATCH\"}).then((t=>{200===t.status?(this.getAmmoData(),this.getCLosedEvidence()):this.fail=!0}))},openEvidence(){fetch(\"http://\"+this.local+\"/ammoEvidence/ammoOpen?evidenceUUID=\"+this.uuid+\"&pinCode=\"+this.code,{method:\"PATCH\"}).then((t=>{200===t.status?(this.code=null,this.getAmmoData(),this.getCLosedEvidence()):this.fail=!0}))},getMembersNames(){fetch(\"http://\"+this.local+\"/member/getAllNames\",{method:\"GET\"}).then((t=>t.json())).then((t=>{this.filters=t}))},getAmmoListPDF(){n()({url:\"http://\"+this.local+\"/files/downloadAmmunitionList/\"+this.uuid,method:\"GET\",responseType:\"blob\"}).then((t=>{this.ammunitionListAlert=!0;var e=window.URL.createObjectURL(new Blob([t.data])),a=document.createElement(\"a\");a.href=e,a.setAttribute(\"download\",\"Lista_Rozliczenia_Amunicji_\"+this.date+\".pdf\"),document.body.appendChild(a),a.click()}))},addMemberAndAmmoToCaliber(){const t=this.memberName.split(\" \");var e=t.length;const a=t[e-1],i=this.otherName.split(\" \");var o=i.length;const s=i[o-1];fetch(\"http://\"+this.local+\"/ammoEvidence/ammo?caliberUUID=\"+this.caliberUUID+\"&legitimationNumber=\"+a+\"&counter=\"+this.ammoQuantity+\"&otherID=\"+s,{method:\"POST\",headers:{\"Content-Type\":\"application/json\"}}).then((t=>{200===t.status&&(this.getAmmoData(),this.showloading()),400===t.status&&(this.fail=!0,this.ammoQuantity=null),406===t.status&&(this.failArmory=!0,this.ammoQuantity=null)}))},getListCalibers(){fetch(\"http://\"+this.local+\"/armory/calibers\",{method:\"GET\"}).then((t=>t.json())).then((t=>{this.calibers=t}))},getOther(){fetch(\"http://\"+this.local+\"/other/\",{method:\"GET\"}).then((t=>t.json())).then((t=>{this.filtersOther=t}))},addOtherPerson(){var t={firstName:this.otherFirstName,secondName:this.otherSecondName,phoneNumber:this.otherPhoneNumber,email:this.otherEmail};fetch(\"http://\"+this.local+\"/other?club=\"+this.clubName+\"&arbiterClass=\"+this.ordinal+\"&arbiterNumber=\"+this.permissionsOtherArbiterNumber+\"&arbiterPermissionValidThru=\"+this.permissionsOtherArbiterPermissionValidThru.replace(/\\//gi,\"-\"),{method:\"POST\",body:JSON.stringify(t),headers:{\"Content-Type\":\"application/json\"}}).then((t=>{201===t.status?(this.addOtherAlert=!0,this.getOther()):this.fail=!0}))},filterFn(t,e){e(\"\"!==t?()=>{const e=t.toLowerCase();this.options=this.filters.filter((t=>t.toLowerCase().indexOf(e)>-1))}:()=>{const e=t.toLowerCase();this.options=this.filters.filter((t=>t.toLowerCase().indexOf(e)>-1))})},filterOther(t,e){e(\"\"!==t?()=>{const e=t.toLowerCase();this.options=this.filtersOther.filter((t=>t.toLowerCase().indexOf(e)>-1))}:()=>{const e=t.toLowerCase();this.options=this.filtersOther.filter((t=>t.toLowerCase().indexOf(e)>-1))})}}},d=c,m=a(\"2877\"),u=a(\"9989\"),h=a(\"66e5\"),p=a(\"f09f\"),b=a(\"9c40\"),f=a(\"4074\"),v=a(\"0170\"),C=a(\"8572\"),k=a(\"4983\"),y=a(\"24e8\"),q=a(\"a370\"),g=a(\"4b7e\"),w=a(\"ddd8\"),x=a(\"3786\"),N=a(\"27f9\"),L=a(\"8f8e\"),_=a(\"7f67\"),A=a(\"eebe\"),E=a.n(A),O=Object(m[\"a\"])(d,i,o,!1,null,null,null);e[\"default\"]=O.exports;E()(O,\"components\",{QPage:u[\"a\"],QItem:h[\"a\"],QCard:p[\"a\"],QBtn:b[\"a\"],QItemSection:f[\"a\"],QItemLabel:v[\"a\"],QField:C[\"a\"],QScrollArea:k[\"a\"],QDialog:y[\"a\"],QCardSection:q[\"a\"],QCardActions:g[\"a\"],QSelect:w[\"a\"],QRadio:x[\"a\"],QInput:N[\"a\"],QCheckbox:L[\"a\"]}),E()(O,\"directives\",{ClosePopup:_[\"a\"]})}}]);","name":"js/7.908e9ced.js","input":"(window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || []).push([[7],{\n\n/***/ \"cf45\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@quasar/app/lib/webpack/loader.auto-import-client.js?kebab!./node_modules/vue-loader/lib??vue-loader-options!./src/pages/ammolist.vue?vue&type=template&id=a3020a44&\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('q-page',{attrs:{\"padding\":\"\"}},[_c('div',[_c('q-item',[_c('div',{staticClass:\"text-center col full-width no-outline text-h4 text-bold\",attrs:{\"tabindex\":\"0\"}},[_vm._v(\"Lista Amunicyjna\")])])],1),_c('div',{staticClass:\"row\"},[_c('q-card',{staticClass:\"col-10\"},[_c('div',[_c('q-btn',{staticClass:\"col-1\",staticStyle:{},attrs:{\"label\":\"dodaj do listy\",\"icon\":\"book\"},on:{\"click\":function($event){_vm.getOther(),_vm.addAmmo=true}}})],1),(_vm.ammoList.length < 1)?_c('div',{staticClass:\"text-h5 text-bold\"},[_c('q-item',[_c('q-item-section',[_vm._v(\"\\n            Brak aktywnej listy amunicji\\n          \")])],1)],1):_vm._e(),(_vm.ammoList.length >= 1)?_c('div',{staticClass:\"col\"},[_c('q-item',{staticClass:\"col\"},[_c('q-item-section',{staticClass:\"text-h5 text-bold\"},[_vm._v(\"\\n          Lista Amunicji \"+_vm._s(_vm.ammoList[0].date)+\" numer \"+_vm._s(_vm.ammoList[0].number)+\"\\n        \")]),_c('q-item-section',{attrs:{\"side\":\"\",\"top\":\"\"}},[_c('q-btn',{attrs:{\"color\":\"primary\",\"label\":\"Zamknij listę\"},on:{\"click\":function($event){_vm.uuid=_vm.ammoList[0].uuid,_vm.confirmation=true}}})],1),_c('q-item-section',{attrs:{\"side\":\"\",\"top\":\"\"}},[_c('q-btn',{attrs:{\"color\":\"primary\",\"label\":\"Pobierz listę\"},on:{\"click\":function($event){_vm.date=_vm.ammoList[0].date,_vm.uuid=_vm.ammoList[0].uuid,_vm.showloading(),_vm.getAmmoListPDF(),_vm.getAmmoData(),_vm.getCLosedEvidence()}}})],1)],1),_vm._l((_vm.ammoList),function(ammoList,uuid){return _c('div',{key:uuid},_vm._l((ammoList.ammoInEvidenceEntityList),function(ammoInEvidenceEntityList,uuid){return _c('div',{key:uuid},[_c('q-item',[_c('q-item-label',{staticClass:\"text-h6\"},[_vm._v(\"\\n                  kaliber \"+_vm._s(ammoInEvidenceEntityList.caliberName)+\"\\n                \")])],1),_c('div',{staticClass:\"col\"},[_vm._l((ammoInEvidenceEntityList.ammoUsedToEvidenceEntityList),function(ammoUsedToEvidenceEntityList,uuid){return _c('div',{key:uuid,staticClass:\"row\"},[_c('q-field',{staticClass:\"col-10\",attrs:{\"color\":\"black\",\"standout\":\"bg-accent text-black\",\"label\":\"osoba\",\"stack-label\":\"\"}},[_c('div',{staticClass:\"row text-black\"},[_vm._v(_vm._s(ammoUsedToEvidenceEntityList.name))])]),_c('q-field',{staticClass:\"col-2\",attrs:{\"standout\":\"bg-accent text-black\",\"label\":\"ilość\",\"stack-label\":\"\"}},[_c('div',{staticClass:\"row text-black\"},[_vm._v(_vm._s(ammoUsedToEvidenceEntityList.counter))])])],1)}),_c('div',{staticClass:\"row reverse\"},[_c('q-field',{staticClass:\"col-2 bg-grey-4\",attrs:{\"standout\":\"bg-accent text-black\",\"label\":\"suma\",\"stack-label\":\"\"}},[_c('div',{staticClass:\"text-black\"},[_vm._v(_vm._s(ammoInEvidenceEntityList.quantity))])])],1)],2)],1)}),0)})],2):_vm._e()]),_c('q-card',{staticClass:\"col-2\"},[_c('div',[_c('q-item',[_c('q-item-label',{staticClass:\"text-h5 text-bold\"},[_vm._v(\"\\n            Zamknięte listy\\n          \")])],1),_c('q-scroll-area',{staticStyle:{\"height\":\"550px\"}},_vm._l((_vm.ammoListClose),function(ammoListClose,id){return _c('div',{key:id},[_c('q-item',[_c('q-btn',{staticClass:\"col full-width full-height\",on:{\"click\":function($event){_vm.date = ammoListClose.date,_vm.ammunitionListNumber = ammoListClose.number,_vm.uuid= ammoListClose.evidenceUUID,_vm.getEvidence(),_vm.ammunitionListInfo=true}}},[_c('div',[_vm._v(_vm._s(ammoListClose.number))]),_c('div',[_vm._v(_vm._s(ammoListClose.date))])])],1)],1)}),0)],1)])],1),_c('q-dialog',{model:{value:(_vm.ammunitionListAlert),callback:function ($$v) {_vm.ammunitionListAlert=$$v},expression:\"ammunitionListAlert\"}},[_c('q-card',[_c('q-card-section',[_c('div',{staticClass:\"text-h6\"},[_vm._v(\"Pobrano listę \"+_vm._s(_vm.date))])]),_c('q-card-actions',{attrs:{\"align\":\"right\"}},[_c('q-btn',{directives:[{name:\"close-popup\",rawName:\"v-close-popup\"}],attrs:{\"flat\":\"\",\"label\":\"OK\",\"color\":\"primary\"}})],1)],1)],1),_c('q-dialog',{model:{value:(_vm.ammunitionListInfo),callback:function ($$v) {_vm.ammunitionListInfo=$$v},expression:\"ammunitionListInfo\"}},[_c('q-card',[_c('q-card-section',{staticClass:\"col\"},[_c('div',{staticClass:\"col q-pa-xs\"},[_c('div',{staticClass:\"text-h6\"},[_vm._v(\"Lista numer \"+_vm._s(_vm.ammunitionListNumber))]),_c('div',{staticClass:\"text-h6\"},[_vm._v(\"Informacje dla listy z dnia \"+_vm._s(_vm.date))])]),_c('div',{staticClass:\"col q-pa-md\"},[_c('div',{staticClass:\"row bg-accent\"},[_c('div',{staticClass:\"col h6 text-bold text-center\"},[_vm._v(\"Kaliber\")]),_c('div',{staticClass:\"col h6 text-bold text-center\"},[_vm._v(\"Suma\")])]),_vm._l((_vm.ammunitionListEvidence.ammoInEvidenceEntityList),function(ammo,uuid){return _c('div',{key:uuid,staticClass:\"full-width col\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col text-bold text-center\"},[_vm._v(_vm._s(ammo.caliberName))]),_c('div',{staticClass:\"col text-bold text-center\"},[_vm._v(_vm._s(ammo.quantity))])])])})],2),_c('div',{staticClass:\"row\"},[_c('q-btn',{staticClass:\"col full-width full-height\",attrs:{\"color\":\"secondary\",\"label\":\"pobierz listę\"},on:{\"click\":function($event){return _vm.getAmmoListPDF()}}}),_c('q-item'),_c('q-btn',{staticClass:\"col full-width full-height\",attrs:{\"color\":\"primary\",\"label\":\"otwórz listę\"},on:{\"click\":function($event){_vm.openList=true}}})],1)]),_c('q-card-actions',{attrs:{\"align\":\"right\"}},[_c('q-btn',{directives:[{name:\"close-popup\",rawName:\"v-close-popup\"}],attrs:{\"flat\":\"\",\"label\":\"Zamknij\",\"color\":\"primary\"}})],1)],1)],1),_c('q-dialog',{on:{\"keypress\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }_vm.fail=false}},model:{value:(_vm.fail),callback:function ($$v) {_vm.fail=$$v},expression:\"fail\"}},[_c('q-card',[_c('q-card-section',[_c('div',{staticClass:\"text-h6\"},[_vm._v(\"Wystąpił jakiś problem\")])]),_c('q-card-actions',{attrs:{\"align\":\"right\"}},[_c('q-btn',{directives:[{name:\"close-popup\",rawName:\"v-close-popup\"}],attrs:{\"flat\":\"\",\"label\":\"OK\",\"color\":\"primary\"}})],1)],1)],1),_c('q-dialog',{on:{\"keypress\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }_vm.failArmory=false}},model:{value:(_vm.failArmory),callback:function ($$v) {_vm.failArmory=$$v},expression:\"failArmory\"}},[_c('q-card',[_c('q-card-section',[_c('div',{staticClass:\"text-h6\"},[_vm._v(\"Nie można wydać amunicji - Sprawdź stan magazynu\")])]),_c('q-card-actions',{attrs:{\"align\":\"right\"}},[_c('q-btn',{directives:[{name:\"close-popup\",rawName:\"v-close-popup\"}],attrs:{\"flat\":\"\",\"label\":\"OK\",\"color\":\"primary\"}})],1)],1)],1),_c('q-dialog',{model:{value:(_vm.addAmmo),callback:function ($$v) {_vm.addAmmo=$$v},expression:\"addAmmo\"}},[_c('div',{staticClass:\"bg-white\"},[_c('div',{staticClass:\"row\"},[_c('q-select',{staticClass:\"col\",attrs:{\"filled\":\"\",\"use-input\":\"\",\"hide-selected\":\"\",\"fill-input\":\"\",\"input-debounce\":\"0\",\"options\":_vm.options,\"label\":\"Dodaj osobę z klubu\"},on:{\"input\":function($event){_vm.otherName='0 0'},\"filter\":_vm.filterFn},scopedSlots:_vm._u([{key:\"no-option\",fn:function(){return [_c('q-item',[_c('q-item-section',{staticClass:\"text-grey\"},[_vm._v(\"\\n              Brak wyników\\n            \")])],1)]},proxy:true}]),model:{value:(_vm.memberName),callback:function ($$v) {_vm.memberName=$$v},expression:\"memberName\"}}),_c('q-select',{staticClass:\"col\",attrs:{\"filled\":\"\",\"use-input\":\"\",\"hide-selected\":\"\",\"fill-input\":\"\",\"input-debounce\":\"0\",\"options\":_vm.options,\"label\":\"Dodaj osobę spoza klubu\"},on:{\"input\":function($event){_vm.memberName='0 0'},\"filter\":_vm.filterOther},scopedSlots:_vm._u([{key:\"no-option\",fn:function(){return [_c('div',[_c('div',{staticClass:\"q-pa-md bg-grey-5 text-center text-bold\"},[_vm._v(\"Brak wyników  - możesz dodać nową osobę\")]),_c('div',{staticClass:\"q-pa-md bg-grey-5\"},[_c('q-btn',{staticClass:\"full-width\",attrs:{\"color\":\"primary\",\"label\":\"przejdź do formularza\"},on:{\"click\":function($event){_vm.addNewOtherPerson = true}}})],1)])]},proxy:true}]),model:{value:(_vm.otherName),callback:function ($$v) {_vm.otherName=$$v},expression:\"otherName\"}})],1),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"full-width\"},_vm._l((_vm.calibers),function(calibers,uuid){return _c('q-radio',{key:uuid,attrs:{\"val\":calibers.uuid},model:{value:(_vm.caliberUUID),callback:function ($$v) {_vm.caliberUUID=$$v},expression:\"caliberUUID\"}},[_c('q-field',{staticClass:\"full-width cursor-pointer\",attrs:{\"borderless\":\"\"}},[_c('div',{staticClass:\"full-width text-black text-left q-pa-md\"},[_vm._v(_vm._s(calibers.name))])])],1)}),1)]),_c('div',{staticClass:\"col\"},[_c('q-input',{staticClass:\"full-width col\",attrs:{\"type\":\"number\",\"filled\":\"\",\"placeholder\":\"Tylko cyfry\",\"onkeypress\":\"return (event.charCode > 44 && event.charCode < 58)\",\"label\":\"Ilość Amunicji\"},on:{\"keypress\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.addMemberAndAmmoToCaliber()}},model:{value:(_vm.ammoQuantity),callback:function ($$v) {_vm.ammoQuantity=$$v},expression:\"ammoQuantity\"}}),_c('q-card-actions',{staticClass:\"row\",attrs:{\"align\":\"right\"}},[_c('q-item',[_c('q-btn',{directives:[{name:\"close-popup\",rawName:\"v-close-popup\"}],staticClass:\"full-width col\",attrs:{\"color\":\"primary\",\"label\":\"zamknij\"}})],1),_c('q-item',[_c('q-btn',{staticClass:\"full-width col\",attrs:{\"color\":\"primary\",\"label\":\"wydaj amunicję\"},on:{\"click\":function($event){return _vm.addMemberAndAmmoToCaliber()}}})],1)],1)],1)])]),_c('q-dialog',{model:{value:(_vm.addNewOtherPerson),callback:function ($$v) {_vm.addNewOtherPerson=$$v},expression:\"addNewOtherPerson\"}},[_c('q-card',{staticClass:\"full-width\"},[_c('q-card-section',[_c('div',{staticClass:\"text-h6\"},[_vm._v(\"Dodawanie nowej osoby spoza klubu\")]),_c('q-item',[_c('q-input',{staticClass:\"full-width\",attrs:{\"onkeypress\":\"return (event.charCode > 64 && event.charCode < 91) || (event.charCode > 96 && event.charCode < 123) || (event.charCode > 210 && event.charCode < 400) || event.charCode == 32\",\"filled\":\"\",\"label\":\"Imię\"},model:{value:(_vm.otherFirstName),callback:function ($$v) {_vm.otherFirstName=$$v},expression:\"otherFirstName\"}})],1),_c('q-item',[_c('q-input',{staticClass:\"full-width\",attrs:{\"onkeypress\":\"return (event.charCode > 64 && event.charCode < 91) || (event.charCode > 96 && event.charCode < 123) || (event.charCode > 210 && event.charCode < 400) || event.charCode == 32\",\"filled\":\"\",\"label\":\"Nazwisko\"},model:{value:(_vm.otherSecondName),callback:function ($$v) {_vm.otherSecondName=$$v},expression:\"otherSecondName\"}})],1),_c('q-item',{staticClass:\"col\"},[_c('q-checkbox',{attrs:{\"left-label\":\"\",\"color\":\"primary\",\"false-value\":\"\",\"true-value\":\"BRAK\",\"val\":'BRAK',\"label\":\"Brak klubu\"},model:{value:(_vm.clubName),callback:function ($$v) {_vm.clubName=$$v},expression:\"clubName\"}}),(_vm.clubName!='BRAK')?_c('q-input',{staticClass:\"full-width\",attrs:{\"onkeypress\":\"return (event.charCode > 64 && event.charCode < 91) || (event.charCode > 96 && event.charCode < 123) || (event.charCode > 210 && event.charCode < 400) || event.charCode == 32\",\"filled\":\"\",\"label\":\"Nazwa Klubu\"},model:{value:(_vm.clubName),callback:function ($$v) {_vm.clubName=$$v},expression:\"clubName\"}}):_vm._e()],1),_c('q-item',[_c('q-input',{staticClass:\"full-width\",attrs:{\"mask\":\"### ### ###\",\"filled\":\"\",\"label\":\"Numer telefonu\"},model:{value:(_vm.otherPhoneNumber),callback:function ($$v) {_vm.otherPhoneNumber=$$v},expression:\"otherPhoneNumber\"}})],1),_c('q-item',[_c('q-input',{staticClass:\"full-width\",attrs:{\"filled\":\"\",\"label\":\"e-mail\"},model:{value:(_vm.otherEmail),callback:function ($$v) {_vm.otherEmail=$$v},expression:\"otherEmail\"}})],1),_c('q-item',[_c('q-btn',{directives:[{name:\"close-popup\",rawName:\"v-close-popup\"}],attrs:{\"label\":\"Zapisz do bazy\",\"color\":\"primary\"},on:{\"click\":function($event){return _vm.addOtherPerson()}}})],1)],1),_c('q-card-actions',{attrs:{\"align\":\"right\"}},[_c('q-btn',{directives:[{name:\"close-popup\",rawName:\"v-close-popup\"}],attrs:{\"flat\":\"\",\"label\":\"Zamknij\",\"color\":\"primary\"},on:{\"click\":function($event){_vm.otherFirstName=null,_vm.otherSecondName=null,_vm.clubName=''}}})],1)],1)],1),_c('q-dialog',{model:{value:(_vm.addOtherAlert),callback:function ($$v) {_vm.addOtherAlert=$$v},expression:\"addOtherAlert\"}},[_c('q-card',[_c('q-card-section',[_c('div',{staticClass:\"text-h6\"},[_vm._v(\"Zapisano do bazy\")])]),_c('q-card-actions',{attrs:{\"align\":\"right\"}},[_c('q-btn',{directives:[{name:\"close-popup\",rawName:\"v-close-popup\"}],attrs:{\"flat\":\"\",\"label\":\"OK\",\"color\":\"primary\"}})],1)],1)],1),_c('q-dialog',{attrs:{\"persistent\":\"\"},model:{value:(_vm.openList),callback:function ($$v) {_vm.openList=$$v},expression:\"openList\"}},[_c('q-card',{staticClass:\"bg-red-5 text-center\"},[_c('q-card-section',{staticClass:\"flex-center\"},[_c('h3',[_c('span',{staticClass:\"q-ml-sm\"},[_vm._v(\"Wprowadź kod potwierdzający\")])]),_c('div',[_c('q-input',{staticClass:\"bg-yellow text-bold\",attrs:{\"autofocus\":\"\",\"type\":\"password\",\"filled\":\"\",\"color\":\"Yellow\",\"mask\":\"####\"},on:{\"keypress\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }_vm.openEvidence(),_vm.openList=false}},model:{value:(_vm.code),callback:function ($$v) {_vm.code=$$v},expression:\"code\"}})],1)]),_c('q-card-actions',{attrs:{\"align\":\"right\"}},[_c('q-btn',{directives:[{name:\"close-popup\",rawName:\"v-close-popup\"}],attrs:{\"label\":\"anuluj\",\"color\":\"black\"},on:{\"click\":function($event){_vm.code=null}}}),_c('q-btn',{directives:[{name:\"close-popup\",rawName:\"v-close-popup\"}],attrs:{\"id\":\"3\",\"label\":\"otwórz\",\"color\":\"black\"},on:{\"click\":function($event){return _vm.openEvidence()}}})],1)],1)],1),_c('q-dialog',{on:{\"keypress\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }_vm.forbidden=false}},model:{value:(_vm.forbidden),callback:function ($$v) {_vm.forbidden=$$v},expression:\"forbidden\"}},[_c('q-card',[_c('q-card-section',[_c('div',{staticClass:\"text-h6\"},[_vm._v(\"Niewłaściwy kod. Spróbuj ponownie.\")])]),_c('q-card-actions',{attrs:{\"align\":\"right\"}},[_c('q-btn',{directives:[{name:\"close-popup\",rawName:\"v-close-popup\"}],attrs:{\"flat\":\"\",\"label\":\"OK\",\"color\":\"primary\"}})],1)],1)],1),_c('q-dialog',{on:{\"keypress\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }_vm.showloading(),_vm.closeEvidence (),_vm.getAmmoData(),_vm.getCLosedEvidence(),_vm.confirmation=false}},model:{value:(_vm.confirmation),callback:function ($$v) {_vm.confirmation=$$v},expression:\"confirmation\"}},[_c('q-card',[_c('q-card-section',[_c('div',{staticClass:\"text-h6\"},[_vm._v(\"Czy na pewno zamknąć listę amunicyjną\")])]),_c('q-card-actions',{attrs:{\"align\":\"right\"}},[_c('q-btn',{directives:[{name:\"close-popup\",rawName:\"v-close-popup\"}],attrs:{\"flat\":\"\",\"label\":\"anuluj\",\"color\":\"primary\"}}),_c('q-btn',{directives:[{name:\"close-popup\",rawName:\"v-close-popup\"}],attrs:{\"label\":\"Zamknij\",\"color\":\"primary\"},on:{\"click\":function($event){_vm.showloading(),_vm.closeEvidence (),_vm.getAmmoData(),_vm.getCLosedEvidence()}}})],1)],1)],1)],1)}\nvar staticRenderFns = []\n\n\n// CONCATENATED MODULE: ./src/pages/ammolist.vue?vue&type=template&id=a3020a44&\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.index-of.js\nvar es_array_index_of = __webpack_require__(\"c975\");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.promise.js\nvar es_promise = __webpack_require__(\"e6cf\");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.string.replace.js\nvar es_string_replace = __webpack_require__(\"5319\");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/web.dom-collections.iterator.js\nvar web_dom_collections_iterator = __webpack_require__(\"ddb0\");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/web.url.js\nvar web_url = __webpack_require__(\"2b3d\");\n\n// EXTERNAL MODULE: ./node_modules/vue/dist/vue.runtime.esm.js\nvar vue_runtime_esm = __webpack_require__(\"2b0e\");\n\n// EXTERNAL MODULE: ./node_modules/axios/index.js\nvar axios = __webpack_require__(\"bc3a\");\nvar axios_default = /*#__PURE__*/__webpack_require__.n(axios);\n\n// CONCATENATED MODULE: ./node_modules/@quasar/app/lib/webpack/loader.transform-quasar-imports.js!./node_modules/babel-loader/lib??ref--2-0!./node_modules/@quasar/app/lib/webpack/loader.auto-import-client.js?kebab!./node_modules/vue-loader/lib??vue-loader-options!./src/pages/ammolist.vue?vue&type=script&lang=js&\n\n\n\n\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nconst stringOptions = [];\n\n\nvue_runtime_esm[\"a\" /* default */].prototype.$axios = axios_default.a;\n/* harmony default export */ var ammolistvue_type_script_lang_js_ = ({\n  data() {\n    return {\n      uuid: null,\n      ammunitionListAlert: false,\n      ammunitionListInfo: false,\n      ammunitionListNumber: null,\n      ammunitionListEvidence: '',\n      listDate: null,\n      ammoList: [],\n      ammoListClose: [],\n      date: '',\n      fail: false,\n      openList: false,\n      forbidden: false,\n      confirmation: false,\n      code: null,\n      failArmory: false,\n      otherName: null,\n      ammoAdded: false,\n      addAmmo: false,\n      filters: [],\n      filtersOther: [],\n      calibers: [],\n      caliberUUID: null,\n      memberName: '',\n      addNewOtherPerson: false,\n      ammoQuantity: null,\n      otherFirstName: null,\n      otherSecondName: null,\n      otherPhoneNumber: '',\n      otherEmail: '',\n      clubName: '',\n      addOtherAlert: false,\n      permissionsOtherArbiterNumber: '',\n      ordinal: '',\n      permissionsOtherArbiterPermissionValidThru: '',\n      options: stringOptions,\n      local1: 'localhost:8080/shootingplace',\n      local: 'localhost:8080/shootingplace-1.0'\n    };\n  },\n\n  created() {\n    this.getAmmoData();\n    this.getCLosedEvidence();\n    this.getListCalibers();\n    this.getOther();\n    this.getMembersNames();\n  },\n\n  methods: {\n    showloading() {\n      this.$q.loading.show({\n        message: 'Dzieje się coś ważnego... Poczekaj'\n      });\n      this.timer = setTimeout(() => {\n        this.$q.loading.hide();\n        this.timer = 0;\n      }, 1000);\n    },\n\n    getAmmoData() {\n      fetch('http://' + this.local + '/ammoEvidence/evidence?state=true', {\n        method: 'GET'\n      }).then(response => {\n        response.json().then(ammoList => {\n          this.ammoList = ammoList;\n        });\n      });\n    },\n\n    getCLosedEvidence() {\n      fetch('http://' + this.local + '/ammoEvidence/closedEvidences', {\n        method: 'GET'\n      }).then(response => {\n        response.json().then(ammoListClose => {\n          this.ammoListClose = ammoListClose;\n        });\n      });\n    },\n\n    getEvidence() {\n      fetch('http://' + this.local + '/ammoEvidence/oneEvidence?uuid=' + this.uuid, {\n        method: 'GET'\n      }).then(response => {\n        response.json().then(response => {\n          this.ammunitionListEvidence = response;\n        });\n      });\n    },\n\n    closeEvidence() {\n      fetch('http://' + this.local + '/ammoEvidence/ammo?evidenceUUID=' + this.uuid, {\n        method: 'PATCH'\n      }).then(response => {\n        if (response.status === 200) {\n          this.getAmmoData();\n          this.getCLosedEvidence();\n        } else {\n          this.fail = true;\n        }\n      });\n    },\n\n    openEvidence() {\n      fetch('http://' + this.local + '/ammoEvidence/ammoOpen?evidenceUUID=' + this.uuid + '&pinCode=' + this.code, {\n        method: 'PATCH'\n      }).then(response => {\n        if (response.status === 200) {\n          this.code = null;\n          this.getAmmoData();\n          this.getCLosedEvidence();\n        } else {\n          this.fail = true;\n        }\n      });\n    },\n\n    getMembersNames() {\n      fetch('http://' + this.local + '/member/getAllNames', {\n        method: 'GET'\n      }).then(response => response.json()).then(filters => {\n        this.filters = filters;\n      });\n    },\n\n    getAmmoListPDF() {\n      axios_default()({\n        url: 'http://' + this.local + '/files/downloadAmmunitionList/' + this.uuid,\n        method: 'GET',\n        responseType: 'blob'\n      }).then(response => {\n        this.ammunitionListAlert = true;\n        var fileURL = window.URL.createObjectURL(new Blob([response.data]));\n        var fileLink = document.createElement('a');\n        fileLink.href = fileURL;\n        fileLink.setAttribute('download', 'Lista_Rozliczenia_Amunicji_' + this.date + '.pdf');\n        document.body.appendChild(fileLink);\n        fileLink.click();\n      });\n    },\n\n    addMemberAndAmmoToCaliber() {\n      const memberNameWord = this.memberName.split(' ');\n      var legNumber = memberNameWord.length;\n      const memberNameUUID = memberNameWord[legNumber - 1];\n      const otherNameWord = this.otherName.split(' ');\n      var idNumber = otherNameWord.length;\n      const otherNameID = otherNameWord[idNumber - 1];\n      fetch('http://' + this.local + '/ammoEvidence/ammo?caliberUUID=' + this.caliberUUID + '&legitimationNumber=' + memberNameUUID + '&counter=' + this.ammoQuantity + '&otherID=' + otherNameID, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      }).then(response => {\n        if (response.status === 200) {\n          this.getAmmoData();\n          this.showloading();\n        }\n\n        if (response.status === 400) {\n          this.fail = true;\n          this.ammoQuantity = null;\n        }\n\n        if (response.status === 406) {\n          this.failArmory = true;\n          this.ammoQuantity = null;\n        }\n      });\n    },\n\n    getListCalibers() {\n      fetch('http://' + this.local + '/armory/calibers', {\n        method: 'GET'\n      }).then(response => response.json()).then(calibers => {\n        this.calibers = calibers;\n      });\n    },\n\n    getOther() {\n      fetch('http://' + this.local + '/other/', {\n        method: 'GET'\n      }).then(response => response.json()).then(filtersOther => {\n        this.filtersOther = filtersOther;\n      });\n    },\n\n    addOtherPerson() {\n      var person = {\n        firstName: this.otherFirstName,\n        secondName: this.otherSecondName,\n        phoneNumber: this.otherPhoneNumber,\n        email: this.otherEmail\n      };\n      fetch('http://' + this.local + '/other?club=' + this.clubName + '&arbiterClass=' + this.ordinal + '&arbiterNumber=' + this.permissionsOtherArbiterNumber + '&arbiterPermissionValidThru=' + this.permissionsOtherArbiterPermissionValidThru.replace(/\\//gi, '-'), {\n        method: 'POST',\n        body: JSON.stringify(person),\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      }).then(response => {\n        if (response.status === 201) {\n          this.addOtherAlert = true;\n          this.getOther();\n        } else {\n          this.fail = true;\n        }\n      });\n    },\n\n    filterFn(val, update) {\n      if (val === '') {\n        update(() => {\n          const needle = val.toLowerCase();\n          this.options = this.filters.filter(v => v.toLowerCase().indexOf(needle) > -1);\n        });\n        return;\n      }\n\n      update(() => {\n        const needle = val.toLowerCase();\n        this.options = this.filters.filter(v => v.toLowerCase().indexOf(needle) > -1);\n      });\n    },\n\n    filterOther(val, update) {\n      if (val === '') {\n        update(() => {\n          const needle = val.toLowerCase();\n          this.options = this.filtersOther.filter(v => v.toLowerCase().indexOf(needle) > -1);\n        });\n        return;\n      }\n\n      update(() => {\n        const needle = val.toLowerCase();\n        this.options = this.filtersOther.filter(v => v.toLowerCase().indexOf(needle) > -1);\n      });\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./src/pages/ammolist.vue?vue&type=script&lang=js&\n /* harmony default export */ var pages_ammolistvue_type_script_lang_js_ = (ammolistvue_type_script_lang_js_); \n// EXTERNAL MODULE: ./node_modules/vue-loader/lib/runtime/componentNormalizer.js\nvar componentNormalizer = __webpack_require__(\"2877\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/page/QPage.js\nvar QPage = __webpack_require__(\"9989\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/item/QItem.js\nvar QItem = __webpack_require__(\"66e5\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/card/QCard.js\nvar QCard = __webpack_require__(\"f09f\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/btn/QBtn.js + 1 modules\nvar QBtn = __webpack_require__(\"9c40\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/item/QItemSection.js\nvar QItemSection = __webpack_require__(\"4074\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/item/QItemLabel.js\nvar QItemLabel = __webpack_require__(\"0170\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/field/QField.js + 3 modules\nvar QField = __webpack_require__(\"8572\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/scroll-area/QScrollArea.js\nvar QScrollArea = __webpack_require__(\"4983\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/dialog/QDialog.js\nvar QDialog = __webpack_require__(\"24e8\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/card/QCardSection.js\nvar QCardSection = __webpack_require__(\"a370\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/card/QCardActions.js\nvar QCardActions = __webpack_require__(\"4b7e\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/select/QSelect.js + 3 modules\nvar QSelect = __webpack_require__(\"ddd8\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/radio/QRadio.js\nvar QRadio = __webpack_require__(\"3786\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/input/QInput.js + 2 modules\nvar QInput = __webpack_require__(\"27f9\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/checkbox/QCheckbox.js + 1 modules\nvar QCheckbox = __webpack_require__(\"8f8e\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/directives/ClosePopup.js\nvar ClosePopup = __webpack_require__(\"7f67\");\n\n// EXTERNAL MODULE: ./node_modules/@quasar/app/lib/webpack/runtime.auto-import.js\nvar runtime_auto_import = __webpack_require__(\"eebe\");\nvar runtime_auto_import_default = /*#__PURE__*/__webpack_require__.n(runtime_auto_import);\n\n// CONCATENATED MODULE: ./src/pages/ammolist.vue\n\n\n\n\n\n/* normalize component */\n\nvar component = Object(componentNormalizer[\"a\" /* default */])(\n  pages_ammolistvue_type_script_lang_js_,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* harmony default export */ var ammolist = __webpack_exports__[\"default\"] = (component.exports);\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nruntime_auto_import_default()(component, 'components', {QPage: QPage[\"a\" /* default */],QItem: QItem[\"a\" /* default */],QCard: QCard[\"a\" /* default */],QBtn: QBtn[\"a\" /* default */],QItemSection: QItemSection[\"a\" /* default */],QItemLabel: QItemLabel[\"a\" /* default */],QField: QField[\"a\" /* default */],QScrollArea: QScrollArea[\"a\" /* default */],QDialog: QDialog[\"a\" /* default */],QCardSection: QCardSection[\"a\" /* default */],QCardActions: QCardActions[\"a\" /* default */],QSelect: QSelect[\"a\" /* default */],QRadio: QRadio[\"a\" /* default */],QInput: QInput[\"a\" /* default */],QCheckbox: QCheckbox[\"a\" /* default */]});runtime_auto_import_default()(component, 'directives', {ClosePopup: ClosePopup[\"a\" /* default */]});\n\n\n/***/ })\n\n}]);","inputSourceMap":null}