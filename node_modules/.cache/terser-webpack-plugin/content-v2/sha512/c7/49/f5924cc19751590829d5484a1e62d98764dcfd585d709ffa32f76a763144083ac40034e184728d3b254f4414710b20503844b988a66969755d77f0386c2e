{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[37],{bbd6:function(e,t,o){\"use strict\";o.r(t);o(\"5319\");var s=function(){var e=this,t=e._self._c;return t(\"div\",{staticClass:\"col\"},[t(\"div\",{staticClass:\"full-width col-4\"},[t(\"q-select\",{staticClass:\"col-4\",attrs:{dense:\"\",\"options-dense\":\"\",dark:e.darkSet(),filled:\"\",\"label-color\":\"positive\",color:\"positive\",\"input-class\":\"text-positive\",\"fill-input\":\"\",\"popup-content-class\":\"bg-dark text-positive\",\"options-selected-class\":\"bg-dark text-positive\",\"options-dark\":e.darkSet(),options:e.workingYear,label:\"Wybierz Rok\"},on:{input:function(t){e.monthSelect1=null,e.getAllWorkingMonthInYear(e.yearSelect1)}},model:{value:e.yearSelect1,callback:function(t){e.yearSelect1=t},expression:\"yearSelect1\"}}),null!=e.yearSelect1?t(\"q-select\",{staticClass:\"col-4\",attrs:{dense:\"\",\"options-dense\":\"\",dark:e.darkSet(),filled:\"\",\"label-color\":\"positive\",color:\"positive\",\"input-class\":\"text-positive\",\"fill-input\":\"\",\"popup-content-class\":\"bg-dark text-positive\",\"options-selected-class\":\"bg-dark text-positive\",\"options-dark\":e.darkSet(),options:e.month,label:\"Wybierz Miesiąc\"},on:{input:function(t){e.workTypeSelect1=null,e.getAllWorkingTypeInMonthAndYear(e.yearSelect1,e.monthSelect1)}},model:{value:e.monthSelect1,callback:function(t){e.monthSelect1=t},expression:\"monthSelect1\"}}):e._e(),null!=e.monthSelect1?t(\"q-select\",{staticClass:\"col-4\",attrs:{dense:\"\",\"options-dense\":\"\",dark:e.darkSet(),filled:\"\",\"label-color\":\"positive\",color:\"positive\",\"input-class\":\"text-positive\",\"fill-input\":\"\",\"popup-content-class\":\"bg-dark text-positive\",\"options-selected-class\":\"bg-dark text-positive\",\"options-dark\":e.darkSet(),options:e.workType1,label:\"Wybierz Rodzaj\"},model:{value:e.workTypeSelect1,callback:function(t){e.workTypeSelect1=t},expression:\"workTypeSelect1\"}}):e._e(),t(\"div\",[t(\"q-btn\",{attrs:{color:\"primary\",\"text-color\":\"white\"},on:{click:function(t){return e.getAllWorkingTimeEvidenceInMonth(e.yearSelect1,e.monthSelect1,e.workTypeSelect1)}}},[e._v(\"wyświetl listę\\n        pracy\\n      \")])],1)],1),e.workList.length>0?t(\"div\",{staticClass:\"col\"},[t(\"div\",{staticClass:\"row bg-secondary text-white\"},[t(\"div\",{staticClass:\"text-right self-center q-pl-md\",staticStyle:{width:\"2vw\"}},[e._v(\"lp\")]),t(\"div\",{staticClass:\"col-2 text-center self-center\"},[e._v(\"Start\")]),t(\"div\",{staticClass:\"col-2 text-center self-center\"},[e._v(\"Stop\")]),t(\"div\",{staticClass:\"col-1 text-left self-center\"},[e._v(\"Rodzaj Pracy\")]),t(\"div\",{staticClass:\"col-2 text-center self-center\"},[e._v(\"Czas Pracy\")]),t(\"div\",{staticClass:\"col text-center self-center\"},[e._v(\"Nadgodziny\")]),t(\"div\",{staticClass:\"col text-center self-center\"},[e._v(\"Zamknięte automatycznie\")]),t(\"div\",{staticClass:\"col text-center self-center\"},[t(\"div\",[t(\"div\",[e._v(\"Zatwierdzone\")]),t(\"div\",{staticClass:\"bg-primary\"},[t(\"q-checkbox\",{attrs:{color:\"secondary\",dark:\"\",\"keep-color\":\"\",label:e.checked?\"odznacz wszystko\":\"zaznacz wszystko\"},on:{input:function(t){return e.checkedAll(e.workList,e.checked)}},model:{value:e.checked,callback:function(t){e.checked=t},expression:\"checked\"}})],1)])])]),t(\"div\",{staticClass:\"q-pa-none text-black full-width\"},e._l(e.workList,(function(o,s){return t(\"q-expansion-item\",{key:s,staticClass:\"col bg-grey-5\",attrs:{dense:\"\",label:o.secondName+\" \"+o.firstName+\" \"+o.subType+\" czas pracy: \"+o.workTime}},e._l(o.wtedtoList,(function(o,s){return t(\"q-field\",{key:s,staticClass:\"bg-grey-2\",attrs:{dense:\"\",color:\"black\",standout:\"bg-accent text-black\"}},[t(\"div\",{staticClass:\"row full-width\",on:{dblclick:function(t){e.uuid=o.uuid,e.workTimeStart=o.start.replace(\"T\",\" \").substring(0,16),e.workTimeStop=o.stop.replace(\"T\",\" \").substring(0,16),e.editWorkTime=!0}}},[t(\"div\",{staticClass:\"text-left self-center text-bold\",staticStyle:{width:\"2vw\"}},[e._v(\"\\n                  \"+e._s(s+1)+\"\\n                \")]),t(\"div\",{staticClass:\"col-2 text-center self-center\"},[e._v(e._s(o.start.replace(\"T\",\" \").substring(0,19))+\"\\n                \")]),t(\"div\",{staticClass:\"col-2 text-center self-center\"},[e._v(e._s(o.stop.replace(\"T\",\" \").substring(0,19))+\"\\n                \")]),t(\"div\",{staticClass:\"col-1 text-left self-center\"},[e._v(e._s(o.workType))]),t(\"div\",{staticClass:\"col-2 text-center self-center\"},[e._v(e._s(o.workTime))]),t(\"div\",{staticClass:\"col text-center self-center bg-primary text-white\"},[e._v(e._s(o.toClarify?\"TAK\":\"\"))]),t(\"div\",{staticClass:\"col text-center self-center bg-primary text-white\"},[e._v(e._s(o.automatedClosed?\"TAK\":\"\")+\"\\n                \")]),t(\"div\",{staticClass:\"col text-center self-center bg-green\"},[e._v(e._s(o.accepted?\"ZATWIERDZONO\":\"\")+\"\\n                  \"),o.accepted?e._e():t(\"q-checkbox\",{attrs:{val:o.uuid,label:\"zatwierdź\"},on:{input:function(t){e.c=e.checkLength(e.workList)}},model:{value:e.acceptedList,callback:function(t){e.acceptedList=t},expression:\"acceptedList\"}})],1)])])})),1)})),1),t(\"div\",{staticClass:\"row q-pt-md q-pb-md\"},[t(\"div\",{staticClass:\"col\"},[t(\"q-btn\",{attrs:{color:\"primary\",\"text-color\":\"white\",dense:\"\",disable:e.workTimeChangeArray.length<1,label:e.workTimeChangeArray.length>0?\"wprowadź zmiany\":\"Brak Zmian\"},on:{click:function(t){e.changeWorkingTimeDial=!0}}})],1),t(\"div\",{staticClass:\"reverse\"},[t(\"q-btn\",{attrs:{color:\"secondary\",\"text-color\":\"white\",dense:\"\",label:\"zatwierdź czas pracy\",disable:e.acceptedList.length<1},on:{click:function(t){e.acceptWorkingTimeDial=!0}}})],1)])]):e._e(),t(\"q-select\",{attrs:{dense:\"\",\"options-dense\":\"\",dark:e.darkSet(),filled:\"\",\"label-color\":\"positive\",color:\"positive\",\"input-class\":\"text-positive\",\"fill-input\":\"\",\"popup-content-class\":\"bg-dark text-positive\",\"options-selected-class\":\"bg-dark text-positive\",\"options-dark\":e.darkSet(),options:e.workingYear,label:\"Wybierz Rok\"},on:{input:function(t){e.monthSelect=null,e.getAllWorkingMonthInYear(e.yearSelect)}},model:{value:e.yearSelect,callback:function(t){e.yearSelect=t},expression:\"yearSelect\"}}),null!=e.yearSelect?t(\"q-select\",{staticClass:\"q-pa-none\",attrs:{dense:\"\",\"options-dense\":\"\",dark:e.darkSet(),filled:\"\",\"label-color\":\"positive\",color:\"positive\",\"input-class\":\"text-positive\",\"fill-input\":\"\",\"popup-content-class\":\"bg-dark text-positive\",\"options-selected-class\":\"bg-dark text-positive\",\"options-dark\":e.darkSet(),options:e.month,label:\"Wybierz Miesiąc\"},on:{input:function(t){e.workTypeSelect=null,e.getAllWorkingTypeInMonthAndYear(e.yearSelect,e.monthSelect)}},model:{value:e.monthSelect,callback:function(t){e.monthSelect=t},expression:\"monthSelect\"}}):e._e(),null!=e.monthSelect?t(\"q-select\",{staticClass:\"col-4\",attrs:{dense:\"\",\"options-dense\":\"\",dark:e.darkSet(),filled:\"\",\"label-color\":\"positive\",color:\"positive\",\"input-class\":\"text-positive\",\"fill-input\":\"\",\"popup-content-class\":\"bg-dark text-positive\",\"options-selected-class\":\"bg-dark text-positive\",\"options-dark\":e.darkSet(),options:e.workType,label:\"Wybierz Rodzaj\"},on:{input:function(t){e.getAllUsers(e.workTypeSelect),e.uuid=null}},scopedSlots:e._u([{key:\"no-option\",fn:function(){return[t(\"q-item\",[t(\"q-item-section\",{staticClass:\"text-grey\"},[e._v(\"\\n          Brak wyników\\n        \")])],1)]},proxy:!0}],null,!1,1971181512),model:{value:e.workTypeSelect,callback:function(t){e.workTypeSelect=t},expression:\"workTypeSelect\"}}):e._e(),t(\"p\"),null!=e.monthSelect&&null!=e.workTypeSelect?t(\"q-item\",[t(\"q-toggle\",{model:{value:e.detailed,callback:function(t){e.detailed=t},expression:\"detailed\"}},[e._v(\"szczegółowy\")])],1):e._e(),t(\"q-item\",{staticClass:\"col-4 q-pa-none\"},[t(\"q-btn\",{staticClass:\"q-pa-none\",attrs:{color:\"primary\",disable:null===e.monthSelect||null===e.workTypeSelect,label:\"Pobierz raport czasu pracy\"},on:{click:function(t){e.showloading(),e.getWorkTimeReport(e.yearSelect,e.monthSelect,e.workTypeSelect,e.detailed)}}})],1),t(\"q-dialog\",{model:{value:e.editWorkTime,callback:function(t){e.editWorkTime=t},expression:\"editWorkTime\"}},[t(\"q-card\",{staticClass:\"bg-dark text-positive\",staticStyle:{width:\"45vw\",\"max-width\":\"45vw\"}},[t(\"q-card-section\",[t(\"div\",{staticClass:\"q-pa-md\"},[t(\"div\",{staticClass:\"row\"},[t(\"q-date\",{staticClass:\"bg-dark\",attrs:{\"today-btn\":\"\",mask:\"YYYY-MM-DD HH:mm\",color:\"primary\",name:\"start pracy\"},model:{value:e.workTimeStart,callback:function(t){e.workTimeStart=t},expression:\"workTimeStart\"}}),t(\"q-time\",{staticClass:\"bg-dark\",attrs:{\"now-btn\":\"\",mask:\"YYYY-MM-DD HH:mm\",color:\"primary\"},model:{value:e.workTimeStart,callback:function(t){e.workTimeStart=t},expression:\"workTimeStart\"}})],1)]),t(\"q-item\",[t(\"q-input\",{staticClass:\"full-width\",attrs:{color:\"positive\",\"label-color\":\"positive\",\"input-class\":\"text-positive\",filled:\"\",label:\"Start Pracy\"},model:{value:e.workTimeStart,callback:function(t){e.workTimeStart=t},expression:\"workTimeStart\"}})],1),t(\"div\",{staticClass:\"q-pa-md\"},[t(\"div\",{staticClass:\"row\"},[t(\"q-date\",{staticClass:\"bg-dark\",attrs:{\"today-btn\":\"\",mask:\"YYYY-MM-DD HH:mm\",color:\"secondary\"},model:{value:e.workTimeStop,callback:function(t){e.workTimeStop=t},expression:\"workTimeStop\"}}),t(\"q-time\",{staticClass:\"bg-dark\",attrs:{\"now-btn\":\"\",mask:\"YYYY-MM-DD HH:mm\",color:\"secondary\"},model:{value:e.workTimeStop,callback:function(t){e.workTimeStop=t},expression:\"workTimeStop\"}})],1)]),t(\"q-item\",[t(\"q-input\",{staticClass:\"full-width\",attrs:{color:\"positive\",\"label-color\":\"positive\",\"input-class\":\"text-positive\",filled:\"\",label:\"Stop Pracy\"},model:{value:e.workTimeStop,callback:function(t){e.workTimeStop=t},expression:\"workTimeStop\"}})],1),t(\"q-item\",{staticClass:\"full-width\"},[t(\"q-btn\",{staticClass:\"full-width\",attrs:{label:\"usuń wpis\",color:\"red\"}})],1)],1),t(\"q-card-actions\",[t(\"div\",{staticClass:\"row full-width\"},[t(\"div\",{staticClass:\"col\"},[t(\"q-btn\",{directives:[{name:\"close-popup\",rawName:\"v-close-popup\"}],attrs:{\"text-color\":\"white\",label:\"zamknij\",color:\"secondary\"}})],1),t(\"div\",{staticClass:\"reverse\"},[t(\"q-btn\",{directives:[{name:\"close-popup\",rawName:\"v-close-popup\"}],attrs:{label:\"zapisz *\",color:\"primary\"},on:{click:function(t){e.addRecordToWorkTimeArray(e.uuid,e.workTimeStart,e.workTimeStop)}}})],1)]),t(\"q-badge\",[e._v(\"* zamiany zostaną wprowadzone dopiero po zatwierdzeniu\")])],1)],1)],1),t(\"q-dialog\",{attrs:{persistent:\"\"},on:{keypress:function(t){if(!t.type.indexOf(\"key\")&&e._k(t.keyCode,\"enter\",13,t.key,\"Enter\"))return null;e.acceptWorkingTime(e.acceptedList,e.code),e.acceptWorkingTimeDial=!1,e.code=null}},model:{value:e.acceptWorkingTimeDial,callback:function(t){e.acceptWorkingTimeDial=t},expression:\"acceptWorkingTimeDial\"}},[t(\"q-card\",{staticClass:\"bg-red-5 text-center\"},[t(\"q-card-section\",{staticClass:\"flex-center\"},[t(\"h3\",[t(\"span\",{staticClass:\"q-ml-sm\"},[e._v(\"Wprowadź kod potwierdzający\")])]),t(\"div\",[t(\"q-input\",{staticClass:\"bg-yellow text-bold\",attrs:{autofocus:\"\",type:\"password\",filled:\"\",color:\"Yellow\",mask:\"####\"},model:{value:e.code,callback:function(t){e.code=t},expression:\"code\"}})],1)]),t(\"q-card-actions\",{attrs:{align:\"right\"}},[t(\"q-btn\",{directives:[{name:\"close-popup\",rawName:\"v-close-popup\"}],attrs:{label:\"anuluj\",color:\"black\"},on:{click:function(t){e.code=null}}}),t(\"q-btn\",{directives:[{name:\"close-popup\",rawName:\"v-close-popup\"}],attrs:{id:\"3\",label:\"Dodaj\",color:\"black\"},on:{click:function(t){e.acceptWorkingTime(e.workTimeChangeArray,e.code),e.acceptWorkingTimeDial=!1,e.code=null}}})],1)],1)],1),t(\"q-dialog\",{attrs:{persistent:\"\"},on:{keypress:function(t){if(!t.type.indexOf(\"key\")&&e._k(t.keyCode,\"enter\",13,t.key,\"Enter\"))return null;e.inputChangesToWorkTIme(e.workTimeChangeArray,e.code)}},model:{value:e.changeWorkingTimeDial,callback:function(t){e.changeWorkingTimeDial=t},expression:\"changeWorkingTimeDial\"}},[t(\"q-card\",{staticClass:\"bg-red-5 text-center\"},[t(\"q-card-section\",{staticClass:\"flex-center\"},[t(\"h3\",[t(\"span\",{staticClass:\"q-ml-sm\"},[e._v(\"Wprowadź kod potwierdzający\")])]),t(\"div\",[t(\"q-input\",{staticClass:\"bg-yellow text-bold\",attrs:{autofocus:\"\",type:\"password\",filled:\"\",color:\"Yellow\",mask:\"####\"},model:{value:e.code,callback:function(t){e.code=t},expression:\"code\"}})],1)]),t(\"q-card-actions\",{attrs:{align:\"right\"}},[t(\"q-btn\",{directives:[{name:\"close-popup\",rawName:\"v-close-popup\"}],attrs:{label:\"anuluj\",color:\"black\"},on:{click:function(t){e.code=null}}}),t(\"q-btn\",{directives:[{name:\"close-popup\",rawName:\"v-close-popup\"}],attrs:{id:\"3\",label:\"Dodaj\",color:\"black\"},on:{click:function(t){e.inputChangesToWorkTIme(e.workTimeChangeArray,e.code)}}})],1)],1)],1),t(\"q-dialog\",{attrs:{position:\"top\"},model:{value:e.failure,callback:function(t){e.failure=t},expression:\"failure\"}},[t(\"q-card\",[t(\"q-card-section\",[t(\"div\",{staticClass:\"text-h6\"},[e._v(e._s(e.message))])])],1)],1),t(\"q-dialog\",{attrs:{position:\"top\"},model:{value:e.success,callback:function(t){e.success=t},expression:\"success\"}},[t(\"q-card\",[t(\"q-card-section\",[null!=e.message?t(\"div\",{staticClass:\"text-h6\"},[e._v(e._s(e.message))]):e._e()])],1)],1)],1)},i=[],a=(o(\"2b3d\"),o(\"9861\"),o(\"14d9\"),o(\"bc3a\")),l=o.n(a),c=o(\"3dfd\"),n={name:\"WorkTimeReport.vue\",created(){this.getAllWorkingYear()},data(){return{uuid:null,c:0,code:null,editWorkTime:!1,month:[\"Styczeń\",\"Luty\",\"Marzec\",\"Kwiecień\",\"Maj\",\"Czerwiec\",\"Lipiec\",\"Sierpień\",\"Wrzesień\",\"Październik\",\"Listopad\",\"Grudzień\"],monthSelect:null,monthSelect1:null,yearSelect:null,yearSelect1:null,workType:[\"Pracownik\",\"Zarząd\"],workType1:[\"Pracownik\",\"Zarząd\"],workTypeSelect:null,workTypeSelect1:null,checked:!1,acceptWorkingTimeDial:!1,changeWorkingTimeDial:!1,detailed:!1,workTimeStart:null,workTimeStop:null,workTimeChangeArray:[],workList:[],workingYear:[],acceptedList:[],usersList:[],success:!1,failure:!1,message:null,local:c[\"a\"].host}},methods:{showloading(){this.$q.loading.show({message:\"Dzieje się coś ważnego... Poczekaj\"}),this.timer=setTimeout((()=>{this.$q.loading.hide(),this.timer=0}),2e3)},darkSet(){return JSON.parse(window.localStorage.getItem(\"BackgroundDark\"))},getAllWorkingTimeEvidenceInMonth(e,t,o){fetch(\"http://\"+this.local+\"/work/month?year=\"+e+\"&month=\"+t+\"&workType=\"+o,{method:\"GET\"}).then((e=>{200===e.status?e.json().then((e=>{this.workList=e})):e.text().then((e=>{this.message=e,this.failure=!0,this.autoClose()}))}))},getAllWorkingTypeInMonthAndYear(e,t){fetch(\"http://\"+this.local+\"/work/getAllWorkingTypeInMonthAndYear?year=\"+e+\"&month=\"+t,{method:\"GET\"}).then((e=>{200===e.status?e.json().then((e=>{this.workType=e,this.workType1=e})):e.text().then((e=>{this.message=e,this.failure=!0,this.autoClose()}))}))},getAllWorkingYear(){fetch(\"http://\"+this.local+\"/work/getAllWorkingYear\",{method:\"GET\"}).then((e=>e.json())).then((e=>{this.workingYear=e}))},getAllWorkingMonthInYear(e){fetch(\"http://\"+this.local+\"/work/getAllWorkingMonthInYear?year=\"+e,{method:\"GET\"}).then((e=>e.json())).then((e=>{this.month=e}))},getWorkTimeReport(e,t,o,s){null!==t&&l()({url:\"http://\"+this.local+\"/files/downloadWorkReport?year=\"+e+\"&month=\"+t+\"&workType=\"+o+\"&detailed=\"+Boolean(s),method:\"GET\",responseType:\"blob\"}).then((s=>{const i=window.URL.createObjectURL(new Blob([s.data])),a=document.createElement(\"a\");a.href=i,a.setAttribute(\"download\",\"raport_pracy_\"+t+\"_\"+e+\"_\"+o+\".pdf\"),document.body.appendChild(a),a.click(),this.autoClose()}))},getAllUsers(e){fetch(\"http://\"+this.local+\"/users/allUsers?type=\"+e,{method:\"GET\"}).then((e=>e.json())).then((e=>{this.usersList=e}))},addRecordToWorkTimeArray(e,t,o){const s=this.workTimeChangeArray,i=e+\";\"+t+\";\"+o;s.push(i),this.workTimeChangeArray=s,console.log(i),console.log(this.workTimeChangeArray),this.message=\"dodano do listy zmian - pamiętaj by przed opuszczeniem strony wysłać zmiany\",this.success=!0,this.autoClose()},acceptWorkingTime(e,t){fetch(\"http://\"+this.local+\"/work/accept?uuidList=\"+e+\"&pinCode=\"+t,{method:\"PATCH\"}).then((e=>{200===e.status?e.text().then((e=>{this.success=!0,this.message=e,this.acceptedList=[],this.getAllWorkingTimeEvidenceInMonth(this.yearSelect1,this.monthSelect1,this.workTypeSelect1),this.autoClose()})):e.text().then((e=>{this.message=e,this.failure=!0,this.autoClose()}))}))},inputChangesToWorkTIme(e,t){fetch(\"http://\"+this.local+\"/work/?list=\"+e+\"&pinCode=\"+t,{method:\"PUT\",headers:{\"Content-Type\":\"application/json\"}}).then((e=>{this.showloading(),200===e.status?e.text().then((e=>{this.success=!0,this.message=e,this.getAllWorkingTimeEvidenceInMonth(this.yearSelect1,this.monthSelect1,this.workTypeSelect1),this.autoClose()})):e.text().then((e=>{this.message=e,this.failure=!0,this.autoClose()}))}))},checkedAll(e,t){t?e.forEach((e=>{e.wtedtoList.forEach((e=>{e.accepted||this.acceptedList.push(e.uuid)}))})):e.forEach((e=>{e.wtedtoList.forEach((()=>{this.acceptedList=[]}))}))},checkLength(e){let t=0;for(let o=0;o<e.length;o++)for(let s=0;s<e[o].wtedtoList.length;s++)e[o].wtedtoList[s].accepted||t++;return t},autoClose(){setTimeout((()=>{this.success=!1,this.failure=!1,this.message=null,this.acceptWorkingTimeDial=!1,this.changeWorkingTimeDial=!1,this.code=null}),2e3)}}},r=n,d=o(\"2877\"),p=o(\"ddd8\"),k=o(\"9c40\"),u=o(\"8f8e\"),h=o(\"3b73\"),m=o(\"8572\"),w=o(\"66e5\"),g=o(\"4074\"),v=o(\"9564\"),y=o(\"24e8\"),b=o(\"f09f\"),f=o(\"a370\"),T=o(\"52ee\"),S=o(\"ca78\"),C=o(\"27f9\"),x=o(\"4b7e\"),q=o(\"58a8\"),W=o(\"7f67\"),z=o(\"eebe\"),_=o.n(z),A=Object(d[\"a\"])(r,s,i,!1,null,\"577363ce\",null);t[\"default\"]=A.exports;_()(A,\"components\",{QSelect:p[\"a\"],QBtn:k[\"a\"],QCheckbox:u[\"a\"],QExpansionItem:h[\"a\"],QField:m[\"a\"],QItem:w[\"a\"],QItemSection:g[\"a\"],QToggle:v[\"a\"],QDialog:y[\"a\"],QCard:b[\"a\"],QCardSection:f[\"a\"],QDate:T[\"a\"],QTime:S[\"a\"],QInput:C[\"a\"],QCardActions:x[\"a\"],QBadge:q[\"a\"]}),_()(A,\"directives\",{ClosePopup:W[\"a\"]})}}]);","name":"js/37.27d2b2cc.js","input":"(window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || []).push([[37],{\n\n/***/ \"bbd6\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.string.replace.js\nvar es_string_replace = __webpack_require__(\"5319\");\n\n// CONCATENATED MODULE: ./node_modules/@quasar/app/lib/webpack/loader.transform-quasar-imports.js!./node_modules/babel-loader/lib??ref--2-0!./node_modules/vue-loader/lib/loaders/templateLoader.js??ref--7!./node_modules/@quasar/app/lib/webpack/loader.auto-import-client.js?kebab!./node_modules/vue-loader/lib??vue-loader-options!./src/components/otherFunctions/WorkTimeReport.vue?vue&type=template&id=577363ce&scoped=true&\n\nvar render = function render() {\n  var _vm = this,\n    _c = _vm._self._c;\n  return _c('div', {\n    staticClass: \"col\"\n  }, [_c('div', {\n    staticClass: \"full-width col-4\"\n  }, [_c('q-select', {\n    staticClass: \"col-4\",\n    attrs: {\n      \"dense\": \"\",\n      \"options-dense\": \"\",\n      \"dark\": _vm.darkSet(),\n      \"filled\": \"\",\n      \"label-color\": \"positive\",\n      \"color\": \"positive\",\n      \"input-class\": \"text-positive\",\n      \"fill-input\": \"\",\n      \"popup-content-class\": \"bg-dark text-positive\",\n      \"options-selected-class\": \"bg-dark text-positive\",\n      \"options-dark\": _vm.darkSet(),\n      \"options\": _vm.workingYear,\n      \"label\": \"Wybierz Rok\"\n    },\n    on: {\n      \"input\": function ($event) {\n        _vm.monthSelect1 = null;\n        _vm.getAllWorkingMonthInYear(_vm.yearSelect1);\n      }\n    },\n    model: {\n      value: _vm.yearSelect1,\n      callback: function ($$v) {\n        _vm.yearSelect1 = $$v;\n      },\n      expression: \"yearSelect1\"\n    }\n  }), _vm.yearSelect1 != null ? _c('q-select', {\n    staticClass: \"col-4\",\n    attrs: {\n      \"dense\": \"\",\n      \"options-dense\": \"\",\n      \"dark\": _vm.darkSet(),\n      \"filled\": \"\",\n      \"label-color\": \"positive\",\n      \"color\": \"positive\",\n      \"input-class\": \"text-positive\",\n      \"fill-input\": \"\",\n      \"popup-content-class\": \"bg-dark text-positive\",\n      \"options-selected-class\": \"bg-dark text-positive\",\n      \"options-dark\": _vm.darkSet(),\n      \"options\": _vm.month,\n      \"label\": \"Wybierz Miesiąc\"\n    },\n    on: {\n      \"input\": function ($event) {\n        _vm.workTypeSelect1 = null;\n        _vm.getAllWorkingTypeInMonthAndYear(_vm.yearSelect1, _vm.monthSelect1);\n      }\n    },\n    model: {\n      value: _vm.monthSelect1,\n      callback: function ($$v) {\n        _vm.monthSelect1 = $$v;\n      },\n      expression: \"monthSelect1\"\n    }\n  }) : _vm._e(), _vm.monthSelect1 != null ? _c('q-select', {\n    staticClass: \"col-4\",\n    attrs: {\n      \"dense\": \"\",\n      \"options-dense\": \"\",\n      \"dark\": _vm.darkSet(),\n      \"filled\": \"\",\n      \"label-color\": \"positive\",\n      \"color\": \"positive\",\n      \"input-class\": \"text-positive\",\n      \"fill-input\": \"\",\n      \"popup-content-class\": \"bg-dark text-positive\",\n      \"options-selected-class\": \"bg-dark text-positive\",\n      \"options-dark\": _vm.darkSet(),\n      \"options\": _vm.workType1,\n      \"label\": \"Wybierz Rodzaj\"\n    },\n    model: {\n      value: _vm.workTypeSelect1,\n      callback: function ($$v) {\n        _vm.workTypeSelect1 = $$v;\n      },\n      expression: \"workTypeSelect1\"\n    }\n  }) : _vm._e(), _c('div', [_c('q-btn', {\n    attrs: {\n      \"color\": \"primary\",\n      \"text-color\": \"white\"\n    },\n    on: {\n      \"click\": function ($event) {\n        return _vm.getAllWorkingTimeEvidenceInMonth(_vm.yearSelect1, _vm.monthSelect1, _vm.workTypeSelect1);\n      }\n    }\n  }, [_vm._v(\"wyświetl listę\\n        pracy\\n      \")])], 1)], 1), _vm.workList.length > 0 ? _c('div', {\n    staticClass: \"col\"\n  }, [_c('div', {\n    staticClass: \"row bg-secondary text-white\"\n  }, [_c('div', {\n    staticClass: \"text-right self-center q-pl-md\",\n    staticStyle: {\n      \"width\": \"2vw\"\n    }\n  }, [_vm._v(\"lp\")]), _c('div', {\n    staticClass: \"col-2 text-center self-center\"\n  }, [_vm._v(\"Start\")]), _c('div', {\n    staticClass: \"col-2 text-center self-center\"\n  }, [_vm._v(\"Stop\")]), _c('div', {\n    staticClass: \"col-1 text-left self-center\"\n  }, [_vm._v(\"Rodzaj Pracy\")]), _c('div', {\n    staticClass: \"col-2 text-center self-center\"\n  }, [_vm._v(\"Czas Pracy\")]), _c('div', {\n    staticClass: \"col text-center self-center\"\n  }, [_vm._v(\"Nadgodziny\")]), _c('div', {\n    staticClass: \"col text-center self-center\"\n  }, [_vm._v(\"Zamknięte automatycznie\")]), _c('div', {\n    staticClass: \"col text-center self-center\"\n  }, [_c('div', [_c('div', [_vm._v(\"Zatwierdzone\")]), _c('div', {\n    staticClass: \"bg-primary\"\n  }, [_c('q-checkbox', {\n    attrs: {\n      \"color\": \"secondary\",\n      \"dark\": \"\",\n      \"keep-color\": \"\",\n      \"label\": !_vm.checked ? 'zaznacz wszystko' : 'odznacz wszystko'\n    },\n    on: {\n      \"input\": function ($event) {\n        return _vm.checkedAll(_vm.workList, _vm.checked);\n      }\n    },\n    model: {\n      value: _vm.checked,\n      callback: function ($$v) {\n        _vm.checked = $$v;\n      },\n      expression: \"checked\"\n    }\n  })], 1)])])]), _c('div', {\n    staticClass: \"q-pa-none text-black full-width\"\n  }, _vm._l(_vm.workList, function (i, index) {\n    return _c('q-expansion-item', {\n      key: index,\n      staticClass: \"col bg-grey-5\",\n      attrs: {\n        \"dense\": \"\",\n        \"label\": i.secondName + ' ' + i.firstName + ' ' + i.subType + ' czas pracy: ' + i.workTime\n      }\n    }, _vm._l(i.wtedtoList, function (item, index) {\n      return _c('q-field', {\n        key: index,\n        staticClass: \"bg-grey-2\",\n        attrs: {\n          \"dense\": \"\",\n          \"color\": \"black\",\n          \"standout\": \"bg-accent text-black\"\n        }\n      }, [_c('div', {\n        staticClass: \"row full-width\",\n        on: {\n          \"dblclick\": function ($event) {\n            _vm.uuid = item.uuid;\n            _vm.workTimeStart = item.start.replace('T', ' ').substring(0, 16);\n            _vm.workTimeStop = item.stop.replace('T', ' ').substring(0, 16);\n            _vm.editWorkTime = true;\n          }\n        }\n      }, [_c('div', {\n        staticClass: \"text-left self-center text-bold\",\n        staticStyle: {\n          \"width\": \"2vw\"\n        }\n      }, [_vm._v(\"\\n                  \" + _vm._s(index + 1) + \"\\n                \")]), _c('div', {\n        staticClass: \"col-2 text-center self-center\"\n      }, [_vm._v(_vm._s(item.start.replace('T', ' ').substring(0, 19)) + \"\\n                \")]), _c('div', {\n        staticClass: \"col-2 text-center self-center\"\n      }, [_vm._v(_vm._s(item.stop.replace('T', ' ').substring(0, 19)) + \"\\n                \")]), _c('div', {\n        staticClass: \"col-1 text-left self-center\"\n      }, [_vm._v(_vm._s(item.workType))]), _c('div', {\n        staticClass: \"col-2 text-center self-center\"\n      }, [_vm._v(_vm._s(item.workTime))]), _c('div', {\n        staticClass: \"col text-center self-center bg-primary text-white\"\n      }, [_vm._v(_vm._s(item.toClarify ? 'TAK' : ''))]), _c('div', {\n        staticClass: \"col text-center self-center bg-primary text-white\"\n      }, [_vm._v(_vm._s(item.automatedClosed ? 'TAK' : '') + \"\\n                \")]), _c('div', {\n        staticClass: \"col text-center self-center bg-green\"\n      }, [_vm._v(_vm._s(item.accepted ? 'ZATWIERDZONO' : '') + \"\\n                  \"), !item.accepted ? _c('q-checkbox', {\n        attrs: {\n          \"val\": item.uuid,\n          \"label\": \"zatwierdź\"\n        },\n        on: {\n          \"input\": function ($event) {\n            _vm.c = _vm.checkLength(_vm.workList);\n          }\n        },\n        model: {\n          value: _vm.acceptedList,\n          callback: function ($$v) {\n            _vm.acceptedList = $$v;\n          },\n          expression: \"acceptedList\"\n        }\n      }) : _vm._e()], 1)])]);\n    }), 1);\n  }), 1), _c('div', {\n    staticClass: \"row q-pt-md q-pb-md\"\n  }, [_c('div', {\n    staticClass: \"col\"\n  }, [_c('q-btn', {\n    attrs: {\n      \"color\": \"primary\",\n      \"text-color\": \"white\",\n      \"dense\": \"\",\n      \"disable\": _vm.workTimeChangeArray.length < 1,\n      \"label\": _vm.workTimeChangeArray.length > 0 ? 'wprowadź zmiany' : 'Brak Zmian'\n    },\n    on: {\n      \"click\": function ($event) {\n        _vm.changeWorkingTimeDial = true;\n      }\n    }\n  })], 1), _c('div', {\n    staticClass: \"reverse\"\n  }, [_c('q-btn', {\n    attrs: {\n      \"color\": \"secondary\",\n      \"text-color\": \"white\",\n      \"dense\": \"\",\n      \"label\": \"zatwierdź czas pracy\",\n      \"disable\": _vm.acceptedList.length < 1\n    },\n    on: {\n      \"click\": function ($event) {\n        _vm.acceptWorkingTimeDial = true;\n      }\n    }\n  })], 1)])]) : _vm._e(), _c('q-select', {\n    attrs: {\n      \"dense\": \"\",\n      \"options-dense\": \"\",\n      \"dark\": _vm.darkSet(),\n      \"filled\": \"\",\n      \"label-color\": \"positive\",\n      \"color\": \"positive\",\n      \"input-class\": \"text-positive\",\n      \"fill-input\": \"\",\n      \"popup-content-class\": \"bg-dark text-positive\",\n      \"options-selected-class\": \"bg-dark text-positive\",\n      \"options-dark\": _vm.darkSet(),\n      \"options\": _vm.workingYear,\n      \"label\": \"Wybierz Rok\"\n    },\n    on: {\n      \"input\": function ($event) {\n        _vm.monthSelect = null;\n        _vm.getAllWorkingMonthInYear(_vm.yearSelect);\n      }\n    },\n    model: {\n      value: _vm.yearSelect,\n      callback: function ($$v) {\n        _vm.yearSelect = $$v;\n      },\n      expression: \"yearSelect\"\n    }\n  }), _vm.yearSelect != null ? _c('q-select', {\n    staticClass: \"q-pa-none\",\n    attrs: {\n      \"dense\": \"\",\n      \"options-dense\": \"\",\n      \"dark\": _vm.darkSet(),\n      \"filled\": \"\",\n      \"label-color\": \"positive\",\n      \"color\": \"positive\",\n      \"input-class\": \"text-positive\",\n      \"fill-input\": \"\",\n      \"popup-content-class\": \"bg-dark text-positive\",\n      \"options-selected-class\": \"bg-dark text-positive\",\n      \"options-dark\": _vm.darkSet(),\n      \"options\": _vm.month,\n      \"label\": \"Wybierz Miesiąc\"\n    },\n    on: {\n      \"input\": function ($event) {\n        _vm.workTypeSelect = null;\n        _vm.getAllWorkingTypeInMonthAndYear(_vm.yearSelect, _vm.monthSelect);\n      }\n    },\n    model: {\n      value: _vm.monthSelect,\n      callback: function ($$v) {\n        _vm.monthSelect = $$v;\n      },\n      expression: \"monthSelect\"\n    }\n  }) : _vm._e(), _vm.monthSelect != null ? _c('q-select', {\n    staticClass: \"col-4\",\n    attrs: {\n      \"dense\": \"\",\n      \"options-dense\": \"\",\n      \"dark\": _vm.darkSet(),\n      \"filled\": \"\",\n      \"label-color\": \"positive\",\n      \"color\": \"positive\",\n      \"input-class\": \"text-positive\",\n      \"fill-input\": \"\",\n      \"popup-content-class\": \"bg-dark text-positive\",\n      \"options-selected-class\": \"bg-dark text-positive\",\n      \"options-dark\": _vm.darkSet(),\n      \"options\": _vm.workType,\n      \"label\": \"Wybierz Rodzaj\"\n    },\n    on: {\n      \"input\": function ($event) {\n        _vm.getAllUsers(_vm.workTypeSelect);\n        _vm.uuid = null;\n      }\n    },\n    scopedSlots: _vm._u([{\n      key: \"no-option\",\n      fn: function () {\n        return [_c('q-item', [_c('q-item-section', {\n          staticClass: \"text-grey\"\n        }, [_vm._v(\"\\n          Brak wyników\\n        \")])], 1)];\n      },\n      proxy: true\n    }], null, false, 1971181512),\n    model: {\n      value: _vm.workTypeSelect,\n      callback: function ($$v) {\n        _vm.workTypeSelect = $$v;\n      },\n      expression: \"workTypeSelect\"\n    }\n  }) : _vm._e(), _c('p'), _vm.monthSelect != null && _vm.workTypeSelect != null ? _c('q-item', [_c('q-toggle', {\n    model: {\n      value: _vm.detailed,\n      callback: function ($$v) {\n        _vm.detailed = $$v;\n      },\n      expression: \"detailed\"\n    }\n  }, [_vm._v(\"szczegółowy\")])], 1) : _vm._e(), _c('q-item', {\n    staticClass: \"col-4 q-pa-none\"\n  }, [_c('q-btn', {\n    staticClass: \"q-pa-none\",\n    attrs: {\n      \"color\": \"primary\",\n      \"disable\": _vm.monthSelect === null || _vm.workTypeSelect === null,\n      \"label\": \"Pobierz raport czasu pracy\"\n    },\n    on: {\n      \"click\": function ($event) {\n        _vm.showloading();\n        _vm.getWorkTimeReport(_vm.yearSelect, _vm.monthSelect, _vm.workTypeSelect, _vm.detailed);\n      }\n    }\n  })], 1), _c('q-dialog', {\n    model: {\n      value: _vm.editWorkTime,\n      callback: function ($$v) {\n        _vm.editWorkTime = $$v;\n      },\n      expression: \"editWorkTime\"\n    }\n  }, [_c('q-card', {\n    staticClass: \"bg-dark text-positive\",\n    staticStyle: {\n      \"width\": \"45vw\",\n      \"max-width\": \"45vw\"\n    }\n  }, [_c('q-card-section', [_c('div', {\n    staticClass: \"q-pa-md\"\n  }, [_c('div', {\n    staticClass: \"row\"\n  }, [_c('q-date', {\n    staticClass: \"bg-dark\",\n    attrs: {\n      \"today-btn\": \"\",\n      \"mask\": \"YYYY-MM-DD HH:mm\",\n      \"color\": \"primary\",\n      \"name\": \"start pracy\"\n    },\n    model: {\n      value: _vm.workTimeStart,\n      callback: function ($$v) {\n        _vm.workTimeStart = $$v;\n      },\n      expression: \"workTimeStart\"\n    }\n  }), _c('q-time', {\n    staticClass: \"bg-dark\",\n    attrs: {\n      \"now-btn\": \"\",\n      \"mask\": \"YYYY-MM-DD HH:mm\",\n      \"color\": \"primary\"\n    },\n    model: {\n      value: _vm.workTimeStart,\n      callback: function ($$v) {\n        _vm.workTimeStart = $$v;\n      },\n      expression: \"workTimeStart\"\n    }\n  })], 1)]), _c('q-item', [_c('q-input', {\n    staticClass: \"full-width\",\n    attrs: {\n      \"color\": \"positive\",\n      \"label-color\": \"positive\",\n      \"input-class\": \"text-positive\",\n      \"filled\": \"\",\n      \"label\": \"Start Pracy\"\n    },\n    model: {\n      value: _vm.workTimeStart,\n      callback: function ($$v) {\n        _vm.workTimeStart = $$v;\n      },\n      expression: \"workTimeStart\"\n    }\n  })], 1), _c('div', {\n    staticClass: \"q-pa-md\"\n  }, [_c('div', {\n    staticClass: \"row\"\n  }, [_c('q-date', {\n    staticClass: \"bg-dark\",\n    attrs: {\n      \"today-btn\": \"\",\n      \"mask\": \"YYYY-MM-DD HH:mm\",\n      \"color\": \"secondary\"\n    },\n    model: {\n      value: _vm.workTimeStop,\n      callback: function ($$v) {\n        _vm.workTimeStop = $$v;\n      },\n      expression: \"workTimeStop\"\n    }\n  }), _c('q-time', {\n    staticClass: \"bg-dark\",\n    attrs: {\n      \"now-btn\": \"\",\n      \"mask\": \"YYYY-MM-DD HH:mm\",\n      \"color\": \"secondary\"\n    },\n    model: {\n      value: _vm.workTimeStop,\n      callback: function ($$v) {\n        _vm.workTimeStop = $$v;\n      },\n      expression: \"workTimeStop\"\n    }\n  })], 1)]), _c('q-item', [_c('q-input', {\n    staticClass: \"full-width\",\n    attrs: {\n      \"color\": \"positive\",\n      \"label-color\": \"positive\",\n      \"input-class\": \"text-positive\",\n      \"filled\": \"\",\n      \"label\": \"Stop Pracy\"\n    },\n    model: {\n      value: _vm.workTimeStop,\n      callback: function ($$v) {\n        _vm.workTimeStop = $$v;\n      },\n      expression: \"workTimeStop\"\n    }\n  })], 1), _c('q-item', {\n    staticClass: \"full-width\"\n  }, [_c('q-btn', {\n    staticClass: \"full-width\",\n    attrs: {\n      \"label\": \"usuń wpis\",\n      \"color\": \"red\"\n    }\n  })], 1)], 1), _c('q-card-actions', [_c('div', {\n    staticClass: \"row full-width\"\n  }, [_c('div', {\n    staticClass: \"col\"\n  }, [_c('q-btn', {\n    directives: [{\n      name: \"close-popup\",\n      rawName: \"v-close-popup\"\n    }],\n    attrs: {\n      \"text-color\": \"white\",\n      \"label\": \"zamknij\",\n      \"color\": \"secondary\"\n    }\n  })], 1), _c('div', {\n    staticClass: \"reverse\"\n  }, [_c('q-btn', {\n    directives: [{\n      name: \"close-popup\",\n      rawName: \"v-close-popup\"\n    }],\n    attrs: {\n      \"label\": \"zapisz *\",\n      \"color\": \"primary\"\n    },\n    on: {\n      \"click\": function ($event) {\n        _vm.addRecordToWorkTimeArray(_vm.uuid, _vm.workTimeStart, _vm.workTimeStop);\n      }\n    }\n  })], 1)]), _c('q-badge', [_vm._v(\"* zamiany zostaną wprowadzone dopiero po zatwierdzeniu\")])], 1)], 1)], 1), _c('q-dialog', {\n    attrs: {\n      \"persistent\": \"\"\n    },\n    on: {\n      \"keypress\": function ($event) {\n        if (!$event.type.indexOf('key') && _vm._k($event.keyCode, \"enter\", 13, $event.key, \"Enter\")) return null;\n        _vm.acceptWorkingTime(_vm.acceptedList, _vm.code);\n        _vm.acceptWorkingTimeDial = false;\n        _vm.code = null;\n      }\n    },\n    model: {\n      value: _vm.acceptWorkingTimeDial,\n      callback: function ($$v) {\n        _vm.acceptWorkingTimeDial = $$v;\n      },\n      expression: \"acceptWorkingTimeDial\"\n    }\n  }, [_c('q-card', {\n    staticClass: \"bg-red-5 text-center\"\n  }, [_c('q-card-section', {\n    staticClass: \"flex-center\"\n  }, [_c('h3', [_c('span', {\n    staticClass: \"q-ml-sm\"\n  }, [_vm._v(\"Wprowadź kod potwierdzający\")])]), _c('div', [_c('q-input', {\n    staticClass: \"bg-yellow text-bold\",\n    attrs: {\n      \"autofocus\": \"\",\n      \"type\": \"password\",\n      \"filled\": \"\",\n      \"color\": \"Yellow\",\n      \"mask\": \"####\"\n    },\n    model: {\n      value: _vm.code,\n      callback: function ($$v) {\n        _vm.code = $$v;\n      },\n      expression: \"code\"\n    }\n  })], 1)]), _c('q-card-actions', {\n    attrs: {\n      \"align\": \"right\"\n    }\n  }, [_c('q-btn', {\n    directives: [{\n      name: \"close-popup\",\n      rawName: \"v-close-popup\"\n    }],\n    attrs: {\n      \"label\": \"anuluj\",\n      \"color\": \"black\"\n    },\n    on: {\n      \"click\": function ($event) {\n        _vm.code = null;\n      }\n    }\n  }), _c('q-btn', {\n    directives: [{\n      name: \"close-popup\",\n      rawName: \"v-close-popup\"\n    }],\n    attrs: {\n      \"id\": \"3\",\n      \"label\": \"Dodaj\",\n      \"color\": \"black\"\n    },\n    on: {\n      \"click\": function ($event) {\n        _vm.acceptWorkingTime(_vm.workTimeChangeArray, _vm.code);\n        _vm.acceptWorkingTimeDial = false;\n        _vm.code = null;\n      }\n    }\n  })], 1)], 1)], 1), _c('q-dialog', {\n    attrs: {\n      \"persistent\": \"\"\n    },\n    on: {\n      \"keypress\": function ($event) {\n        if (!$event.type.indexOf('key') && _vm._k($event.keyCode, \"enter\", 13, $event.key, \"Enter\")) return null;\n        _vm.inputChangesToWorkTIme(_vm.workTimeChangeArray, _vm.code);\n      }\n    },\n    model: {\n      value: _vm.changeWorkingTimeDial,\n      callback: function ($$v) {\n        _vm.changeWorkingTimeDial = $$v;\n      },\n      expression: \"changeWorkingTimeDial\"\n    }\n  }, [_c('q-card', {\n    staticClass: \"bg-red-5 text-center\"\n  }, [_c('q-card-section', {\n    staticClass: \"flex-center\"\n  }, [_c('h3', [_c('span', {\n    staticClass: \"q-ml-sm\"\n  }, [_vm._v(\"Wprowadź kod potwierdzający\")])]), _c('div', [_c('q-input', {\n    staticClass: \"bg-yellow text-bold\",\n    attrs: {\n      \"autofocus\": \"\",\n      \"type\": \"password\",\n      \"filled\": \"\",\n      \"color\": \"Yellow\",\n      \"mask\": \"####\"\n    },\n    model: {\n      value: _vm.code,\n      callback: function ($$v) {\n        _vm.code = $$v;\n      },\n      expression: \"code\"\n    }\n  })], 1)]), _c('q-card-actions', {\n    attrs: {\n      \"align\": \"right\"\n    }\n  }, [_c('q-btn', {\n    directives: [{\n      name: \"close-popup\",\n      rawName: \"v-close-popup\"\n    }],\n    attrs: {\n      \"label\": \"anuluj\",\n      \"color\": \"black\"\n    },\n    on: {\n      \"click\": function ($event) {\n        _vm.code = null;\n      }\n    }\n  }), _c('q-btn', {\n    directives: [{\n      name: \"close-popup\",\n      rawName: \"v-close-popup\"\n    }],\n    attrs: {\n      \"id\": \"3\",\n      \"label\": \"Dodaj\",\n      \"color\": \"black\"\n    },\n    on: {\n      \"click\": function ($event) {\n        _vm.inputChangesToWorkTIme(_vm.workTimeChangeArray, _vm.code);\n      }\n    }\n  })], 1)], 1)], 1), _c('q-dialog', {\n    attrs: {\n      \"position\": \"top\"\n    },\n    model: {\n      value: _vm.failure,\n      callback: function ($$v) {\n        _vm.failure = $$v;\n      },\n      expression: \"failure\"\n    }\n  }, [_c('q-card', [_c('q-card-section', [_c('div', {\n    staticClass: \"text-h6\"\n  }, [_vm._v(_vm._s(_vm.message))])])], 1)], 1), _c('q-dialog', {\n    attrs: {\n      \"position\": \"top\"\n    },\n    model: {\n      value: _vm.success,\n      callback: function ($$v) {\n        _vm.success = $$v;\n      },\n      expression: \"success\"\n    }\n  }, [_c('q-card', [_c('q-card-section', [_vm.message != null ? _c('div', {\n    staticClass: \"text-h6\"\n  }, [_vm._v(_vm._s(_vm.message))]) : _vm._e()])], 1)], 1)], 1);\n};\nvar staticRenderFns = [];\n\n// CONCATENATED MODULE: ./src/components/otherFunctions/WorkTimeReport.vue?vue&type=template&id=577363ce&scoped=true&\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/web.url.js\nvar web_url = __webpack_require__(\"2b3d\");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/web.url-search-params.js\nvar web_url_search_params = __webpack_require__(\"9861\");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.push.js\nvar es_array_push = __webpack_require__(\"14d9\");\n\n// EXTERNAL MODULE: ./node_modules/axios/index.js\nvar axios = __webpack_require__(\"bc3a\");\nvar axios_default = /*#__PURE__*/__webpack_require__.n(axios);\n\n// EXTERNAL MODULE: ./src/App.vue + 4 modules\nvar App = __webpack_require__(\"3dfd\");\n\n// CONCATENATED MODULE: ./node_modules/@quasar/app/lib/webpack/loader.transform-quasar-imports.js!./node_modules/babel-loader/lib??ref--2-0!./node_modules/@quasar/app/lib/webpack/loader.auto-import-client.js?kebab!./node_modules/vue-loader/lib??vue-loader-options!./src/components/otherFunctions/WorkTimeReport.vue?vue&type=script&lang=js&\n\n\n\n\n\n/* harmony default export */ var WorkTimeReportvue_type_script_lang_js_ = ({\n  name: 'WorkTimeReport.vue',\n  created() {\n    // this.getWorkingType()\n    this.getAllWorkingYear();\n  },\n  data() {\n    return {\n      uuid: null,\n      c: 0,\n      code: null,\n      editWorkTime: false,\n      month: ['Styczeń', 'Luty', 'Marzec', 'Kwiecień', 'Maj', 'Czerwiec', 'Lipiec', 'Sierpień', 'Wrzesień', 'Październik', 'Listopad', 'Grudzień'],\n      monthSelect: null,\n      monthSelect1: null,\n      yearSelect: null,\n      yearSelect1: null,\n      workType: ['Pracownik', 'Zarząd'],\n      workType1: ['Pracownik', 'Zarząd'],\n      workTypeSelect: null,\n      workTypeSelect1: null,\n      checked: false,\n      acceptWorkingTimeDial: false,\n      changeWorkingTimeDial: false,\n      detailed: false,\n      workTimeStart: null,\n      workTimeStop: null,\n      workTimeChangeArray: [],\n      workList: [],\n      workingYear: [],\n      acceptedList: [],\n      usersList: [],\n      success: false,\n      failure: false,\n      message: null,\n      local: App[\"a\" /* default */].host\n    };\n  },\n  methods: {\n    showloading() {\n      this.$q.loading.show({\n        message: 'Dzieje się coś ważnego... Poczekaj'\n      });\n      this.timer = setTimeout(() => {\n        this.$q.loading.hide();\n        this.timer = 0;\n      }, 2000);\n    },\n    darkSet() {\n      return JSON.parse(window.localStorage.getItem('BackgroundDark'));\n    },\n    getAllWorkingTimeEvidenceInMonth(year, month, workType) {\n      fetch('http://' + this.local + '/work/month?year=' + year + '&month=' + month + '&workType=' + workType, {\n        method: 'GET'\n      }).then(response => {\n        if (response.status === 200) {\n          response.json().then(response => {\n            this.workList = response;\n          });\n        } else {\n          response.text().then(response => {\n            this.message = response;\n            this.failure = true;\n            this.autoClose();\n          });\n        }\n      });\n    },\n    getAllWorkingTypeInMonthAndYear(year, month) {\n      fetch('http://' + this.local + '/work/getAllWorkingTypeInMonthAndYear?year=' + year + '&month=' + month, {\n        method: 'GET'\n      }).then(response => {\n        if (response.status === 200) {\n          response.json().then(response => {\n            this.workType = response;\n            this.workType1 = response;\n          });\n        } else {\n          response.text().then(response => {\n            this.message = response;\n            this.failure = true;\n            this.autoClose();\n          });\n        }\n      });\n    },\n    getAllWorkingYear() {\n      fetch('http://' + this.local + '/work/getAllWorkingYear', {\n        method: 'GET'\n      }).then(response => response.json()).then(response => {\n        this.workingYear = response;\n      });\n    },\n    getAllWorkingMonthInYear(year) {\n      fetch('http://' + this.local + '/work/getAllWorkingMonthInYear?year=' + year, {\n        method: 'GET'\n      }).then(response => response.json()).then(response => {\n        this.month = response;\n      });\n    },\n    getWorkTimeReport(year, month, workType, detailed) {\n      if (month !== null) {\n        axios_default()({\n          url: 'http://' + this.local + '/files/downloadWorkReport?year=' + year + '&month=' + month + '&workType=' + workType + '&detailed=' + Boolean(detailed),\n          method: 'GET',\n          responseType: 'blob'\n        }).then(response => {\n          const fileURL = window.URL.createObjectURL(new Blob([response.data]));\n          const fileLink = document.createElement('a');\n          fileLink.href = fileURL;\n          fileLink.setAttribute('download', 'raport_pracy_' + month + '_' + year + '_' + workType + '.pdf');\n          document.body.appendChild(fileLink);\n          fileLink.click();\n          this.autoClose();\n        });\n      }\n    },\n    getAllUsers(type) {\n      fetch('http://' + this.local + '/users/allUsers?type=' + type, {\n        method: 'GET'\n      }).then(response => response.json()).then(response => {\n        this.usersList = response;\n      });\n    },\n    addRecordToWorkTimeArray(uuid, start, stop) {\n      const arr = this.workTimeChangeArray;\n      const e = uuid + ';' + start + ';' + stop;\n      arr.push(e);\n      this.workTimeChangeArray = arr;\n      console.log(e);\n      console.log(this.workTimeChangeArray);\n      this.message = 'dodano do listy zmian - pamiętaj by przed opuszczeniem strony wysłać zmiany';\n      this.success = true;\n      this.autoClose();\n    },\n    acceptWorkingTime(acceptedList, pinCode) {\n      fetch('http://' + this.local + '/work/accept?uuidList=' + acceptedList + '&pinCode=' + pinCode, {\n        method: 'PATCH'\n      }).then(response => {\n        if (response.status === 200) {\n          response.text().then(response => {\n            this.success = true;\n            this.message = response;\n            this.acceptedList = [];\n            this.getAllWorkingTimeEvidenceInMonth(this.yearSelect1, this.monthSelect1, this.workTypeSelect1);\n            this.autoClose();\n          });\n        } else {\n          response.text().then(response => {\n            this.message = response;\n            this.failure = true;\n            this.autoClose();\n          });\n        }\n      });\n    },\n    inputChangesToWorkTIme(list, code) {\n      fetch('http://' + this.local + '/work/?list=' + list + '&pinCode=' + code, {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      }).then(response => {\n        this.showloading();\n        if (response.status === 200) {\n          response.text().then(response => {\n            this.success = true;\n            this.message = response;\n            // this.workTimeChangeArray = []\n            this.getAllWorkingTimeEvidenceInMonth(this.yearSelect1, this.monthSelect1, this.workTypeSelect1);\n            this.autoClose();\n          });\n        } else {\n          response.text().then(response => {\n            this.message = response;\n            this.failure = true;\n            this.autoClose();\n          });\n        }\n      });\n    },\n    checkedAll(list, checked) {\n      if (checked) {\n        list.forEach(e => {\n          e.wtedtoList.forEach(g => {\n            if (!g.accepted) {\n              this.acceptedList.push(g.uuid);\n            }\n          });\n        });\n      } else {\n        list.forEach(e => {\n          e.wtedtoList.forEach(() => {\n            this.acceptedList = [];\n          });\n        });\n      }\n    },\n    checkLength(list) {\n      let length = 0;\n      for (let i = 0; i < list.length; i++) {\n        for (let j = 0; j < list[i].wtedtoList.length; j++) {\n          if (!list[i].wtedtoList[j].accepted) {\n            length++;\n          }\n        }\n      }\n      return length;\n    },\n    autoClose() {\n      setTimeout(() => {\n        this.success = false;\n        this.failure = false;\n        this.message = null;\n        this.acceptWorkingTimeDial = false;\n        this.changeWorkingTimeDial = false;\n        this.code = null;\n      }, 2000);\n    }\n  }\n});\n// CONCATENATED MODULE: ./src/components/otherFunctions/WorkTimeReport.vue?vue&type=script&lang=js&\n /* harmony default export */ var otherFunctions_WorkTimeReportvue_type_script_lang_js_ = (WorkTimeReportvue_type_script_lang_js_); \n// EXTERNAL MODULE: ./node_modules/vue-loader/lib/runtime/componentNormalizer.js\nvar componentNormalizer = __webpack_require__(\"2877\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/select/QSelect.js + 1 modules\nvar QSelect = __webpack_require__(\"ddd8\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/btn/QBtn.js\nvar QBtn = __webpack_require__(\"9c40\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/checkbox/QCheckbox.js\nvar QCheckbox = __webpack_require__(\"8f8e\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/expansion-item/QExpansionItem.js + 1 modules\nvar QExpansionItem = __webpack_require__(\"3b73\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/field/QField.js + 2 modules\nvar QField = __webpack_require__(\"8572\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/item/QItem.js\nvar QItem = __webpack_require__(\"66e5\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/item/QItemSection.js\nvar QItemSection = __webpack_require__(\"4074\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/toggle/QToggle.js\nvar QToggle = __webpack_require__(\"9564\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/dialog/QDialog.js\nvar QDialog = __webpack_require__(\"24e8\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/card/QCard.js\nvar QCard = __webpack_require__(\"f09f\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/card/QCardSection.js\nvar QCardSection = __webpack_require__(\"a370\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/date/QDate.js\nvar QDate = __webpack_require__(\"52ee\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/time/QTime.js\nvar QTime = __webpack_require__(\"ca78\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/input/QInput.js + 1 modules\nvar QInput = __webpack_require__(\"27f9\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/card/QCardActions.js\nvar QCardActions = __webpack_require__(\"4b7e\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/badge/QBadge.js\nvar QBadge = __webpack_require__(\"58a8\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/directives/ClosePopup.js\nvar ClosePopup = __webpack_require__(\"7f67\");\n\n// EXTERNAL MODULE: ./node_modules/@quasar/app/lib/webpack/runtime.auto-import.js\nvar runtime_auto_import = __webpack_require__(\"eebe\");\nvar runtime_auto_import_default = /*#__PURE__*/__webpack_require__.n(runtime_auto_import);\n\n// CONCATENATED MODULE: ./src/components/otherFunctions/WorkTimeReport.vue\n\n\n\n\n\n/* normalize component */\n\nvar component = Object(componentNormalizer[\"a\" /* default */])(\n  otherFunctions_WorkTimeReportvue_type_script_lang_js_,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"577363ce\",\n  null\n  \n)\n\n/* harmony default export */ var WorkTimeReport = __webpack_exports__[\"default\"] = (component.exports);\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nruntime_auto_import_default()(component, 'components', {QSelect: QSelect[\"a\" /* default */],QBtn: QBtn[\"a\" /* default */],QCheckbox: QCheckbox[\"a\" /* default */],QExpansionItem: QExpansionItem[\"a\" /* default */],QField: QField[\"a\" /* default */],QItem: QItem[\"a\" /* default */],QItemSection: QItemSection[\"a\" /* default */],QToggle: QToggle[\"a\" /* default */],QDialog: QDialog[\"a\" /* default */],QCard: QCard[\"a\" /* default */],QCardSection: QCardSection[\"a\" /* default */],QDate: QDate[\"a\" /* default */],QTime: QTime[\"a\" /* default */],QInput: QInput[\"a\" /* default */],QCardActions: QCardActions[\"a\" /* default */],QBadge: QBadge[\"a\" /* default */]});runtime_auto_import_default()(component, 'directives', {ClosePopup: ClosePopup[\"a\" /* default */]});\n\n\n/***/ })\n\n}]);","inputSourceMap":null}