{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[28],{\"6cfb\":function(s,e,t){\"use strict\";t.r(e);var i=function(){var s=this,e=s._self._c;return e(\"div\",{staticClass:\"q-pa-sm text-white bg-secondary\"},[e(\"div\",{staticClass:\"bg-secondary\"},[e(\"div\",[e(\"q-inner-loading\",{attrs:{showing:s.visible,label:\"Przetwarzanie...\",color:\"primary\"}}),e(\"q-input\",{staticClass:\"text-white\",attrs:{id:\"workTime\",name:\"workTime\",disable:s.dis,type:\"password\",dense:\"\",\"label-color\":\"white\",label:\"Czas pracy - zeskanuj swoją kartę tutaj\",\"input-class\":\"text-white\",filled:\"\"},on:{keypress:function(e){if(!e.type.indexOf(\"key\")&&s._k(e.keyCode,\"enter\",13,e.key,\"Enter\"))return null;s.dis=!0,s.goToWork(s.number)}},model:{value:s.number,callback:function(e){s.number=e},expression:\"number\"}}),s._l(s.usersInWork,(function(t,i){return e(\"div\",{key:i,staticClass:\"full-width\",staticStyle:{height:\"auto\"}},[e(\"q-item\",{staticStyle:{padding:\"0 0 0 5%\",\"font-size\":\"small\",\"font-weight\":\"500\"},attrs:{dense:\"\"}},[s._v(\"\\n          \"+s._s(t)+\"\\n        \")])],1)}))],2)]),e(\"div\",[e(\"q-dialog\",{attrs:{position:\"standard\"},model:{value:s.failure,callback:function(e){s.failure=e},expression:\"failure\"}},[e(\"q-card\",{staticClass:\"bg-warning\"},[e(\"q-card-section\",[null!=s.message?e(\"div\",{staticClass:\"text-h6\"},[s._v(s._s(s.message))]):s._e()])],1)],1),e(\"q-dialog\",{attrs:{position:\"top\"},model:{value:s.success,callback:function(e){s.success=e},expression:\"success\"}},[e(\"q-card\",[e(\"q-card-section\",[null!=s.message?e(\"div\",{staticClass:\"text-h6\"},[s._v(s._s(s.message))]):s._e()])],1)],1)],1)])},a=[],l=t(\"3dfd\"),n={name:\"WorkTimeList\",created(){this.getAllUsersInWork()},data(){return{color:\"primary\",number:\"\",usersInWork:[],success:!1,failure:!1,dis:!1,visible:!1,message:\"\",local:l[\"default\"].host}},methods:{goToWork(s){this.visible=!0,fetch(`${this.local}/work/?number=${s}`,{method:\"POST\"}).then((s=>{200===s.status&&s.text().then((s=>{setTimeout((()=>{this.visible=!1,this.getAllUsersInWork(),this.message=s,this.success=!0,this.dis=!1,this.autoClose()}),1500)})),400===s.status&&s.text().then((s=>{setTimeout((()=>{this.visible=!1,this.message=s,this.failure=!0,this.dis=!1,this.autoClose()}),1500)}))})).catch((()=>{setTimeout((()=>{this.visible=!1,this.message=\"błąd\",this.failure=!0,this.dis=!1,this.autoClose()}),1500)}))},getAllUsersInWork(){fetch(`${this.local}/work/`,{method:\"GET\"}).then((s=>s.json())).then((s=>{this.usersInWork=s}))},autoClose(){setTimeout((()=>{this.failure=!1,this.success=!1,this.message=null,this.number=\"\"}),2e3)}}},o=n,r=t(\"2877\"),u=t(\"74f7\"),c=t(\"27f9\"),d=t(\"66e5\"),h=t(\"24e8\"),m=t(\"f09f\"),f=t(\"a370\"),b=t(\"eebe\"),g=t.n(b),k=Object(r[\"a\"])(o,i,a,!1,null,null,null);e[\"default\"]=k.exports;g()(k,\"components\",{QInnerLoading:u[\"a\"],QInput:c[\"a\"],QItem:d[\"a\"],QDialog:h[\"a\"],QCard:m[\"a\"],QCardSection:f[\"a\"]})}}]);","name":"js/28.c35e3bf6.js","input":"(window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || []).push([[28],{\n\n/***/ \"6cfb\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// CONCATENATED MODULE: ./node_modules/@quasar/app/lib/webpack/loader.transform-quasar-imports.js!./node_modules/babel-loader/lib??ref--2-0!./node_modules/vue-loader/lib/loaders/templateLoader.js??ref--7!./node_modules/@quasar/app/lib/webpack/loader.auto-import-client.js?kebab!./node_modules/vue-loader/lib??vue-loader-options!./src/components/leftDrawer/WorkTimeList.vue?vue&type=template&id=2a161acc&\nvar render = function render() {\n  var _vm = this,\n    _c = _vm._self._c;\n  return _c('div', {\n    staticClass: \"q-pa-sm text-white bg-secondary\"\n  }, [_c('div', {\n    staticClass: \"bg-secondary\"\n  }, [_c('div', [_c('q-inner-loading', {\n    attrs: {\n      \"showing\": _vm.visible,\n      \"label\": \"Przetwarzanie...\",\n      \"color\": \"primary\"\n    }\n  }), _c('q-input', {\n    staticClass: \"text-white\",\n    attrs: {\n      \"id\": \"workTime\",\n      \"name\": \"workTime\",\n      \"disable\": _vm.dis,\n      \"type\": \"password\",\n      \"dense\": \"\",\n      \"label-color\": \"white\",\n      \"label\": \"Czas pracy - zeskanuj swoją kartę tutaj\",\n      \"input-class\": \"text-white\",\n      \"filled\": \"\"\n    },\n    on: {\n      \"keypress\": function ($event) {\n        if (!$event.type.indexOf('key') && _vm._k($event.keyCode, \"enter\", 13, $event.key, \"Enter\")) return null;\n        _vm.dis = true;\n        _vm.goToWork(_vm.number);\n      }\n    },\n    model: {\n      value: _vm.number,\n      callback: function ($$v) {\n        _vm.number = $$v;\n      },\n      expression: \"number\"\n    }\n  }), _vm._l(_vm.usersInWork, function (item, index) {\n    return _c('div', {\n      key: index,\n      staticClass: \"full-width\",\n      staticStyle: {\n        \"height\": \"auto\"\n      }\n    }, [_c('q-item', {\n      staticStyle: {\n        \"padding\": \"0 0 0 5%\",\n        \"font-size\": \"small\",\n        \"font-weight\": \"500\"\n      },\n      attrs: {\n        \"dense\": \"\"\n      }\n    }, [_vm._v(\"\\n          \" + _vm._s(item) + \"\\n        \")])], 1);\n  })], 2)]), _c('div', [_c('q-dialog', {\n    attrs: {\n      \"position\": \"standard\"\n    },\n    model: {\n      value: _vm.failure,\n      callback: function ($$v) {\n        _vm.failure = $$v;\n      },\n      expression: \"failure\"\n    }\n  }, [_c('q-card', {\n    staticClass: \"bg-warning\"\n  }, [_c('q-card-section', [_vm.message != null ? _c('div', {\n    staticClass: \"text-h6\"\n  }, [_vm._v(_vm._s(_vm.message))]) : _vm._e()])], 1)], 1), _c('q-dialog', {\n    attrs: {\n      \"position\": \"top\"\n    },\n    model: {\n      value: _vm.success,\n      callback: function ($$v) {\n        _vm.success = $$v;\n      },\n      expression: \"success\"\n    }\n  }, [_c('q-card', [_c('q-card-section', [_vm.message != null ? _c('div', {\n    staticClass: \"text-h6\"\n  }, [_vm._v(_vm._s(_vm.message))]) : _vm._e()])], 1)], 1)], 1)]);\n};\nvar staticRenderFns = [];\n\n// CONCATENATED MODULE: ./src/components/leftDrawer/WorkTimeList.vue?vue&type=template&id=2a161acc&\n\n// EXTERNAL MODULE: ./src/App.vue + 4 modules\nvar App = __webpack_require__(\"3dfd\");\n\n// CONCATENATED MODULE: ./node_modules/@quasar/app/lib/webpack/loader.transform-quasar-imports.js!./node_modules/babel-loader/lib??ref--2-0!./node_modules/@quasar/app/lib/webpack/loader.auto-import-client.js?kebab!./node_modules/vue-loader/lib??vue-loader-options!./src/components/leftDrawer/WorkTimeList.vue?vue&type=script&lang=js&\n\n/* harmony default export */ var WorkTimeListvue_type_script_lang_js_ = ({\n  name: 'WorkTimeList',\n  created() {\n    this.getAllUsersInWork();\n  },\n  data() {\n    return {\n      color: 'primary',\n      number: '',\n      usersInWork: [],\n      success: false,\n      failure: false,\n      dis: false,\n      visible: false,\n      message: '',\n      local: App[\"default\"].host\n    };\n  },\n  methods: {\n    goToWork(number) {\n      this.visible = true;\n      fetch(`${this.local}/work/?number=${number}`, {\n        method: 'POST'\n      }).then(response => {\n        if (response.status === 200) {\n          response.text().then(response => {\n            setTimeout(() => {\n              this.visible = false;\n              this.getAllUsersInWork();\n              this.message = response;\n              this.success = true;\n              this.dis = false;\n              this.autoClose();\n            }, 1500);\n          });\n        }\n        if (response.status === 400) {\n          response.text().then(response => {\n            setTimeout(() => {\n              this.visible = false;\n              this.message = response;\n              this.failure = true;\n              this.dis = false;\n              this.autoClose();\n            }, 1500);\n          });\n        }\n      }).catch(() => {\n        setTimeout(() => {\n          this.visible = false;\n          this.message = 'błąd';\n          this.failure = true;\n          this.dis = false;\n          this.autoClose();\n        }, 1500);\n      });\n    },\n    getAllUsersInWork() {\n      fetch(`${this.local}/work/`, {\n        method: 'GET'\n      }).then(response => response.json()).then(response => {\n        this.usersInWork = response;\n      });\n    },\n    autoClose() {\n      setTimeout(() => {\n        this.failure = false;\n        this.success = false;\n        this.message = null;\n        this.number = '';\n      }, 2000);\n    }\n  }\n});\n// CONCATENATED MODULE: ./src/components/leftDrawer/WorkTimeList.vue?vue&type=script&lang=js&\n /* harmony default export */ var leftDrawer_WorkTimeListvue_type_script_lang_js_ = (WorkTimeListvue_type_script_lang_js_); \n// EXTERNAL MODULE: ./node_modules/vue-loader/lib/runtime/componentNormalizer.js\nvar componentNormalizer = __webpack_require__(\"2877\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/inner-loading/QInnerLoading.js\nvar QInnerLoading = __webpack_require__(\"74f7\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/input/QInput.js + 1 modules\nvar QInput = __webpack_require__(\"27f9\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/item/QItem.js\nvar QItem = __webpack_require__(\"66e5\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/dialog/QDialog.js\nvar QDialog = __webpack_require__(\"24e8\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/card/QCard.js\nvar QCard = __webpack_require__(\"f09f\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/card/QCardSection.js\nvar QCardSection = __webpack_require__(\"a370\");\n\n// EXTERNAL MODULE: ./node_modules/@quasar/app/lib/webpack/runtime.auto-import.js\nvar runtime_auto_import = __webpack_require__(\"eebe\");\nvar runtime_auto_import_default = /*#__PURE__*/__webpack_require__.n(runtime_auto_import);\n\n// CONCATENATED MODULE: ./src/components/leftDrawer/WorkTimeList.vue\n\n\n\n\n\n/* normalize component */\n\nvar component = Object(componentNormalizer[\"a\" /* default */])(\n  leftDrawer_WorkTimeListvue_type_script_lang_js_,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* harmony default export */ var WorkTimeList = __webpack_exports__[\"default\"] = (component.exports);\n\n\n\n\n\n\n\nruntime_auto_import_default()(component, 'components', {QInnerLoading: QInnerLoading[\"a\" /* default */],QInput: QInput[\"a\" /* default */],QItem: QItem[\"a\" /* default */],QDialog: QDialog[\"a\" /* default */],QCard: QCard[\"a\" /* default */],QCardSection: QCardSection[\"a\" /* default */]});\n\n\n/***/ })\n\n}]);","inputSourceMap":null}