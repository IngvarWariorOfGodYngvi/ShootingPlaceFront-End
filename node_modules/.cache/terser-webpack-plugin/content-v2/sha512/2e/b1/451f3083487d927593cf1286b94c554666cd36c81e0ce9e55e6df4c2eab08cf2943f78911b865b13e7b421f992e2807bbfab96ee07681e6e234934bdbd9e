{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[25],{4922:function(t,o,e){\"use strict\";e.r(o);var a=function(){var t=this,o=t._self._c;return o(\"div\",[o(\"q-btn\",{staticClass:\"col full-width full-height\",attrs:{color:\"secondary\",loading:t.loading[0],icon:\"file_download\"},on:{click:function(o){t.simulateProgress(0),t.showloading(),t.getAmmoListPDF(t.uuid,t.date)}}},[o(\"q-tooltip\",{attrs:{anchor:\"top middle\",offset:[35,35],\"content-class\":\"text-body1 bg-secondary\"}},[t._v(\"Pobierz listę\\n    \")])],1),o(\"q-dialog\",{attrs:{position:\"top\"},model:{value:t.download,callback:function(o){t.download=o},expression:\"download\"}},[o(\"q-card\",[o(\"q-card-section\",[o(\"div\",{staticClass:\"text-h6\"},[t._v(\"Pobrano listę z dnia \"+t._s(t.date))])])],1)],1)],1)},i=[],n=(e(\"2b3d\"),e(\"9861\"),e(\"bc3a\")),s=e.n(n),d=e(\"3dfd\"),l=e(\"2b0e\"),c={name:\"ammoListDownloadBtn.vue\",data(){return{download:!1,local:d[\"a\"].host}},props:{uuid:{type:String,required:!0},date:{type:String,required:!0}},setup(){const t=Object(l[\"ref\"])([!1]),o=Object(l[\"ref\"])(!1);function e(o){t.value[o]=!0,setTimeout((()=>{t.value[o]=!1}),500)}return{loading:t,progress:o,simulateProgress:e}},methods:{showloading(){this.$q.loading.show({message:\"Dzieje się coś ważnego... Poczekaj\"}),this.timer=setTimeout((()=>{this.$q.loading.hide(),this.timer=0}),1e3)},getAmmoListPDF(t,o){s()({url:\"http://\"+this.local+\"/files/downloadAmmunitionList/\"+t,method:\"GET\",responseType:\"blob\"}).then((t=>{const e=window.URL.createObjectURL(new Blob([t.data])),a=document.createElement(\"a\");a.href=e,a.setAttribute(\"download\",\"Lista_Rozliczenia_Amunicji_\"+o+\".pdf\"),document.body.appendChild(a),a.click(),this.download=!0,this.autoClose()}))},autoClose(){setTimeout((()=>{this.download=!1}),2e3)}}},r=c,u=e(\"2877\"),h=e(\"9c40\"),m=e(\"05c0\"),p=e(\"24e8\"),w=e(\"f09f\"),b=e(\"a370\"),f=e(\"eebe\"),g=e.n(f),v=Object(u[\"a\"])(r,a,i,!1,null,null,null);o[\"default\"]=v.exports;g()(v,\"components\",{QBtn:h[\"a\"],QTooltip:m[\"a\"],QDialog:p[\"a\"],QCard:w[\"a\"],QCardSection:b[\"a\"]})}}]);","name":"js/25.c074c7e3.js","input":"(window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || []).push([[25],{\n\n/***/ \"4922\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// CONCATENATED MODULE: ./node_modules/@quasar/app/lib/webpack/loader.transform-quasar-imports.js!./node_modules/babel-loader/lib??ref--2-0!./node_modules/vue-loader/lib/loaders/templateLoader.js??ref--7!./node_modules/@quasar/app/lib/webpack/loader.auto-import-client.js?kebab!./node_modules/vue-loader/lib??vue-loader-options!./src/components/ammoList/ammoListDownloadBtn.vue?vue&type=template&id=12855ed3&\nvar render = function render() {\n  var _vm = this,\n    _c = _vm._self._c;\n  return _c('div', [_c('q-btn', {\n    staticClass: \"col full-width full-height\",\n    attrs: {\n      \"color\": \"secondary\",\n      \"loading\": _vm.loading[0],\n      \"icon\": \"file_download\"\n    },\n    on: {\n      \"click\": function ($event) {\n        _vm.simulateProgress(0);\n        _vm.showloading();\n        _vm.getAmmoListPDF(_vm.uuid, _vm.date);\n      }\n    }\n  }, [_c('q-tooltip', {\n    attrs: {\n      \"anchor\": \"top middle\",\n      \"offset\": [35, 35],\n      \"content-class\": \"text-body1 bg-secondary\"\n    }\n  }, [_vm._v(\"Pobierz listę\\n    \")])], 1), _c('q-dialog', {\n    attrs: {\n      \"position\": \"top\"\n    },\n    model: {\n      value: _vm.download,\n      callback: function ($$v) {\n        _vm.download = $$v;\n      },\n      expression: \"download\"\n    }\n  }, [_c('q-card', [_c('q-card-section', [_c('div', {\n    staticClass: \"text-h6\"\n  }, [_vm._v(\"Pobrano listę z dnia \" + _vm._s(_vm.date))])])], 1)], 1)], 1);\n};\nvar staticRenderFns = [];\n\n// CONCATENATED MODULE: ./src/components/ammoList/ammoListDownloadBtn.vue?vue&type=template&id=12855ed3&\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/web.url.js\nvar web_url = __webpack_require__(\"2b3d\");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/web.url-search-params.js\nvar web_url_search_params = __webpack_require__(\"9861\");\n\n// EXTERNAL MODULE: ./node_modules/axios/index.js\nvar axios = __webpack_require__(\"bc3a\");\nvar axios_default = /*#__PURE__*/__webpack_require__.n(axios);\n\n// EXTERNAL MODULE: ./src/App.vue + 4 modules\nvar App = __webpack_require__(\"3dfd\");\n\n// EXTERNAL MODULE: ./node_modules/vue/dist/vue.runtime.esm.js\nvar vue_runtime_esm = __webpack_require__(\"2b0e\");\n\n// CONCATENATED MODULE: ./node_modules/@quasar/app/lib/webpack/loader.transform-quasar-imports.js!./node_modules/babel-loader/lib??ref--2-0!./node_modules/@quasar/app/lib/webpack/loader.auto-import-client.js?kebab!./node_modules/vue-loader/lib??vue-loader-options!./src/components/ammoList/ammoListDownloadBtn.vue?vue&type=script&lang=js&\n\n\n\n\n\n/* harmony default export */ var ammoListDownloadBtnvue_type_script_lang_js_ = ({\n  name: 'ammoListDownloadBtn.vue',\n  data() {\n    return {\n      download: false,\n      local: App[\"a\" /* default */].host\n    };\n  },\n  props: {\n    uuid: {\n      type: String,\n      required: true\n    },\n    date: {\n      type: String,\n      required: true\n    }\n  },\n  setup() {\n    const loading = Object(vue_runtime_esm[\"ref\"])([false]);\n    const progress = Object(vue_runtime_esm[\"ref\"])(false);\n    function simulateProgress(number) {\n      loading.value[number] = true;\n      setTimeout(() => {\n        loading.value[number] = false;\n      }, 500);\n    }\n    return {\n      loading,\n      progress,\n      simulateProgress\n    };\n  },\n  methods: {\n    showloading() {\n      this.$q.loading.show({\n        message: 'Dzieje się coś ważnego... Poczekaj'\n      });\n      this.timer = setTimeout(() => {\n        this.$q.loading.hide();\n        this.timer = 0;\n      }, 1000);\n    },\n    getAmmoListPDF(uuid, date) {\n      axios_default()({\n        url: 'http://' + this.local + '/files/downloadAmmunitionList/' + uuid,\n        method: 'GET',\n        responseType: 'blob'\n      }).then(response => {\n        const fileURL = window.URL.createObjectURL(new Blob([response.data]));\n        const fileLink = document.createElement('a');\n        fileLink.href = fileURL;\n        fileLink.setAttribute('download', 'Lista_Rozliczenia_Amunicji_' + date + '.pdf');\n        document.body.appendChild(fileLink);\n        fileLink.click();\n        this.download = true;\n        this.autoClose();\n      });\n    },\n    autoClose() {\n      setTimeout(() => {\n        this.download = false;\n      }, 2000);\n    }\n  }\n});\n// CONCATENATED MODULE: ./src/components/ammoList/ammoListDownloadBtn.vue?vue&type=script&lang=js&\n /* harmony default export */ var ammoList_ammoListDownloadBtnvue_type_script_lang_js_ = (ammoListDownloadBtnvue_type_script_lang_js_); \n// EXTERNAL MODULE: ./node_modules/vue-loader/lib/runtime/componentNormalizer.js\nvar componentNormalizer = __webpack_require__(\"2877\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/btn/QBtn.js\nvar QBtn = __webpack_require__(\"9c40\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/tooltip/QTooltip.js\nvar QTooltip = __webpack_require__(\"05c0\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/dialog/QDialog.js\nvar QDialog = __webpack_require__(\"24e8\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/card/QCard.js\nvar QCard = __webpack_require__(\"f09f\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/card/QCardSection.js\nvar QCardSection = __webpack_require__(\"a370\");\n\n// EXTERNAL MODULE: ./node_modules/@quasar/app/lib/webpack/runtime.auto-import.js\nvar runtime_auto_import = __webpack_require__(\"eebe\");\nvar runtime_auto_import_default = /*#__PURE__*/__webpack_require__.n(runtime_auto_import);\n\n// CONCATENATED MODULE: ./src/components/ammoList/ammoListDownloadBtn.vue\n\n\n\n\n\n/* normalize component */\n\nvar component = Object(componentNormalizer[\"a\" /* default */])(\n  ammoList_ammoListDownloadBtnvue_type_script_lang_js_,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* harmony default export */ var ammoListDownloadBtn = __webpack_exports__[\"default\"] = (component.exports);\n\n\n\n\n\n\nruntime_auto_import_default()(component, 'components', {QBtn: QBtn[\"a\" /* default */],QTooltip: QTooltip[\"a\" /* default */],QDialog: QDialog[\"a\" /* default */],QCard: QCard[\"a\" /* default */],QCardSection: QCardSection[\"a\" /* default */]});\n\n\n/***/ })\n\n}]);","inputSourceMap":null}