{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[11],{\"99e1\":function(e,t,i){\"use strict\";i.r(t);var n=function(){var e=this,t=e._self._c;return t(\"q-page\",{staticClass:\"text-positive\"},[e.main&&!e.mobile&&!e.presentationMode&&e.tournamentCheck?t(\"q-btn\",{attrs:{label:\"tryb prezentacji\",dense:\"\",unelevated:\"\",\"text-color\":e.presentationMode?\"dark\":\"white\",color:e.presentationMode?\"\":\"primary\"},on:{click:function(t){e.presentationMode=!e.presentationMode,e.presentationUUID()}}}):e._e(),!e.presentationMode&&e.tournamentCheck?t(\"div\",[e.arbiter.length<4?t(\"div\",{staticClass:\"text-h6 q-pa-md\"},[t(\"q-input\",{attrs:{color:\"primary\",type:\"password\",label:\"Podaj pin\",\"input-class\":\"text-positive\",\"label-color\":\"positive\"},on:{keypress:function(t){return!t.type.indexOf(\"key\")&&e._k(t.keyCode,\"enter\",13,t.key,\"Enter\")?null:e.checkArbiter(e.arbiterCode)}},model:{value:e.arbiterCode,callback:function(t){e.arbiterCode=t},expression:\"arbiterCode\"}}),t(\"q-btn\",{attrs:{color:\"primary\",label:\"zapisz\",type:\"submit\"},on:{click:function(t){return e.checkArbiter(e.arbiterCode)}}})],1):t(\"div\",e._l(e.tournament.competitionsList,(function(i,n){return t(\"div\",{key:n},[e.juryPanelCompetitionInExpansionItem?t(\"q-expansion-item\",{staticClass:\"text-positive bg-dark\",attrs:{label:i.name,\"header-class\":n%2===0?\"bg-grey text-black text-center text-h6 text-bold\":\"text-positive text-center text-h6 text-bold\",dense:\"\",group:\"list\"}},[t(\"SingleCompetitionJuryPanel\",{attrs:{uuid:i.uuid,size:i.scoreListSize}})],1):t(\"SingleCompetitionJuryPanel\",{attrs:{uuid:i.uuid,size:i.scoreListSize}})],1)})),0)]):e._e(),e.presentationMode&&e.tournamentCheck?t(\"div\",[t(\"q-page-sticky\",{attrs:{expand:\"\",position:\"top\"}},[t(\"q-linear-progress\",{attrs:{value:e.progress,color:e.color,\"instant-feedback\":\"\",\"track-color\":\"secondary\",dark:\"\"}})],1),t(\"SingleCompetitionJuryPanelPresentationModeComponent\",{attrs:{uuid:e.uuid}})],1):e._e(),e.tournamentCheck?e._e():t(\"div\",[t(\"div\",{staticClass:\"q-pa-md text-h6 text-center text-positive\"},[e._v(\"Żadne zawody nie są otwarte\")])]),t(\"q-dialog\",{attrs:{position:\"standard\"},model:{value:e.failure,callback:function(t){e.failure=t},expression:\" failure \"}},[t(\"q-card\",{staticClass:\"bg-warning\"},[t(\"q-card-section\",[null!=e.message?t(\"div\",{staticClass:\"text-h6\"},[e._v(e._s(e.message))]):e._e()])],1)],1),t(\"q-dialog\",{attrs:{position:\"top\"},model:{value:e.success,callback:function(t){e.success=t},expression:\" success \"}},[t(\"q-card\",[t(\"q-card-section\",[null!=e.message?t(\"div\",{staticClass:\"text-h6\"},[e._v(e._s(e.message))]):e._e()])],1)],1)],1)},o=[],a=i(\"a8bc\"),s=i(\"d6c6\"),r=i(\"3dfd\"),l=i(\"0831\");const{setVerticalScrollPosition:c}=l[\"a\"];var u={name:\"juryPanel.vue\",components:{SingleCompetitionJuryPanel:Object(a[\"a\"])({componentFactory:()=>Promise.all([i.e(0),i.e(52)]).then(i.bind(null,\"37a4\")),loading:s[\"a\"]}),SingleCompetitionJuryPanelPresentationModeComponent:Object(a[\"a\"])({componentFactory:()=>i.e(53).then(i.bind(null,\"29e8\")),loading:s[\"a\"]})},created(){this.getListTournaments(),this.checkTournament(),this.setColor()},data(){return{arbiter:window.localStorage.getItem(\"arbiter\"),juryPanelCompetitionInExpansionItem:JSON.parse(window.localStorage.getItem(\"JuryPanelCompetitionInExpansionItem\")),tournament:[],tournamentCheck:!1,color:\"\",mobile:r[\"default\"].mobile,uuid:\"\",arbiterCode:\"\",progress:1,time:1e4,timer:12,vol:0,interval:null,interval1:null,failure:!1,success:!1,message:null,presentationMode:!1,main:r[\"default\"].main,local:r[\"default\"].host}},methods:{getListTournaments(){fetch(\"http://\"+r[\"default\"].host+\"/tournament/openTournament\",{method:\"GET\"}).then((e=>{200===e.status&&e.json().then((e=>{this.tournament=e})),418===e.status&&window.localStorage.setItem(\"arbiter\",\"000\")}))},checkTournament(){fetch(`http://${this.local}/tournament/check`,{method:\"GET\",headers:{\"Content-Type\":\"application/json\"}}).then((e=>e.json())).then((e=>{this.tournamentCheck=e,!1===e&&window.localStorage.setItem(\"arbiter\",\"000\")}))},setColor(){this.color=JSON.parse(window.localStorage.getItem(\"BackgroundDark\"))?\"positive\":\"primary\"},presentationUUID(){let e=0;\"Panel Sędziego\"!==window.localStorage.getItem(\"SiteName\")&&clearInterval(this.interval),this.tournament.competitionsList[e].length>15&&(this.timer=this.tournament.competitionsList[e].length),this.progressBar(),this.interval=setInterval((()=>{\"Panel Sędziego\"!==window.localStorage.getItem(\"SiteName\")&&clearInterval(this.interval),null==this.tournament.competitionsList[e]&&(this.getListTournaments(),e=0),this.uuid=\"\",this.progress>=1&&(this.uuid=this.tournament.competitionsList[e].uuid,e++,this.progress=this.vol)}),this.time/(this.time/this.timer))},progressBar(){this.progress=.9,this.interval1=setInterval((()=>{\"Panel Sędziego\"!==window.localStorage.getItem(\"SiteName\")&&clearInterval(this.interval1),this.progress>.2&&c(document.documentElement,document.documentElement.clientHeight*(this.progress-.2),0),this.setColor(),this.progress=this.progress+.001}),this.time/(this.time/this.timer))},checkArbiter(e){fetch(`http://${this.local}/permissions/checkArbiter?code=${e}`,{method:\"GET\"}).then((e=>{200===e.status?e.text().then((e=>{this.arbiter=e,window.localStorage.setItem(\"arbiter\",e)})):e.text().then((e=>{this.message=e,this.failure=!0,this.autoClose()}))}))},autoClose(){setTimeout((()=>{this.success=!1,this.failure=!1,this.message=null}),2e3)}}},d=u,m=i(\"2877\"),p=i(\"9989\"),h=i(\"9c40\"),g=i(\"27f9\"),b=i(\"3b73\"),v=i(\"de5e\"),C=i(\"6b1d\"),k=i(\"24e8\"),x=i(\"f09f\"),f=i(\"a370\"),y=i(\"eebe\"),w=i.n(y),S=Object(m[\"a\"])(d,n,o,!1,null,null,null);t[\"default\"]=S.exports;w()(S,\"components\",{QPage:p[\"a\"],QBtn:h[\"a\"],QInput:g[\"a\"],QExpansionItem:b[\"a\"],QPageSticky:v[\"a\"],QLinearProgress:C[\"a\"],QDialog:k[\"a\"],QCard:x[\"a\"],QCardSection:f[\"a\"]})}}]);","name":"js/Panel Sędziego.398a4f44.js","input":"(window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || []).push([[11],{\n\n/***/ \"99e1\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// CONCATENATED MODULE: ./node_modules/@quasar/app/lib/webpack/loader.transform-quasar-imports.js!./node_modules/babel-loader/lib??ref--2-0!./node_modules/vue-loader/lib/loaders/templateLoader.js??ref--7!./node_modules/@quasar/app/lib/webpack/loader.auto-import-client.js?kebab!./node_modules/vue-loader/lib??vue-loader-options!./src/pages/juryPanel.vue?vue&type=template&id=3340527f&\nvar render = function render() {\n  var _vm = this,\n    _c = _vm._self._c;\n  return _c('q-page', {\n    staticClass: \"text-positive\"\n  }, [_vm.main && !_vm.mobile && !_vm.presentationMode && _vm.tournamentCheck ? _c('q-btn', {\n    attrs: {\n      \"label\": \"tryb prezentacji\",\n      \"dense\": \"\",\n      \"unelevated\": \"\",\n      \"text-color\": _vm.presentationMode ? 'dark' : 'white',\n      \"color\": _vm.presentationMode ? '' : 'primary'\n    },\n    on: {\n      \"click\": function ($event) {\n        _vm.presentationMode = !_vm.presentationMode;\n        _vm.presentationUUID();\n      }\n    }\n  }) : _vm._e(), !_vm.presentationMode && _vm.tournamentCheck ? _c('div', [_vm.arbiter.length < 4 ? _c('div', {\n    staticClass: \"text-h6 q-pa-md\"\n  }, [_c('q-input', {\n    attrs: {\n      \"color\": \"primary\",\n      \"type\": \"password\",\n      \"label\": \"Podaj pin\",\n      \"input-class\": \"text-positive\",\n      \"label-color\": \"positive\"\n    },\n    on: {\n      \"keypress\": function ($event) {\n        if (!$event.type.indexOf('key') && _vm._k($event.keyCode, \"enter\", 13, $event.key, \"Enter\")) return null;\n        return _vm.checkArbiter(_vm.arbiterCode);\n      }\n    },\n    model: {\n      value: _vm.arbiterCode,\n      callback: function ($$v) {\n        _vm.arbiterCode = $$v;\n      },\n      expression: \"arbiterCode\"\n    }\n  }), _c('q-btn', {\n    attrs: {\n      \"color\": \"primary\",\n      \"label\": \"zapisz\",\n      \"type\": \"submit\"\n    },\n    on: {\n      \"click\": function ($event) {\n        return _vm.checkArbiter(_vm.arbiterCode);\n      }\n    }\n  })], 1) : _c('div', _vm._l(_vm.tournament.competitionsList, function (comp, index) {\n    return _c('div', {\n      key: index\n    }, [_vm.juryPanelCompetitionInExpansionItem ? _c('q-expansion-item', {\n      staticClass: \"text-positive bg-dark\",\n      attrs: {\n        \"label\": comp.name,\n        \"header-class\": index % 2 === 0 ? 'bg-grey text-black text-center text-h6 text-bold' : 'text-positive text-center text-h6 text-bold',\n        \"dense\": \"\",\n        \"group\": \"list\"\n      }\n    }, [_c('SingleCompetitionJuryPanel', {\n      attrs: {\n        \"uuid\": comp.uuid,\n        \"size\": comp.scoreListSize\n      }\n    })], 1) : _c('SingleCompetitionJuryPanel', {\n      attrs: {\n        \"uuid\": comp.uuid,\n        \"size\": comp.scoreListSize\n      }\n    })], 1);\n  }), 0)]) : _vm._e(), _vm.presentationMode && _vm.tournamentCheck ? _c('div', [_c('q-page-sticky', {\n    attrs: {\n      \"expand\": \"\",\n      \"position\": \"top\"\n    }\n  }, [_c('q-linear-progress', {\n    attrs: {\n      \"value\": _vm.progress,\n      \"color\": _vm.color,\n      \"instant-feedback\": \"\",\n      \"track-color\": \"secondary\",\n      \"dark\": \"\"\n    }\n  })], 1), _c('SingleCompetitionJuryPanelPresentationModeComponent', {\n    attrs: {\n      \"uuid\": _vm.uuid\n    }\n  })], 1) : _vm._e(), !_vm.tournamentCheck ? _c('div', [_c('div', {\n    staticClass: \"q-pa-md text-h6 text-center text-positive\"\n  }, [_vm._v(\"Żadne zawody nie są otwarte\")])]) : _vm._e(), _c('q-dialog', {\n    attrs: {\n      \"position\": \"standard\"\n    },\n    model: {\n      value: _vm.failure,\n      callback: function ($$v) {\n        _vm.failure = $$v;\n      },\n      expression: \" failure \"\n    }\n  }, [_c('q-card', {\n    staticClass: \"bg-warning\"\n  }, [_c('q-card-section', [_vm.message != null ? _c('div', {\n    staticClass: \"text-h6\"\n  }, [_vm._v(_vm._s(_vm.message))]) : _vm._e()])], 1)], 1), _c('q-dialog', {\n    attrs: {\n      \"position\": \"top\"\n    },\n    model: {\n      value: _vm.success,\n      callback: function ($$v) {\n        _vm.success = $$v;\n      },\n      expression: \" success \"\n    }\n  }, [_c('q-card', [_c('q-card-section', [_vm.message != null ? _c('div', {\n    staticClass: \"text-h6\"\n  }, [_vm._v(_vm._s(_vm.message))]) : _vm._e()])], 1)], 1)], 1);\n};\nvar staticRenderFns = [];\n\n// CONCATENATED MODULE: ./src/pages/juryPanel.vue?vue&type=template&id=3340527f&\n\n// EXTERNAL MODULE: ./src/utils/lazyLoadComponent.js\nvar lazyLoadComponent = __webpack_require__(\"a8bc\");\n\n// EXTERNAL MODULE: ./src/utils/SkeletonBox.vue + 4 modules\nvar SkeletonBox = __webpack_require__(\"d6c6\");\n\n// EXTERNAL MODULE: ./src/App.vue + 4 modules\nvar App = __webpack_require__(\"3dfd\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/utils/scroll.js\nvar utils_scroll = __webpack_require__(\"0831\");\n\n// CONCATENATED MODULE: ./node_modules/@quasar/app/lib/webpack/loader.transform-quasar-imports.js!./node_modules/babel-loader/lib??ref--2-0!./node_modules/@quasar/app/lib/webpack/loader.auto-import-client.js?kebab!./node_modules/vue-loader/lib??vue-loader-options!./src/pages/juryPanel.vue?vue&type=script&lang=js&\n\n\n\n// import { isWindows } from 'mobile-device-detect'\n;\nconst {\n  setVerticalScrollPosition\n} = utils_scroll[\"a\" /* default */];\n/* harmony default export */ var juryPanelvue_type_script_lang_js_ = ({\n  name: 'juryPanel.vue',\n  components: {\n    SingleCompetitionJuryPanel: Object(lazyLoadComponent[\"a\" /* default */])({\n      componentFactory: () => Promise.all(/* import() */[__webpack_require__.e(0), __webpack_require__.e(52)]).then(__webpack_require__.bind(null, \"37a4\")),\n      loading: SkeletonBox[\"a\" /* default */]\n    }),\n    SingleCompetitionJuryPanelPresentationModeComponent: Object(lazyLoadComponent[\"a\" /* default */])({\n      componentFactory: () => __webpack_require__.e(/* import() */ 53).then(__webpack_require__.bind(null, \"29e8\")),\n      loading: SkeletonBox[\"a\" /* default */]\n    })\n  },\n  created() {\n    this.getListTournaments();\n    this.checkTournament();\n    this.setColor();\n  },\n  data() {\n    return {\n      arbiter: window.localStorage.getItem('arbiter'),\n      juryPanelCompetitionInExpansionItem: JSON.parse(window.localStorage.getItem('JuryPanelCompetitionInExpansionItem')),\n      tournament: [],\n      tournamentCheck: false,\n      color: '',\n      mobile: App[\"default\"].mobile,\n      uuid: '',\n      arbiterCode: '',\n      progress: 1.0,\n      time: 10000,\n      timer: 12,\n      vol: 0.0,\n      interval: null,\n      interval1: null,\n      failure: false,\n      success: false,\n      message: null,\n      presentationMode: false,\n      main: App[\"default\"].main,\n      local: App[\"default\"].host\n    };\n  },\n  methods: {\n    getListTournaments() {\n      fetch('http://' + App[\"default\"].host + '/tournament/openTournament', {\n        method: 'GET'\n      }).then(response => {\n        if (response.status === 200) {\n          response.json().then(response => {\n            this.tournament = response;\n          });\n        }\n        if (response.status === 418) {\n          window.localStorage.setItem('arbiter', '000');\n        }\n      });\n    },\n    checkTournament() {\n      fetch(`http://${this.local}/tournament/check`, {\n        method: 'GET',\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      }).then(response => response.json()).then(response => {\n        this.tournamentCheck = response;\n        if (response === false) {\n          window.localStorage.setItem('arbiter', '000');\n        }\n      });\n    },\n    setColor() {\n      this.color = JSON.parse(window.localStorage.getItem('BackgroundDark')) ? 'positive' : 'primary';\n    },\n    presentationUUID() {\n      let index = 0;\n      if (window.localStorage.getItem('SiteName') !== 'Panel Sędziego') {\n        clearInterval(this.interval);\n      }\n      if (this.tournament.competitionsList[index].length > 15) {\n        this.timer = this.tournament.competitionsList[index].length;\n      }\n      this.progressBar();\n      this.interval = setInterval(() => {\n        if (window.localStorage.getItem('SiteName') !== 'Panel Sędziego') {\n          clearInterval(this.interval);\n        }\n        if (this.tournament.competitionsList[index] == null) {\n          this.getListTournaments();\n          index = 0;\n        }\n        this.uuid = '';\n        if (this.progress >= 1.0) {\n          this.uuid = this.tournament.competitionsList[index].uuid;\n          index++;\n          this.progress = this.vol;\n        }\n      }, this.time / (this.time / this.timer));\n    },\n    progressBar() {\n      this.progress = 0.9;\n      this.interval1 = setInterval(() => {\n        if (window.localStorage.getItem('SiteName') !== 'Panel Sędziego') {\n          clearInterval(this.interval1);\n        }\n        if (this.progress > 0.2) {\n          // window.scrollTo(0, document.documentElement.clientHeight * (this.progress - 0.2))\n          // scrollToElement(document.documentElement)\n          setVerticalScrollPosition(document.documentElement, document.documentElement.clientHeight * (this.progress - 0.2), 0);\n        }\n        this.setColor();\n        this.progress = this.progress + 0.001;\n      }, this.time / (this.time / this.timer));\n    },\n    checkArbiter(code) {\n      fetch(`http://${this.local}/permissions/checkArbiter?code=${code}`, {\n        method: 'GET'\n      }).then(response => {\n        if (response.status === 200) {\n          response.text().then(response => {\n            this.arbiter = response;\n            window.localStorage.setItem('arbiter', response);\n          });\n        } else {\n          response.text().then(response => {\n            this.message = response;\n            this.failure = true;\n            this.autoClose();\n          });\n        }\n      });\n    },\n    autoClose() {\n      setTimeout(() => {\n        this.success = false;\n        this.failure = false;\n        this.message = null;\n      }, 2000);\n    }\n  }\n});\n// CONCATENATED MODULE: ./src/pages/juryPanel.vue?vue&type=script&lang=js&\n /* harmony default export */ var pages_juryPanelvue_type_script_lang_js_ = (juryPanelvue_type_script_lang_js_); \n// EXTERNAL MODULE: ./node_modules/vue-loader/lib/runtime/componentNormalizer.js\nvar componentNormalizer = __webpack_require__(\"2877\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/page/QPage.js\nvar QPage = __webpack_require__(\"9989\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/btn/QBtn.js\nvar QBtn = __webpack_require__(\"9c40\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/input/QInput.js + 1 modules\nvar QInput = __webpack_require__(\"27f9\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/expansion-item/QExpansionItem.js + 1 modules\nvar QExpansionItem = __webpack_require__(\"3b73\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/page-sticky/QPageSticky.js\nvar QPageSticky = __webpack_require__(\"de5e\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/linear-progress/QLinearProgress.js\nvar QLinearProgress = __webpack_require__(\"6b1d\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/dialog/QDialog.js\nvar QDialog = __webpack_require__(\"24e8\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/card/QCard.js\nvar QCard = __webpack_require__(\"f09f\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/card/QCardSection.js\nvar QCardSection = __webpack_require__(\"a370\");\n\n// EXTERNAL MODULE: ./node_modules/@quasar/app/lib/webpack/runtime.auto-import.js\nvar runtime_auto_import = __webpack_require__(\"eebe\");\nvar runtime_auto_import_default = /*#__PURE__*/__webpack_require__.n(runtime_auto_import);\n\n// CONCATENATED MODULE: ./src/pages/juryPanel.vue\n\n\n\n\n\n/* normalize component */\n\nvar component = Object(componentNormalizer[\"a\" /* default */])(\n  pages_juryPanelvue_type_script_lang_js_,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* harmony default export */ var juryPanel = __webpack_exports__[\"default\"] = (component.exports);\n\n\n\n\n\n\n\n\n\n\nruntime_auto_import_default()(component, 'components', {QPage: QPage[\"a\" /* default */],QBtn: QBtn[\"a\" /* default */],QInput: QInput[\"a\" /* default */],QExpansionItem: QExpansionItem[\"a\" /* default */],QPageSticky: QPageSticky[\"a\" /* default */],QLinearProgress: QLinearProgress[\"a\" /* default */],QDialog: QDialog[\"a\" /* default */],QCard: QCard[\"a\" /* default */],QCardSection: QCardSection[\"a\" /* default */]});\n\n\n/***/ })\n\n}]);","inputSourceMap":null}