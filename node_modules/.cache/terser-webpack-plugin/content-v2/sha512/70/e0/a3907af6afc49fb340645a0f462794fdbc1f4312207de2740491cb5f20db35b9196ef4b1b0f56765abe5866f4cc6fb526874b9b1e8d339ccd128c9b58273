{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[24],{\"14cf\":function(t,e,a){\"use strict\";a.r(e);var i=function(){var t=this,e=t._self._c;return e(\"div\",[e(\"div\",{staticClass:\"text-center\"},[\"przeliczanie\"==t.q?e(\"q-circular-progress\",{attrs:{color:\"primary\",indeterminate:\"\"}}):e(\"div\",[t._v(t._s(t.q))])],1)])},r=[],n=a(\"3dfd\"),s={name:\"contributions.vue\",data(){return{quantityOnDate:this.createTodayDate(),q:0,local:n[\"default\"].host}},props:{uuid:{type:String,required:!0},date:{type:String,required:!0},refresh:{type:Boolean,required:!1,default:!1}},watch:{date(t,e){t!==e&&this.getCaliberQuantityOnDate(this.uuid,t)},refresh(t,e){t!==e&&this.getCaliberQuantityOnDate(this.uuid,this.date)}},created(){this.getCaliberQuantityOnDate(this.uuid,this.quantityOnDate)},methods:{getCaliberQuantityOnDate(t,e){this.q=\"przeliczanie\",fetch(`${this.local}/armory/caliberQuantity?uuid=${t}&date=${e}`,{method:\"GET\",headers:{\"Content-Type\":\"application/json\"}}).then((t=>{200===t.status?t.text().then((t=>{this.q=t})):this.q=\"błąd\"})).catch((()=>{this.q=\"błąd\"}))},createTodayDate(){const t=new Date;let e=0,a=0;return e=t.getMonth()+1<10?\"0\"+(t.getMonth()+1):t.getMonth()+1,a=t.getDate()<10?\"0\"+t.getDate():t.getDate(),t.getFullYear()+\"-\"+e+\"-\"+a}}},u=s,o=(a(\"f637\"),a(\"2877\")),d=a(\"58ea\"),c=a(\"eebe\"),h=a.n(c),l=Object(o[\"a\"])(u,i,r,!1,null,null,null);e[\"default\"]=l.exports;h()(l,\"components\",{QCircularProgress:d[\"a\"]})}}]);","name":"js/24.1afecd38.js","input":"(window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || []).push([[24],{\n\n/***/ \"14cf\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// CONCATENATED MODULE: ./node_modules/@quasar/app/lib/webpack/loader.transform-quasar-imports.js!./node_modules/babel-loader/lib??ref--2-0!./node_modules/vue-loader/lib/loaders/templateLoader.js??ref--7!./node_modules/@quasar/app/lib/webpack/loader.auto-import-client.js?kebab!./node_modules/vue-loader/lib??vue-loader-options!./src/components/armory/QuantityOnDate.vue?vue&type=template&id=31c5be08&\nvar render = function render() {\n  var _vm = this,\n    _c = _vm._self._c;\n  return _c('div', [_c('div', {\n    staticClass: \"text-center\"\n  }, [_vm.q == 'przeliczanie' ? _c('q-circular-progress', {\n    attrs: {\n      \"color\": \"primary\",\n      \"indeterminate\": \"\"\n    }\n  }) : _c('div', [_vm._v(_vm._s(_vm.q))])], 1)]);\n};\nvar staticRenderFns = [];\n\n// CONCATENATED MODULE: ./src/components/armory/QuantityOnDate.vue?vue&type=template&id=31c5be08&\n\n// EXTERNAL MODULE: ./src/App.vue + 4 modules\nvar App = __webpack_require__(\"3dfd\");\n\n// CONCATENATED MODULE: ./node_modules/@quasar/app/lib/webpack/loader.transform-quasar-imports.js!./node_modules/babel-loader/lib??ref--2-0!./node_modules/@quasar/app/lib/webpack/loader.auto-import-client.js?kebab!./node_modules/vue-loader/lib??vue-loader-options!./src/components/armory/QuantityOnDate.vue?vue&type=script&lang=js&\n\n/* harmony default export */ var QuantityOnDatevue_type_script_lang_js_ = ({\n  name: 'contributions.vue',\n  data() {\n    return {\n      quantityOnDate: this.createTodayDate(),\n      q: 0,\n      local: App[\"default\"].host\n    };\n  },\n  props: {\n    uuid: {\n      type: String,\n      required: true\n    },\n    date: {\n      type: String,\n      required: true\n    },\n    refresh: {\n      type: Boolean,\n      required: false,\n      default: false\n    }\n  },\n  watch: {\n    date(newValue, oldValue) {\n      if (newValue !== oldValue) {\n        this.getCaliberQuantityOnDate(this.uuid, newValue);\n      }\n    },\n    refresh(newValue, oldValue) {\n      if (newValue !== oldValue) {\n        this.getCaliberQuantityOnDate(this.uuid, this.date);\n      }\n    }\n  },\n  created() {\n    this.getCaliberQuantityOnDate(this.uuid, this.quantityOnDate);\n  },\n  methods: {\n    getCaliberQuantityOnDate(caliberUUID, date) {\n      this.q = 'przeliczanie';\n      fetch(`${this.local}/armory/caliberQuantity?uuid=${caliberUUID}&date=${date}`, {\n        method: 'GET',\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      }).then(response => {\n        if (response.status === 200) {\n          response.text().then(response => {\n            this.q = response;\n          });\n        } else {\n          this.q = 'błąd';\n        }\n      }).catch(() => {\n        this.q = 'błąd';\n      });\n    },\n    createTodayDate() {\n      const date = new Date();\n      let month = 0;\n      let day = 0;\n      if (date.getMonth() + 1 < 10) {\n        month = '0' + (date.getMonth() + 1);\n      } else {\n        month = date.getMonth() + 1;\n      }\n      if (date.getDate() < 10) {\n        day = '0' + date.getDate();\n      } else {\n        day = date.getDate();\n      }\n      return date.getFullYear() + '-' + month + '-' + day;\n    }\n  }\n});\n// CONCATENATED MODULE: ./src/components/armory/QuantityOnDate.vue?vue&type=script&lang=js&\n /* harmony default export */ var armory_QuantityOnDatevue_type_script_lang_js_ = (QuantityOnDatevue_type_script_lang_js_); \n// EXTERNAL MODULE: ./src/style/style.scss?vue&type=style&index=0&prod&lang=scss&\nvar stylevue_type_style_index_0_prod_lang_scss_ = __webpack_require__(\"f637\");\n\n// EXTERNAL MODULE: ./node_modules/vue-loader/lib/runtime/componentNormalizer.js\nvar componentNormalizer = __webpack_require__(\"2877\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/circular-progress/QCircularProgress.js\nvar QCircularProgress = __webpack_require__(\"58ea\");\n\n// EXTERNAL MODULE: ./node_modules/@quasar/app/lib/webpack/runtime.auto-import.js\nvar runtime_auto_import = __webpack_require__(\"eebe\");\nvar runtime_auto_import_default = /*#__PURE__*/__webpack_require__.n(runtime_auto_import);\n\n// CONCATENATED MODULE: ./src/components/armory/QuantityOnDate.vue\n\n\n\n\n\n\n/* normalize component */\n\nvar component = Object(componentNormalizer[\"a\" /* default */])(\n  armory_QuantityOnDatevue_type_script_lang_js_,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* harmony default export */ var QuantityOnDate = __webpack_exports__[\"default\"] = (component.exports);\n\n\nruntime_auto_import_default()(component, 'components', {QCircularProgress: QCircularProgress[\"a\" /* default */]});\n\n\n/***/ })\n\n}]);","inputSourceMap":null}