{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[18],{\"9dbc\":function(e,t,s){\"use strict\";s.r(t);s(\"caad\");var l=function(){var e=this,t=e._self._c;return t(\"div\",[e.access?e._e():t(\"div\",[t(\"q-input\",{attrs:{color:\"positive\",\"label-color\":\"positive\",\"input-class\":\"text-positive\",dense:\"\",label:\"wprowadź kod\",type:\"password\",mask:\"####\",filled:\"\"},on:{keypress:function(t){return!t.type.indexOf(\"key\")&&e._k(t.keyCode,\"enter\",13,t.key,\"Enter\")?null:e.getAccess(e.accessCode)}},model:{value:e.accessCode,callback:function(t){e.accessCode=t},expression:\"accessCode\"}}),t(\"q-item\",{attrs:{dense:\"\"}},[e._v(e._s(e.accessMessage))]),t(\"q-btn\",{attrs:{color:\"primary\",\"text-color\":\"white\",dense:\"\",label:\"wprowadź\"},on:{click:function(t){return e.getAccess(e.accessCode)}}})],1),e.access?t(\"div\",[t(\"div\",{staticClass:\"q-pa-md\"},[t(\"q-uploader\",{staticStyle:{\"max-width\":\"400px\"},attrs:{multiple:\"\",method:\"POST\",url:\"http://\"+e.local+\"/files/upload\",label:\"Dodaj plik\",accept:\".jpg, image/*\",\"field-name\":\"file\"},on:{rejected:e.onRejected,added:e.file_selected}})],1),t(\"div\",{staticClass:\"row reverse\"},[t(\"q-btn\",{staticStyle:{size:\"2em\"},attrs:{dense:\"\",label:\"wybierz\"},on:{click:function(t){e.showloading(),e.pageNumber=e.selectedPage-1,e.getAllFiles(e.pageNumber)}}}),t(\"q-input\",{attrs:{type:\"number\",min:\"1\",max:e.pagesMaxNumber,dense:\"\",label:\"idź do:\",\"stack-label\":\"\"},model:{value:e.selectedPage,callback:function(t){e.selectedPage=t},expression:\"selectedPage\"}})],1),t(\"div\",{staticClass:\"self-center text-bold text-center bg-grey-5 text-h6\"},[e._v(\"STRONA \"+e._s(e.pageNumber+1)+\" z \"+e._s(e.pagesMaxNumber))]),t(\"div\",{staticClass:\"row full-width bg-grey-5\"},[t(\"div\",{staticClass:\"self-center text-center col-1\"},[t(\"q-btn\",{staticClass:\"full-width text-black\",attrs:{icon:\"arrow_left\",disable:0===e.pageNumber,color:\"white\"},on:{click:function(t){e.showloading(),e.pageNumber=e.pageNumber-1,e.getAllFiles(e.pageNumber)}}})],1),t(\"div\",{staticClass:\"self-center text-bold text-center row col-3\"},[t(\"q-btn\",{staticClass:\"text-black col\",attrs:{color:\"white\",label:\"1\"},on:{click:function(t){e.pageNumber=0,e.showloading(),e.getAllFiles(0)}}}),t(\"q-btn\",{staticClass:\"text-black col\",attrs:{color:\"white\",label:\"5\"},on:{click:function(t){e.pageNumber=4,e.showloading(),e.getAllFiles(4)}}}),t(\"q-btn\",{staticClass:\"text-black col\",attrs:{color:\"white\",label:\"15\"},on:{click:function(t){e.pageNumber=14,e.showloading(),e.getAllFiles(14)}}})],1),t(\"div\",{staticClass:\"self-center text-bold text-center col\"},[t(\"q-btn\",{staticClass:\"text-black full-width\",attrs:{color:\"white\",label:Math.ceil(e.pagesMaxNumber/2)},on:{click:function(t){e.pageNumber=Math.ceil(e.pagesMaxNumber/2)-1,e.showloading(),e.getAllFiles(Math.ceil(e.pagesMaxNumber/2))}}})],1),t(\"div\",{staticClass:\"self-center text-bold text-center row col-3\"},[t(\"q-btn\",{staticClass:\"text-black col\",attrs:{color:\"white\",label:e.pagesMaxNumber-15},on:{click:function(t){e.pageNumber=e.pagesMaxNumber-16,e.showloading(),e.getAllFiles(e.pagesMaxNumber-16)}}}),t(\"q-btn\",{staticClass:\"text-black col\",attrs:{color:\"white\",label:e.pagesMaxNumber-5},on:{click:function(t){e.pageNumber=e.pagesMaxNumber-6,e.showloading(),e.getAllFiles(e.pagesMaxNumber-6)}}}),t(\"q-btn\",{staticClass:\"text-black col\",attrs:{color:\"white\",label:e.pagesMaxNumber},on:{click:function(t){e.pageNumber=e.pagesMaxNumber-1,e.showloading(),e.getAllFiles(e.pagesMaxNumber-1)}}})],1),t(\"div\",{staticClass:\"self-center text-center col-1\"},[t(\"q-btn\",{staticClass:\"full-width text-black\",attrs:{icon:\"arrow_right\",disabled:50!==e.files.length,color:\"white\"},on:{click:function(t){e.showloading(),e.pageNumber=50===e.files.length?e.pageNumber+1:e.pageNumber,e.getAllFiles(e.pageNumber)}}})],1)]),e._m(0),t(\"q-virtual-scroll\",{staticClass:\"full-width text-positive\",staticStyle:{height:\"80vh\"},attrs:{items:e.files,dense:\"\",visible:\"\"},scopedSlots:e._u([{key:\"default\",fn:function({item:s,index:l}){return[t(\"div\",{key:l},[t(\"div\",{staticClass:\"self-center col text-bold text-center q-pa-xs row hover1\"},[s.type.includes(\"image\")?t(\"q-tooltip\",{attrs:{delay:750,anchor:\"center middle\",self:\"center middle\",\"transition-show\":\"scale\",\"transition-hide\":\"scale\",\"content-style\":\"width: 30%; height: 70%\"},on:{hide:function(t){e.url=\"\"},\"before-show\":function(t){e.getUrl(s.uuid)}}},[t(\"q-img\",{staticStyle:{height:\"100%\",width:\"100%\"},attrs:{src:e.url,\"spinner-color\":\"white\"}})],1):e._e(),t(\"div\",{staticClass:\"col-5 self-center text-bold text-justify\"},[e._v(e._s(l+1+50*e.pageNumber)+\" \"+e._s(s.name))]),t(\"div\",{staticClass:\"col-1 self-center text-bold text-center\"},[e._v(e._s(s.date))]),t(\"div\",{staticClass:\"col-1 self-center text-bold text-center\"},[e._v(e._s(s.time))]),t(\"div\",{staticClass:\"col-1 self-center text-bold text-center\"},[e._v(e._s(Math.round(s.size/1024).toFixed(0)))]),t(\"div\",{staticClass:\"col-2 self-center text-bold text-center\"},[e._v(e._s(s.type))]),t(\"div\",{staticClass:\"col-2 q-pa-xs self-center text-center\"},[t(\"q-btn\",{attrs:{color:\"primary\",dense:\"\"},on:{click:function(t){e.showloading(),e.fileName=s.name,e.getFile(s.uuid)}}},[e._v(\"pobierz plik\")])],1)],1)])]}}],null,!1,2963894714)}),t(\"q-dialog\",{attrs:{position:\"top\"},on:{keypress:function(t){if(!t.type.indexOf(\"key\")&&e._k(t.keyCode,\"enter\",13,t.key,\"Enter\"))return null;e.success=!1}},model:{value:e.success,callback:function(t){e.success=t},expression:\"success\"}},[t(\"q-card\",[t(\"q-card-section\",[null!=e.message?t(\"div\",{staticClass:\"text-h6\"},[e._v(e._s(e.message))]):e._e()])],1)],1),t(\"q-dialog\",{attrs:{position:\"standard\"},on:{keypress:function(t){if(!t.type.indexOf(\"key\")&&e._k(t.keyCode,\"enter\",13,t.key,\"Enter\"))return null;e.failure=!1}},model:{value:e.failure,callback:function(t){e.failure=t},expression:\"failure\"}},[t(\"q-card\",{staticClass:\"bg-warning\"},[t(\"q-card-section\",[t(\"div\",{staticClass:\"text-h6\"},[e._v(e._s(e.message))])])],1)],1)],1):e._e()])},a=[function(){var e=this,t=e._self._c;return t(\"div\",{staticClass:\"row text-positive q-pa-md\"},[t(\"div\",{staticClass:\"self-center col row text-bold text-center\",attrs:{color:\"positive\"}},[t(\"div\",{staticClass:\"col-5 self-center text-bold text-left\"},[e._v(\"Nazwa pliku\")]),t(\"div\",{staticClass:\"col-1 self-center text-bold text-center\"},[e._v(\"Data utworzenia\")]),t(\"div\",{staticClass:\"col-1 self-center text-bold text-center\"},[e._v(\"Godzina utworzenia\")]),t(\"div\",{staticClass:\"col-1 self-center text-bold text-center\"},[e._v(\"Rozmiar KB\")]),t(\"div\",{staticClass:\"col-2 self-center text-bold text-center\"},[e._v(\"Typ\")]),t(\"div\",{staticClass:\"col-2 self-center text-center\"},[t(\"div\",[e._v(\"Pobierz plik\")])])])])}],i=(s(\"2b3d\"),s(\"9861\"),s(\"bc3a\")),c=s.n(i),o=s(\"3dfd\"),n={name:\"Files.vue\",created(){this.countPages()},data(){return{access:!1,accessCode:\"\",files:[],pageNumber:0,selectedPage:1,url:\"\",fileName:\"\",accessMessage:\"\",selected_file:\"\",pagesMaxNumber:0,message:null,failure:!1,success:!1,visible:!1,local:o[\"default\"].host}},methods:{showloading(){this.$q.loading.show({message:\"Dzieje się coś ważnego... Poczekaj\"});let e=200;this.timer=setTimeout((()=>{this.visible?e=200:(this.$q.loading.hide(),this.timer=0)}),e)},countPages(){fetch(\"http://\"+this.local+\"/files/countPages\",{method:\"GET\"}).then((e=>e.json())).then((e=>{this.pagesMaxNumber=e}))},getAccess(e){fetch(\"http://\"+this.local+\"/users/getAccess?pinCode=\"+e,{method:\"GET\",headers:{\"Content-Type\":\"application/json\"}}).then((e=>{200===e.status?e.text().then((e=>{this.getAllFiles(this.pageNumber),this.accessMessage=e,this.access=!0})):e.text().then((e=>{this.message=e,this.accessMessage=e}))}))},getAllFiles(e){e<0&&(this.pageNumber=0),fetch(\"http://\"+this.local+\"/files/getAllFiles?page=\"+e+\"&size=50\",{method:\"GET\"}).then((e=>e.json())).then((e=>{this.files=e,this.visible=!1}))},getFile(e){c()({url:\"http://\"+this.local+\"/files/getFile?uuid=\"+e,method:\"GET\",responseType:\"blob\"}).then((e=>{const t=window.URL.createObjectURL(new Blob([e.data])),s=document.createElement(\"a\");s.href=t,s.setAttribute(\"download\",this.fileName),document.body.appendChild(s),s.click()}))},deleteFile(e){fetch(\"http://\"+this.local+\"/files/deleteFile?uuid=\"+e,{method:\"DELETE\"}).then((e=>{200===e.status?e.text().then((e=>{this.message=e,this.success=!0,this.getAllFiles(),this.autoClose()})):e.text().then((e=>{this.message=e,this.failure=!0,this.autoClose()}))}))},getUrl(e){c()({url:\"http://\"+this.local+\"/files/getFile?uuid=\"+e,method:\"GET\",responseType:\"blob\"}).then((e=>{this.url=window.URL.createObjectURL(new Blob([e.data]))}))},onRejected(){this.message=\"Coś poszło nie tak\",this.failure=!0,this.autoClose()},file_selected(e){this.selected_file=e[0]},autoClose(){setTimeout((()=>{this.failure=!1,this.message=null,this.success=!1}),1500)}}},r=n,d=s(\"2877\"),u=s(\"27f9\"),h=s(\"66e5\"),b=s(\"9c40\"),g=s(\"ee89\"),p=s(\"a12b\"),f=s(\"05c0\"),m=s(\"068f\"),x=s(\"24e8\"),v=s(\"f09f\"),w=s(\"a370\"),C=s(\"eebe\"),k=s.n(C),_=Object(d[\"a\"])(r,l,a,!1,null,\"f57af86c\",null);t[\"default\"]=_.exports;k()(_,\"components\",{QInput:u[\"a\"],QItem:h[\"a\"],QBtn:b[\"a\"],QUploader:g[\"a\"],QVirtualScroll:p[\"a\"],QTooltip:f[\"a\"],QImg:m[\"a\"],QDialog:x[\"a\"],QCard:v[\"a\"],QCardSection:w[\"a\"]})}}]);","name":"js/18.0ce8928a.js","input":"(window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || []).push([[18],{\n\n/***/ \"9dbc\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.includes.js\nvar es_array_includes = __webpack_require__(\"caad\");\n\n// CONCATENATED MODULE: ./node_modules/@quasar/app/lib/webpack/loader.transform-quasar-imports.js!./node_modules/babel-loader/lib??ref--2-0!./node_modules/vue-loader/lib/loaders/templateLoader.js??ref--7!./node_modules/@quasar/app/lib/webpack/loader.auto-import-client.js?kebab!./node_modules/vue-loader/lib??vue-loader-options!./src/components/Files.vue?vue&type=template&id=f57af86c&scoped=true&\n\nvar render = function render() {\n  var _vm = this,\n    _c = _vm._self._c;\n  return _c('div', [!_vm.access ? _c('div', [_c('q-input', {\n    attrs: {\n      \"color\": \"positive\",\n      \"label-color\": \"positive\",\n      \"input-class\": \"text-positive\",\n      \"dense\": \"\",\n      \"label\": \"wprowadź kod\",\n      \"type\": \"password\",\n      \"mask\": \"####\",\n      \"filled\": \"\"\n    },\n    on: {\n      \"keypress\": function ($event) {\n        if (!$event.type.indexOf('key') && _vm._k($event.keyCode, \"enter\", 13, $event.key, \"Enter\")) return null;\n        return _vm.getAccess(_vm.accessCode);\n      }\n    },\n    model: {\n      value: _vm.accessCode,\n      callback: function ($$v) {\n        _vm.accessCode = $$v;\n      },\n      expression: \"accessCode\"\n    }\n  }), _c('q-item', {\n    attrs: {\n      \"dense\": \"\"\n    }\n  }, [_vm._v(_vm._s(_vm.accessMessage))]), _c('q-btn', {\n    attrs: {\n      \"color\": \"primary\",\n      \"text-color\": \"white\",\n      \"dense\": \"\",\n      \"label\": \"wprowadź\"\n    },\n    on: {\n      \"click\": function ($event) {\n        return _vm.getAccess(_vm.accessCode);\n      }\n    }\n  })], 1) : _vm._e(), _vm.access ? _c('div', [_c('div', {\n    staticClass: \"q-pa-md\"\n  }, [_c('q-uploader', {\n    staticStyle: {\n      \"max-width\": \"400px\"\n    },\n    attrs: {\n      \"multiple\": \"\",\n      \"method\": \"POST\",\n      \"url\": 'http://' + _vm.local + '/files/upload',\n      \"label\": \"Dodaj plik\",\n      \"accept\": \".jpg, image/*\",\n      \"field-name\": \"file\"\n    },\n    on: {\n      \"rejected\": _vm.onRejected,\n      \"added\": _vm.file_selected\n    }\n  })], 1), _c('div', {\n    staticClass: \"row reverse\"\n  }, [_c('q-btn', {\n    staticStyle: {\n      \"size\": \"2em\"\n    },\n    attrs: {\n      \"dense\": \"\",\n      \"label\": \"wybierz\"\n    },\n    on: {\n      \"click\": function ($event) {\n        _vm.showloading();\n        _vm.pageNumber = _vm.selectedPage - 1;\n        _vm.getAllFiles(_vm.pageNumber);\n      }\n    }\n  }), _c('q-input', {\n    attrs: {\n      \"type\": \"number\",\n      \"min\": \"1\",\n      \"max\": _vm.pagesMaxNumber,\n      \"dense\": \"\",\n      \"label\": \"idź do:\",\n      \"stack-label\": \"\"\n    },\n    model: {\n      value: _vm.selectedPage,\n      callback: function ($$v) {\n        _vm.selectedPage = $$v;\n      },\n      expression: \"selectedPage\"\n    }\n  })], 1), _c('div', {\n    staticClass: \"self-center text-bold text-center bg-grey-5 text-h6\"\n  }, [_vm._v(\"STRONA \" + _vm._s(_vm.pageNumber + 1) + \" z \" + _vm._s(_vm.pagesMaxNumber))]), _c('div', {\n    staticClass: \"row full-width bg-grey-5\"\n  }, [_c('div', {\n    staticClass: \"self-center text-center col-1\"\n  }, [_c('q-btn', {\n    staticClass: \"full-width text-black\",\n    attrs: {\n      \"icon\": \"arrow_left\",\n      \"disable\": _vm.pageNumber === 0,\n      \"color\": \"white\"\n    },\n    on: {\n      \"click\": function ($event) {\n        _vm.showloading();\n        _vm.pageNumber = _vm.pageNumber - 1;\n        _vm.getAllFiles(_vm.pageNumber);\n      }\n    }\n  })], 1), _c('div', {\n    staticClass: \"self-center text-bold text-center row col-3\"\n  }, [_c('q-btn', {\n    staticClass: \"text-black col\",\n    attrs: {\n      \"color\": \"white\",\n      \"label\": \"1\"\n    },\n    on: {\n      \"click\": function ($event) {\n        _vm.pageNumber = 0, _vm.showloading(), _vm.getAllFiles(0);\n      }\n    }\n  }), _c('q-btn', {\n    staticClass: \"text-black col\",\n    attrs: {\n      \"color\": \"white\",\n      \"label\": \"5\"\n    },\n    on: {\n      \"click\": function ($event) {\n        _vm.pageNumber = 4, _vm.showloading(), _vm.getAllFiles(4);\n      }\n    }\n  }), _c('q-btn', {\n    staticClass: \"text-black col\",\n    attrs: {\n      \"color\": \"white\",\n      \"label\": \"15\"\n    },\n    on: {\n      \"click\": function ($event) {\n        _vm.pageNumber = 14, _vm.showloading(), _vm.getAllFiles(14);\n      }\n    }\n  })], 1), _c('div', {\n    staticClass: \"self-center text-bold text-center col\"\n  }, [_c('q-btn', {\n    staticClass: \"text-black full-width\",\n    attrs: {\n      \"color\": \"white\",\n      \"label\": Math.ceil(_vm.pagesMaxNumber / 2)\n    },\n    on: {\n      \"click\": function ($event) {\n        _vm.pageNumber = Math.ceil(_vm.pagesMaxNumber / 2) - 1, _vm.showloading(), _vm.getAllFiles(Math.ceil(_vm.pagesMaxNumber / 2));\n      }\n    }\n  })], 1), _c('div', {\n    staticClass: \"self-center text-bold text-center row col-3\"\n  }, [_c('q-btn', {\n    staticClass: \"text-black col\",\n    attrs: {\n      \"color\": \"white\",\n      \"label\": _vm.pagesMaxNumber - 15\n    },\n    on: {\n      \"click\": function ($event) {\n        _vm.pageNumber = _vm.pagesMaxNumber - 16, _vm.showloading(), _vm.getAllFiles(_vm.pagesMaxNumber - 16);\n      }\n    }\n  }), _c('q-btn', {\n    staticClass: \"text-black col\",\n    attrs: {\n      \"color\": \"white\",\n      \"label\": _vm.pagesMaxNumber - 5\n    },\n    on: {\n      \"click\": function ($event) {\n        _vm.pageNumber = _vm.pagesMaxNumber - 6, _vm.showloading(), _vm.getAllFiles(_vm.pagesMaxNumber - 6);\n      }\n    }\n  }), _c('q-btn', {\n    staticClass: \"text-black col\",\n    attrs: {\n      \"color\": \"white\",\n      \"label\": _vm.pagesMaxNumber\n    },\n    on: {\n      \"click\": function ($event) {\n        _vm.pageNumber = _vm.pagesMaxNumber - 1, _vm.showloading(), _vm.getAllFiles(_vm.pagesMaxNumber - 1);\n      }\n    }\n  })], 1), _c('div', {\n    staticClass: \"self-center text-center col-1\"\n  }, [_c('q-btn', {\n    staticClass: \"full-width text-black\",\n    attrs: {\n      \"icon\": \"arrow_right\",\n      \"disabled\": _vm.files.length !== 50,\n      \"color\": \"white\"\n    },\n    on: {\n      \"click\": function ($event) {\n        _vm.showloading();\n        _vm.pageNumber = _vm.files.length === 50 ? _vm.pageNumber + 1 : _vm.pageNumber;\n        _vm.getAllFiles(_vm.pageNumber);\n      }\n    }\n  })], 1)]), _vm._m(0), _c('q-virtual-scroll', {\n    staticClass: \"full-width text-positive\",\n    staticStyle: {\n      \"height\": \"80vh\"\n    },\n    attrs: {\n      \"items\": _vm.files,\n      \"dense\": \"\",\n      \"visible\": \"\"\n    },\n    scopedSlots: _vm._u([{\n      key: \"default\",\n      fn: function ({\n        item,\n        index\n      }) {\n        return [_c('div', {\n          key: index\n        }, [_c('div', {\n          staticClass: \"self-center col text-bold text-center q-pa-xs row hover1\"\n        }, [item.type.includes('image') ? _c('q-tooltip', {\n          attrs: {\n            \"delay\": 750,\n            \"anchor\": \"center middle\",\n            \"self\": \"center middle\",\n            \"transition-show\": \"scale\",\n            \"transition-hide\": \"scale\",\n            \"content-style\": \"width: 30%; height: 70%\"\n          },\n          on: {\n            \"hide\": function ($event) {\n              _vm.url = '';\n            },\n            \"before-show\": function ($event) {\n              _vm.getUrl(item.uuid);\n            }\n          }\n        }, [_c('q-img', {\n          staticStyle: {\n            \"height\": \"100%\",\n            \"width\": \"100%\"\n          },\n          attrs: {\n            \"src\": _vm.url,\n            \"spinner-color\": \"white\"\n          }\n        })], 1) : _vm._e(), _c('div', {\n          staticClass: \"col-5 self-center text-bold text-justify\"\n        }, [_vm._v(_vm._s(index + 1 + _vm.pageNumber * 50) + \" \" + _vm._s(item.name))]), _c('div', {\n          staticClass: \"col-1 self-center text-bold text-center\"\n        }, [_vm._v(_vm._s(item.date))]), _c('div', {\n          staticClass: \"col-1 self-center text-bold text-center\"\n        }, [_vm._v(_vm._s(item.time))]), _c('div', {\n          staticClass: \"col-1 self-center text-bold text-center\"\n        }, [_vm._v(_vm._s(Math.round(item.size / 1024).toFixed(0)))]), _c('div', {\n          staticClass: \"col-2 self-center text-bold text-center\"\n        }, [_vm._v(_vm._s(item.type))]), _c('div', {\n          staticClass: \"col-2 q-pa-xs self-center text-center\"\n        }, [_c('q-btn', {\n          attrs: {\n            \"color\": \"primary\",\n            \"dense\": \"\"\n          },\n          on: {\n            \"click\": function ($event) {\n              _vm.showloading();\n              _vm.fileName = item.name;\n              _vm.getFile(item.uuid);\n            }\n          }\n        }, [_vm._v(\"pobierz plik\")])], 1)], 1)])];\n      }\n    }], null, false, 2963894714)\n  }), _c('q-dialog', {\n    attrs: {\n      \"position\": \"top\"\n    },\n    on: {\n      \"keypress\": function ($event) {\n        if (!$event.type.indexOf('key') && _vm._k($event.keyCode, \"enter\", 13, $event.key, \"Enter\")) return null;\n        _vm.success = false;\n      }\n    },\n    model: {\n      value: _vm.success,\n      callback: function ($$v) {\n        _vm.success = $$v;\n      },\n      expression: \"success\"\n    }\n  }, [_c('q-card', [_c('q-card-section', [_vm.message != null ? _c('div', {\n    staticClass: \"text-h6\"\n  }, [_vm._v(_vm._s(_vm.message))]) : _vm._e()])], 1)], 1), _c('q-dialog', {\n    attrs: {\n      \"position\": \"standard\"\n    },\n    on: {\n      \"keypress\": function ($event) {\n        if (!$event.type.indexOf('key') && _vm._k($event.keyCode, \"enter\", 13, $event.key, \"Enter\")) return null;\n        _vm.failure = false;\n      }\n    },\n    model: {\n      value: _vm.failure,\n      callback: function ($$v) {\n        _vm.failure = $$v;\n      },\n      expression: \"failure\"\n    }\n  }, [_c('q-card', {\n    staticClass: \"bg-warning\"\n  }, [_c('q-card-section', [_c('div', {\n    staticClass: \"text-h6\"\n  }, [_vm._v(_vm._s(_vm.message))])])], 1)], 1)], 1) : _vm._e()]);\n};\nvar staticRenderFns = [function () {\n  var _vm = this,\n    _c = _vm._self._c;\n  return _c('div', {\n    staticClass: \"row text-positive q-pa-md\"\n  }, [_c('div', {\n    staticClass: \"self-center col row text-bold text-center\",\n    attrs: {\n      \"color\": \"positive\"\n    }\n  }, [_c('div', {\n    staticClass: \"col-5 self-center text-bold text-left\"\n  }, [_vm._v(\"Nazwa pliku\")]), _c('div', {\n    staticClass: \"col-1 self-center text-bold text-center\"\n  }, [_vm._v(\"Data utworzenia\")]), _c('div', {\n    staticClass: \"col-1 self-center text-bold text-center\"\n  }, [_vm._v(\"Godzina utworzenia\")]), _c('div', {\n    staticClass: \"col-1 self-center text-bold text-center\"\n  }, [_vm._v(\"Rozmiar KB\")]), _c('div', {\n    staticClass: \"col-2 self-center text-bold text-center\"\n  }, [_vm._v(\"Typ\")]), _c('div', {\n    staticClass: \"col-2 self-center text-center\"\n  }, [_c('div', [_vm._v(\"Pobierz plik\")])])])]);\n}];\n\n// CONCATENATED MODULE: ./src/components/Files.vue?vue&type=template&id=f57af86c&scoped=true&\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/web.url.js\nvar web_url = __webpack_require__(\"2b3d\");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/web.url-search-params.js\nvar web_url_search_params = __webpack_require__(\"9861\");\n\n// EXTERNAL MODULE: ./node_modules/axios/index.js\nvar axios = __webpack_require__(\"bc3a\");\nvar axios_default = /*#__PURE__*/__webpack_require__.n(axios);\n\n// EXTERNAL MODULE: ./src/App.vue + 4 modules\nvar App = __webpack_require__(\"3dfd\");\n\n// CONCATENATED MODULE: ./node_modules/@quasar/app/lib/webpack/loader.transform-quasar-imports.js!./node_modules/babel-loader/lib??ref--2-0!./node_modules/@quasar/app/lib/webpack/loader.auto-import-client.js?kebab!./node_modules/vue-loader/lib??vue-loader-options!./src/components/Files.vue?vue&type=script&lang=js&\n\n\n\n\n/* harmony default export */ var Filesvue_type_script_lang_js_ = ({\n  name: 'Files.vue',\n  created() {\n    this.countPages();\n  },\n  data() {\n    return {\n      access: false,\n      accessCode: '',\n      files: [],\n      pageNumber: 0,\n      selectedPage: 1,\n      url: '',\n      fileName: '',\n      accessMessage: '',\n      selected_file: '',\n      pagesMaxNumber: 0,\n      message: null,\n      failure: false,\n      success: false,\n      visible: false,\n      local: App[\"default\"].host\n    };\n  },\n  methods: {\n    showloading() {\n      this.$q.loading.show({\n        message: 'Dzieje się coś ważnego... Poczekaj'\n      });\n      let time = 200;\n      this.timer = setTimeout(() => {\n        if (!this.visible) {\n          this.$q.loading.hide();\n          this.timer = 0;\n        } else {\n          time = 200;\n        }\n      }, time);\n    },\n    countPages() {\n      fetch('http://' + this.local + '/files/countPages', {\n        method: 'GET'\n      }).then(response => response.json()).then(response => {\n        this.pagesMaxNumber = response;\n      });\n    },\n    getAccess(accessCode) {\n      fetch('http://' + this.local + '/users/getAccess?pinCode=' + accessCode, {\n        method: 'GET',\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      }).then(response => {\n        if (response.status === 200) {\n          response.text().then(response => {\n            this.getAllFiles(this.pageNumber);\n            this.accessMessage = response;\n            this.access = true;\n          });\n        } else {\n          response.text().then(response => {\n            this.message = response;\n            this.accessMessage = response;\n          });\n        }\n      });\n    },\n    getAllFiles(pageNumber) {\n      if (pageNumber < 0) {\n        this.pageNumber = 0;\n      }\n      fetch('http://' + this.local + '/files/getAllFiles?page=' + pageNumber + '&size=50', {\n        method: 'GET'\n      }).then(response => response.json()).then(response => {\n        this.files = response;\n        this.visible = false;\n      });\n    },\n    getFile(uuid) {\n      axios_default()({\n        url: 'http://' + this.local + '/files/getFile?uuid=' + uuid,\n        method: 'GET',\n        responseType: 'blob'\n      }).then(response => {\n        const fileURL = window.URL.createObjectURL(new Blob([response.data]));\n        const fileLink = document.createElement('a');\n        fileLink.href = fileURL;\n        fileLink.setAttribute('download', this.fileName);\n        document.body.appendChild(fileLink);\n        fileLink.click();\n      });\n    },\n    deleteFile(uuid) {\n      fetch('http://' + this.local + '/files/deleteFile?uuid=' + uuid, {\n        method: 'DELETE'\n      }).then(response => {\n        if (response.status === 200) {\n          response.text().then(response => {\n            this.message = response;\n            this.success = true;\n            this.getAllFiles();\n            this.autoClose();\n          });\n        } else {\n          response.text().then(response => {\n            this.message = response;\n            this.failure = true;\n            this.autoClose();\n          });\n        }\n      });\n    },\n    getUrl(uuid) {\n      axios_default()({\n        url: 'http://' + this.local + '/files/getFile?uuid=' + uuid,\n        method: 'GET',\n        responseType: 'blob'\n      }).then(response => {\n        this.url = window.URL.createObjectURL(new Blob([response.data]));\n      });\n    },\n    onRejected() {\n      this.message = 'Coś poszło nie tak';\n      this.failure = true;\n      this.autoClose();\n    },\n    file_selected(file) {\n      this.selected_file = file[0];\n    },\n    autoClose() {\n      setTimeout(() => {\n        this.failure = false;\n        this.message = null;\n        this.success = false;\n      }, 1500);\n    }\n  }\n});\n// CONCATENATED MODULE: ./src/components/Files.vue?vue&type=script&lang=js&\n /* harmony default export */ var components_Filesvue_type_script_lang_js_ = (Filesvue_type_script_lang_js_); \n// EXTERNAL MODULE: ./node_modules/vue-loader/lib/runtime/componentNormalizer.js\nvar componentNormalizer = __webpack_require__(\"2877\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/input/QInput.js + 1 modules\nvar QInput = __webpack_require__(\"27f9\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/item/QItem.js\nvar QItem = __webpack_require__(\"66e5\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/btn/QBtn.js\nvar QBtn = __webpack_require__(\"9c40\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/uploader/QUploader.js + 2 modules\nvar QUploader = __webpack_require__(\"ee89\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/virtual-scroll/QVirtualScroll.js + 2 modules\nvar QVirtualScroll = __webpack_require__(\"a12b\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/tooltip/QTooltip.js\nvar QTooltip = __webpack_require__(\"05c0\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/img/QImg.js + 1 modules\nvar QImg = __webpack_require__(\"068f\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/dialog/QDialog.js\nvar QDialog = __webpack_require__(\"24e8\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/card/QCard.js\nvar QCard = __webpack_require__(\"f09f\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/card/QCardSection.js\nvar QCardSection = __webpack_require__(\"a370\");\n\n// EXTERNAL MODULE: ./node_modules/@quasar/app/lib/webpack/runtime.auto-import.js\nvar runtime_auto_import = __webpack_require__(\"eebe\");\nvar runtime_auto_import_default = /*#__PURE__*/__webpack_require__.n(runtime_auto_import);\n\n// CONCATENATED MODULE: ./src/components/Files.vue\n\n\n\n\n\n/* normalize component */\n\nvar component = Object(componentNormalizer[\"a\" /* default */])(\n  components_Filesvue_type_script_lang_js_,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f57af86c\",\n  null\n  \n)\n\n/* harmony default export */ var Files = __webpack_exports__[\"default\"] = (component.exports);\n\n\n\n\n\n\n\n\n\n\n\nruntime_auto_import_default()(component, 'components', {QInput: QInput[\"a\" /* default */],QItem: QItem[\"a\" /* default */],QBtn: QBtn[\"a\" /* default */],QUploader: QUploader[\"a\" /* default */],QVirtualScroll: QVirtualScroll[\"a\" /* default */],QTooltip: QTooltip[\"a\" /* default */],QImg: QImg[\"a\" /* default */],QDialog: QDialog[\"a\" /* default */],QCard: QCard[\"a\" /* default */],QCardSection: QCardSection[\"a\" /* default */]});\n\n\n/***/ })\n\n}]);","inputSourceMap":null}